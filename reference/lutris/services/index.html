
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lutris desktop client in Python / PyGObject.">
      
      
      
        <link rel="canonical" href="https://lutris.github.io/lutris/reference/lutris/services/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.5">
    
    
      
        <title>Index - Lutris</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lutris.services" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Lutris" class="md-header__button md-logo" aria-label="Lutris" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lutris
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Index
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/lutris/lutris/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lutris/lutris
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../wiki/Home/" class="md-tabs__link">
        Wiki
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Reference
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../contributing/" class="md-tabs__link">
        Development
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Lutris" class="md-nav__button md-logo" aria-label="Lutris" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Lutris
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lutris/lutris/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lutris/lutris
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../credits/" class="md-nav__link">
        Credits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Wiki
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Wiki" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Wiki
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wiki/Home/" class="md-nav__link">
        Home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Apitracing/" class="md-nav__link">
        Apitracing a game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Battle.Net/" class="md-nav__link">
        Battle.Net
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/HowToDXVK/" class="md-nav__link">
        What is DXVK?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/HowToEsync/" class="md-nav__link">
        What is Esync?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/InstallingDrivers/" class="md-nav__link">
        InstallingDrivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/LutrisRuntime/" class="md-nav__link">
        LutrisRuntime
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Origin/" class="md-nav__link">
        Origin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Overwatch/" class="md-nav__link">
        Overwatch on Linux (Wine)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Performance-Tweaks/" class="md-nav__link">
        Performance Tweaks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/PressureVesselResearch/" class="md-nav__link">
        Pressure Vessel Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/ProvidingLogs%26SystemInfo/" class="md-nav__link">
        What we need to help you (TLDR):
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/RetroArch/" class="md-nav__link">
        RetroArch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WineBuilds/" class="md-nav__link">
        Wine Builds
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WineDependencies/" class="md-nav__link">
        WineDependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WorldOfWarcraft/" class="md-nav__link">
        World of Warcraft
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/titanfall-2/" class="md-nav__link">
        Titanfall 2 on Linux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          lutris
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="lutris" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          lutris
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cache/" class="md-nav__link">
        cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../command/" class="md-nav__link">
        command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6" type="checkbox" id="__nav_3_1_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_6">
          database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="database" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_6">
          <span class="md-nav__icon md-icon"></span>
          database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/categories/" class="md-nav__link">
        categories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/games/" class="md-nav__link">
        games
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/schema/" class="md-nav__link">
        schema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/services/" class="md-nav__link">
        services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/sources/" class="md-nav__link">
        sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/sql/" class="md-nav__link">
        sql
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../discord/" class="md-nav__link">
        discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../game/" class="md-nav__link">
        game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../game_actions/" class="md-nav__link">
        game_actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11" type="checkbox" id="__nav_3_1_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11">
          gui
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="gui" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_11">
          <span class="md-nav__icon md-icon"></span>
          gui
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/addgameswindow/" class="md-nav__link">
        addgameswindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/application/" class="md-nav__link">
        application
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_4" type="checkbox" id="__nav_3_1_11_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_4">
          config
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="config" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_4">
          <span class="md-nav__icon md-icon"></span>
          config
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/add_game/" class="md-nav__link">
        add_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/base_config_box/" class="md-nav__link">
        base_config_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/boxes/" class="md-nav__link">
        boxes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/common/" class="md-nav__link">
        common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/edit_game/" class="md-nav__link">
        edit_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/preferences_box/" class="md-nav__link">
        preferences_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/preferences_dialog/" class="md-nav__link">
        preferences_dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runner/" class="md-nav__link">
        runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runner_box/" class="md-nav__link">
        runner_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runners_box/" class="md-nav__link">
        runners_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/services_box/" class="md-nav__link">
        services_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/sysinfo_box/" class="md-nav__link">
        sysinfo_box
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_5" type="checkbox" id="__nav_3_1_11_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_5">
          dialogs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="dialogs" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_5">
          <span class="md-nav__icon md-icon"></span>
          dialogs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/cache/" class="md-nav__link">
        cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/download/" class="md-nav__link">
        download
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/issue/" class="md-nav__link">
        issue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/runner_install/" class="md-nav__link">
        runner_install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/uninstall_game/" class="md-nav__link">
        uninstall_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/webconnect_dialog/" class="md-nav__link">
        webconnect_dialog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_6" type="checkbox" id="__nav_3_1_11_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_6">
          installer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="installer" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_6">
          <span class="md-nav__icon md-icon"></span>
          installer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/file_box/" class="md-nav__link">
        file_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/files_box/" class="md-nav__link">
        files_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/script_box/" class="md-nav__link">
        script_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/script_picker/" class="md-nav__link">
        script_picker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/widgets/" class="md-nav__link">
        widgets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installerwindow/" class="md-nav__link">
        installerwindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/lutriswindow/" class="md-nav__link">
        lutriswindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_9" type="checkbox" id="__nav_3_1_11_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_9">
          views
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="views" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_9">
          <span class="md-nav__icon md-icon"></span>
          views
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/grid/" class="md-nav__link">
        grid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/list/" class="md-nav__link">
        list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/media_loader/" class="md-nav__link">
        media_loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/store/" class="md-nav__link">
        store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/store_item/" class="md-nav__link">
        store_item
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_10" type="checkbox" id="__nav_3_1_11_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_10">
          widgets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="widgets" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_10">
          <span class="md-nav__icon md-icon"></span>
          widgets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/cellrenderers/" class="md-nav__link">
        cellrenderers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/common/" class="md-nav__link">
        common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/contextual_menu/" class="md-nav__link">
        contextual_menu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/download_progress_box/" class="md-nav__link">
        download_progress_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/game_bar/" class="md-nav__link">
        game_bar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/gi_composites/" class="md-nav__link">
        gi_composites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/log_text_view/" class="md-nav__link">
        log_text_view
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/notifications/" class="md-nav__link">
        notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/searchable_combobox/" class="md-nav__link">
        searchable_combobox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/sidebar/" class="md-nav__link">
        sidebar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/status_icon/" class="md-nav__link">
        status_icon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/window/" class="md-nav__link">
        window
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_12" type="checkbox" id="__nav_3_1_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_12">
          installer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="installer" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_12">
          <span class="md-nav__icon md-icon"></span>
          installer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/errors/" class="md-nav__link">
        errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/installer/" class="md-nav__link">
        installer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/installer_file/" class="md-nav__link">
        installer_file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/interpreter/" class="md-nav__link">
        interpreter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/legacy/" class="md-nav__link">
        legacy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/steam_installer/" class="md-nav__link">
        steam_installer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_13" type="checkbox" id="__nav_3_1_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_13">
          migrations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="migrations" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_13">
          <span class="md-nav__icon md-icon"></span>
          migrations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/mess_to_mame/" class="md-nav__link">
        mess_to_mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_banners/" class="md-nav__link">
        migrate_banners
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_hidden_ids/" class="md-nav__link">
        migrate_hidden_ids
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_steam_appids/" class="md-nav__link">
        migrate_steam_appids
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runner_interpreter/" class="md-nav__link">
        runner_interpreter
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_15" type="checkbox" id="__nav_3_1_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_15">
          runners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="runners" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_15">
          <span class="md-nav__icon md-icon"></span>
          runners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/atari800/" class="md-nav__link">
        atari800
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_15_3" type="checkbox" id="__nav_3_1_15_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_15_3">
          commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="commands" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_15_3">
          <span class="md-nav__icon md-icon"></span>
          commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/commands/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/commands/dosbox/" class="md-nav__link">
        dosbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/commands/wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/dolphin/" class="md-nav__link">
        dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/dosbox/" class="md-nav__link">
        dosbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/easyrpg/" class="md-nav__link">
        easyrpg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/fsuae/" class="md-nav__link">
        fsuae
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/hatari/" class="md-nav__link">
        hatari
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/json/" class="md-nav__link">
        json
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/jzintv/" class="md-nav__link">
        jzintv
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/libretro/" class="md-nav__link">
        libretro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/linux/" class="md-nav__link">
        linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/mame/" class="md-nav__link">
        mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/mednafen/" class="md-nav__link">
        mednafen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/mupen64plus/" class="md-nav__link">
        mupen64plus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/o2em/" class="md-nav__link">
        o2em
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/openmsx/" class="md-nav__link">
        openmsx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/osmose/" class="md-nav__link">
        osmose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/pcsx2/" class="md-nav__link">
        pcsx2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/pico8/" class="md-nav__link">
        pico8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/redream/" class="md-nav__link">
        redream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/reicast/" class="md-nav__link">
        reicast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/residualvm/" class="md-nav__link">
        residualvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/rpcs3/" class="md-nav__link">
        rpcs3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/runner/" class="md-nav__link">
        runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/ryujinx/" class="md-nav__link">
        ryujinx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/scummvm/" class="md-nav__link">
        scummvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/snes9x/" class="md-nav__link">
        snes9x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/steam/" class="md-nav__link">
        steam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/vice/" class="md-nav__link">
        vice
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/web/" class="md-nav__link">
        web
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/yuzu/" class="md-nav__link">
        yuzu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/zdoom/" class="md-nav__link">
        zdoom
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/" class="md-nav__link">
        runtime
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_17" type="checkbox" id="__nav_3_1_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_17">
          scanners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="scanners" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_17">
          <span class="md-nav__icon md-icon"></span>
          scanners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/lutris/" class="md-nav__link">
        lutris
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/retroarch/" class="md-nav__link">
        retroarch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_18" type="checkbox" id="__nav_3_1_18" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_18">
          services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="services" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_18">
          <span class="md-nav__icon md-icon"></span>
          services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Index
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Index
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lutris.services" class="md-nav__link">
    lutris.services
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.DEFAULT_SERVICES" class="md-nav__link">
    DEFAULT_SERVICES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.SERVICES" class="md-nav__link">
    SERVICES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.WIP_SERVICES" class="md-nav__link">
    WIP_SERVICES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.get_enabled_services" class="md-nav__link">
    get_enabled_services()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.get_services" class="md-nav__link">
    get_services()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.base" class="md-nav__link">
    base
  </a>
  
    <nav class="md-nav" aria-label="base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.PGA_DB" class="md-nav__link">
    PGA_DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.AuthTokenExpired" class="md-nav__link">
    AuthTokenExpired
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService" class="md-nav__link">
    BaseService
  </a>
  
    <nav class="md-nav" aria-label="BaseService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.drm_free" class="md-nav__link">
    drm_free
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.extra_medias" class="md-nav__link">
    extra_medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.has_extras" class="md-nav__link">
    has_extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.local" class="md-nav__link">
    local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.matcher" class="md-nav__link">
    matcher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.scripts" class="md-nav__link">
    scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.get_game_directory" class="md-nav__link">
    get_game_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.get_installers_from_api" class="md-nav__link">
    get_installers_from_api()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.get_update_installers" class="md-nav__link">
    get_update_installers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.is_launchable" class="md-nav__link">
    is_launchable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.load_icons" class="md-nav__link">
    load_icons()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.match_existing_game" class="md-nav__link">
    match_existing_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.match_game" class="md-nav__link">
    match_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.match_games" class="md-nav__link">
    match_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.reload" class="md-nav__link">
    reload()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.simple_install" class="md-nav__link">
    simple_install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.wipe_game_cache" class="md-nav__link">
    wipe_game_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner" class="md-nav__link">
    LutrisBanner
  </a>
  
    <nav class="md-nav" aria-label="LutrisBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart" class="md-nav__link">
    LutrisCoverart
  </a>
  
    <nav class="md-nav" aria-label="LutrisCoverart">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverartMedium" class="md-nav__link">
    LutrisCoverartMedium
  </a>
  
    <nav class="md-nav" aria-label="LutrisCoverartMedium">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverartMedium.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon" class="md-nav__link">
    LutrisIcon
  </a>
  
    <nav class="md-nav" aria-label="LutrisIcon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService" class="md-nav__link">
    OnlineService
  </a>
  
    <nav class="md-nav" aria-label="OnlineService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.credential_files" class="md-nav__link">
    credential_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.requires_login_page" class="md-nav__link">
    requires_login_page
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.is_authenticated" class="md-nav__link">
    is_authenticated()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.load_cookies" class="md-nav__link">
    load_cookies()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.login" class="md-nav__link">
    login()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.logout" class="md-nav__link">
    logout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.wipe_game_cache" class="md-nav__link">
    wipe_game_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.battlenet" class="md-nav__link">
    battlenet
  </a>
  
    <nav class="md-nav" aria-label="battlenet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService" class="md-nav__link">
    BattleNetService
  </a>
  
    <nav class="md-nav" aria-label="BattleNetService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.oauth_url" class="md-nav__link">
    oauth_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.region" class="md-nav__link">
    region
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.bethesda" class="md-nav__link">
    bethesda
  </a>
  
    <nav class="md-nav" aria-label="bethesda">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.bethesda.BethesdaService" class="md-nav__link">
    BethesdaService
  </a>
  
    <nav class="md-nav" aria-label="BethesdaService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.bethesda.BethesdaService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.bethesda.BethesdaService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.bethesda.BethesdaService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.dolphin" class="md-nav__link">
    dolphin
  </a>
  
    <nav class="md-nav" aria-label="dolphin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner" class="md-nav__link">
    DolphinBanner
  </a>
  
    <nav class="md-nav" aria-label="DolphinBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.source" class="md-nav__link">
    source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame" class="md-nav__link">
    DolphinGame
  </a>
  
    <nav class="md-nav" aria-label="DolphinGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.get_banner" class="md-nav__link">
    get_banner()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.get_game_name" class="md-nav__link">
    get_game_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.new_from_cache" class="md-nav__link">
    new_from_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService" class="md-nav__link">
    DolphinService
  </a>
  
    <nav class="md-nav" aria-label="DolphinService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.local" class="md-nav__link">
    local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.get_game_directory" class="md-nav__link">
    get_game_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.egs" class="md-nav__link">
    egs
  </a>
  
    <nav class="md-nav" aria-label="egs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.BANNER_SIZE" class="md-nav__link">
    BANNER_SIZE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.BOX_ART_SIZE" class="md-nav__link">
    BOX_ART_SIZE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_BANNERS_PATH" class="md-nav__link">
    EGS_BANNERS_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_BOX_ART_PATH" class="md-nav__link">
    EGS_BOX_ART_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_GAME_ART_PATH" class="md-nav__link">
    EGS_GAME_ART_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_GAME_BOX_PATH" class="md-nav__link">
    EGS_GAME_BOX_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_LOGO_PATH" class="md-nav__link">
    EGS_LOGO_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBannerSmall" class="md-nav__link">
    DieselGameBannerSmall
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBannerSmall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBannerSmall.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBannerSmall.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox" class="md-nav__link">
    DieselGameBox
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.min_logo_x" class="md-nav__link">
    min_logo_x
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.min_logo_y" class="md-nav__link">
    min_logo_y
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo" class="md-nav__link">
    DieselGameBoxLogo
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBoxLogo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.visible" class="md-nav__link">
    visible
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxSmall" class="md-nav__link">
    DieselGameBoxSmall
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBoxSmall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxSmall.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxSmall.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall" class="md-nav__link">
    DieselGameBoxTall
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBoxTall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.min_logo_x" class="md-nav__link">
    min_logo_x
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.min_logo_y" class="md-nav__link">
    min_logo_y
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.render" class="md-nav__link">
    render()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia" class="md-nav__link">
    DieselGameMedia
  </a>
  
    <nav class="md-nav" aria-label="DieselGameMedia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.min_logo_x" class="md-nav__link">
    min_logo_x
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.min_logo_y" class="md-nav__link">
    min_logo_y
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.get_media_url" class="md-nav__link">
    get_media_url()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGSGame" class="md-nav__link">
    EGSGame
  </a>
  
    <nav class="md-nav" aria-label="EGSGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGSGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGSGame.new_from_api" class="md-nav__link">
    new_from_api()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService" class="md-nav__link">
    EpicGamesStoreService
  </a>
  
    <nav class="md-nav" aria-label="EpicGamesStoreService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.catalog_url" class="md-nav__link">
    catalog_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.extra_medias" class="md-nav__link">
    extra_medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.http_basic_auth" class="md-nav__link">
    http_basic_auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.library_url" class="md-nav__link">
    library_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.oauth_url" class="md-nav__link">
    oauth_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.requires_login_page" class="md-nav__link">
    requires_login_page
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.user_agent" class="md-nav__link">
    user_agent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.get_game_details" class="md-nav__link">
    get_game_details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.install_from_egs" class="md-nav__link">
    install_from_egs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.is_launchable" class="md-nav__link">
    is_launchable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.resume_session" class="md-nav__link">
    resume_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.start_session" class="md-nav__link">
    start_session()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.get_launch_arguments" class="md-nav__link">
    get_launch_arguments()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.gog" class="md-nav__link">
    gog
  </a>
  
    <nav class="md-nav" aria-label="gog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGGame" class="md-nav__link">
    GOGGame
  </a>
  
    <nav class="md-nav" aria-label="GOGGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGGame.new_from_gog_game" class="md-nav__link">
    new_from_gog_game()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService" class="md-nav__link">
    GOGService
  </a>
  
    <nav class="md-nav" aria-label="GOGService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.client_id" class="md-nav__link">
    client_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.client_secret" class="md-nav__link">
    client_secret
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.credential_files" class="md-nav__link">
    credential_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.drm_free" class="md-nav__link">
    drm_free
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.embed_url" class="md-nav__link">
    embed_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.has_extras" class="md-nav__link">
    has_extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.login_success_url" class="md-nav__link">
    login_success_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.determine_language_installer" class="md-nav__link">
    determine_language_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_dlc_installers" class="md-nav__link">
    get_dlc_installers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_download_info" class="md-nav__link">
    get_download_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_downloads" class="md-nav__link">
    get_downloads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_extra_files" class="md-nav__link">
    get_extra_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_extras" class="md-nav__link">
    get_extras()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_game_details" class="md-nav__link">
    get_game_details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_game_dlcs" class="md-nav__link">
    get_game_dlcs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_installer_files" class="md-nav__link">
    get_installer_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_installers" class="md-nav__link">
    get_installers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_patch_files" class="md-nav__link">
    get_patch_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_products_page" class="md-nav__link">
    get_products_page()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_service_game" class="md-nav__link">
    get_service_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_token_age" class="md-nav__link">
    get_token_age()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_update_installers" class="md-nav__link">
    get_update_installers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_update_versions" class="md-nav__link">
    get_update_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_user_data" class="md-nav__link">
    get_user_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.load_token" class="md-nav__link">
    load_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.make_api_request" class="md-nav__link">
    make_api_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.make_request" class="md-nav__link">
    make_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.query_download_links" class="md-nav__link">
    query_download_links()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.read_file_checksum" class="md-nav__link">
    read_file_checksum()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.request_token" class="md-nav__link">
    request_token()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogLargeBanner" class="md-nav__link">
    GogLargeBanner
  </a>
  
    <nav class="md-nav" aria-label="GogLargeBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogLargeBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogLargeBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogLargeBanner.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogMediumBanner" class="md-nav__link">
    GogMediumBanner
  </a>
  
    <nav class="md-nav" aria-label="GogMediumBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogMediumBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogMediumBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogMediumBanner.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner" class="md-nav__link">
    GogSmallBanner
  </a>
  
    <nav class="md-nav" aria-label="GogSmallBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.humblebundle" class="md-nav__link">
    humblebundle
  </a>
  
    <nav class="md-nav" aria-label="humblebundle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBigIcon" class="md-nav__link">
    HumbleBigIcon
  </a>
  
    <nav class="md-nav" aria-label="HumbleBigIcon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBigIcon.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleGame" class="md-nav__link">
    HumbleBundleGame
  </a>
  
    <nav class="md-nav" aria-label="HumbleBundleGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleGame.new_from_humble_game" class="md-nav__link">
    new_from_humble_game()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon" class="md-nav__link">
    HumbleBundleIcon
  </a>
  
    <nav class="md-nav" aria-label="HumbleBundleIcon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService" class="md-nav__link">
    HumbleBundleService
  </a>
  
    <nav class="md-nav" aria-label="HumbleBundleService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.drm_free" class="md-nav__link">
    drm_free
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.supported_platforms" class="md-nav__link">
    supported_platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.find_download_in_order" class="md-nav__link">
    find_download_in_order()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_downloads" class="md-nav__link">
    get_downloads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_filename_for_platform" class="md-nav__link">
    get_filename_for_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_gamekeys_from_local_orders" class="md-nav__link">
    get_gamekeys_from_local_orders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_installer_files" class="md-nav__link">
    get_installer_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_order" class="md-nav__link">
    get_order()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_orders" class="md-nav__link">
    get_orders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.make_api_request" class="md-nav__link">
    make_api_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.order_path" class="md-nav__link">
    order_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.platform_has_downloads" class="md-nav__link">
    platform_has_downloads()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleSmallIcon" class="md-nav__link">
    HumbleSmallIcon
  </a>
  
    <nav class="md-nav" aria-label="HumbleSmallIcon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleSmallIcon.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.get_humble_download_link" class="md-nav__link">
    get_humble_download_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.pick_download_url_from_download_info" class="md-nav__link">
    pick_download_url_from_download_info()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.itchio" class="md-nav__link">
    itchio
  </a>
  
    <nav class="md-nav" aria-label="itchio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.itchio.ItchIoService" class="md-nav__link">
    ItchIoService
  </a>
  
    <nav class="md-nav" aria-label="ItchIoService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.itchio.ItchIoService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.itchio.ItchIoService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.itchio.ItchIoService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.lutris" class="md-nav__link">
    lutris
  </a>
  
    <nav class="md-nav" aria-label="lutris">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisGame" class="md-nav__link">
    LutrisGame
  </a>
  
    <nav class="md-nav" aria-label="LutrisGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisGame.new_from_api" class="md-nav__link">
    new_from_api()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService" class="md-nav__link">
    LutrisService
  </a>
  
    <nav class="md-nav" aria-label="LutrisService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.credential_files" class="md-nav__link">
    credential_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.login" class="md-nav__link">
    login()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.match_games" class="md-nav__link">
    match_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.on_connect_success" class="md-nav__link">
    on_connect_success()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.download_lutris_media" class="md-nav__link">
    download_lutris_media()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.sync_media" class="md-nav__link">
    sync_media()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.mame" class="md-nav__link">
    mame
  </a>
  
    <nav class="md-nav" aria-label="mame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.mame.MAMEService" class="md-nav__link">
    MAMEService
  </a>
  
    <nav class="md-nav" aria-label="MAMEService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.mame.MAMEService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.mame.MAMEService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.mame.MAMEService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.origin" class="md-nav__link">
    origin
  </a>
  
    <nav class="md-nav" aria-label="origin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginGame" class="md-nav__link">
    OriginGame
  </a>
  
    <nav class="md-nav" aria-label="OriginGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginGame.new_from_api" class="md-nav__link">
    new_from_api()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginLauncher" class="md-nav__link">
    OriginLauncher
  </a>
  
    <nav class="md-nav" aria-label="OriginLauncher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginLauncher.manifests_paths" class="md-nav__link">
    manifests_paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginLauncher.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginLauncher.iter_manifests" class="md-nav__link">
    iter_manifests()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtLarge" class="md-nav__link">
    OriginPackArtLarge
  </a>
  
    <nav class="md-nav" aria-label="OriginPackArtLarge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtLarge.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtLarge.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtLarge.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtMedium" class="md-nav__link">
    OriginPackArtMedium
  </a>
  
    <nav class="md-nav" aria-label="OriginPackArtMedium">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtMedium.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtMedium.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtMedium.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall" class="md-nav__link">
    OriginPackArtSmall
  </a>
  
    <nav class="md-nav" aria-label="OriginPackArtSmall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.get_media_url" class="md-nav__link">
    get_media_url()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService" class="md-nav__link">
    OriginService
  </a>
  
    <nav class="md-nav" aria-label="OriginService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.fetch_access_token" class="md-nav__link">
    fetch_access_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_access_token" class="md-nav__link">
    get_access_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_auth_headers" class="md-nav__link">
    get_auth_headers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_entitlements" class="md-nav__link">
    get_entitlements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_identity" class="md-nav__link">
    get_identity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_offer" class="md-nav__link">
    get_offer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.install_from_origin" class="md-nav__link">
    install_from_origin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.is_launchable" class="md-nav__link">
    is_launchable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.load_access_token" class="md-nav__link">
    load_access_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.get_launch_arguments" class="md-nav__link">
    get_launch_arguments()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.scummvm" class="md-nav__link">
    scummvm
  </a>
  
    <nav class="md-nav" aria-label="scummvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.ICON" class="md-nav__link">
    ICON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.NAME" class="md-nav__link">
    NAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.ONLINE" class="md-nav__link">
    ONLINE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.SCUMMVM_CONFIG_FILE" class="md-nav__link">
    SCUMMVM_CONFIG_FILE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.get_scummvm_games" class="md-nav__link">
    get_scummvm_games()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.service_game" class="md-nav__link">
    service_game
  </a>
  
    <nav class="md-nav" aria-label="service_game">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.PGA_DB" class="md-nav__link">
    PGA_DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame" class="md-nav__link">
    ServiceGame
  </a>
  
    <nav class="md-nav" aria-label="ServiceGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.service_media" class="md-nav__link">
    service_media
  </a>
  
    <nav class="md-nav" aria-label="service_media">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.PGA_DB" class="md-nav__link">
    PGA_DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia" class="md-nav__link">
    ServiceMedia
  </a>
  
    <nav class="md-nav" aria-label="ServiceMedia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.small_size" class="md-nav__link">
    small_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.source" class="md-nav__link">
    source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.visible" class="md-nav__link">
    visible
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.download" class="md-nav__link">
    download()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.exists" class="md-nav__link">
    exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_absolute_path" class="md-nav__link">
    get_absolute_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_filename" class="md-nav__link">
    get_filename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_media_url" class="md-nav__link">
    get_media_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_media_urls" class="md-nav__link">
    get_media_urls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_pixbuf_for_game" class="md-nav__link">
    get_pixbuf_for_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.render" class="md-nav__link">
    render()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.steam" class="md-nav__link">
    steam
  </a>
  
    <nav class="md-nav" aria-label="steam">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner" class="md-nav__link">
    SteamBanner
  </a>
  
    <nav class="md-nav" aria-label="SteamBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge" class="md-nav__link">
    SteamBannerLarge
  </a>
  
    <nav class="md-nav" aria-label="SteamBannerLarge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover" class="md-nav__link">
    SteamCover
  </a>
  
    <nav class="md-nav" aria-label="SteamCover">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame" class="md-nav__link">
    SteamGame
  </a>
  
    <nav class="md-nav" aria-label="SteamGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame.new_from_steam_game" class="md-nav__link">
    new_from_steam_game()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService" class="md-nav__link">
    SteamService
  </a>
  
    <nav class="md-nav" aria-label="SteamService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.excluded_appids" class="md-nav__link">
    excluded_appids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.steamapps_paths" class="md-nav__link">
    steamapps_paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class" class="md-nav__link">
    game_class
  </a>
  
    <nav class="md-nav" aria-label="game_class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class.new_from_steam_game" class="md-nav__link">
    new_from_steam_game()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.get_installer_files" class="md-nav__link">
    get_installer_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.install_from_steam" class="md-nav__link">
    install_from_steam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.steamwindows" class="md-nav__link">
    steamwindows
  </a>
  
    <nav class="md-nav" aria-label="steamwindows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.STEAM_INSTALLER" class="md-nav__link">
    STEAM_INSTALLER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsGame" class="md-nav__link">
    SteamWindowsGame
  </a>
  
    <nav class="md-nav" aria-label="SteamWindowsGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsGame.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService" class="md-nav__link">
    SteamWindowsService
  </a>
  
    <nav class="md-nav" aria-label="SteamWindowsService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.steamapps_paths" class="md-nav__link">
    steamapps_paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.game_class" class="md-nav__link">
    game_class
  </a>
  
    <nav class="md-nav" aria-label="game_class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.game_class.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.game_class.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.game_class.service" class="md-nav__link">
    service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.get_steam" class="md-nav__link">
    get_steam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.tosec" class="md-nav__link">
    tosec
  </a>
  
    <nav class="md-nav" aria-label="tosec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.tosec.TOSECService" class="md-nav__link">
    TOSECService
  </a>
  
    <nav class="md-nav" aria-label="TOSECService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.tosec.TOSECService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.tosec.TOSECService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.tosec.TOSECService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.ubisoft" class="md-nav__link">
    ubisoft
  </a>
  
    <nav class="md-nav" aria-label="ubisoft">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService" class="md-nav__link">
    UbisoftConnectService
  </a>
  
    <nav class="md-nav" aria-label="UbisoftConnectService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.browser_size" class="md-nav__link">
    browser_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.scripts" class="md-nav__link">
    scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.auth_lost" class="md-nav__link">
    auth_lost()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.get_configurations" class="md-nav__link">
    get_configurations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.install_from_ubisoft" class="md-nav__link">
    install_from_ubisoft()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.is_launchable" class="md-nav__link">
    is_launchable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.load_credentials" class="md-nav__link">
    load_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.store_credentials" class="md-nav__link">
    store_credentials()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover" class="md-nav__link">
    UbisoftCover
  </a>
  
    <nav class="md-nav" aria-label="UbisoftCover">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.download" class="md-nav__link">
    download()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.get_media_url" class="md-nav__link">
    get_media_url()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftGame" class="md-nav__link">
    UbisoftGame
  </a>
  
    <nav class="md-nav" aria-label="UbisoftGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftGame.new_from_api" class="md-nav__link">
    new_from_api()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.xdg" class="md-nav__link">
    xdg
  </a>
  
    <nav class="md-nav" aria-label="xdg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame" class="md-nav__link">
    XDGGame
  </a>
  
    <nav class="md-nav" aria-label="XDGGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.get_app_icon" class="md-nav__link">
    get_app_icon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.get_command_args" class="md-nav__link">
    get_command_args()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.get_slug" class="md-nav__link">
    get_slug()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.new_from_xdg_app" class="md-nav__link">
    new_from_xdg_app()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia" class="md-nav__link">
    XDGMedia
  </a>
  
    <nav class="md-nav" aria-label="XDGMedia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.source" class="md-nav__link">
    source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService" class="md-nav__link">
    XDGService
  </a>
  
    <nav class="md-nav" aria-label="XDGService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.ignored_categories" class="md-nav__link">
    ignored_categories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.ignored_executables" class="md-nav__link">
    ignored_executables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.ignored_games" class="md-nav__link">
    ignored_games
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.local" class="md-nav__link">
    local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.lutris_games" class="md-nav__link">
    lutris_games
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.get_game_directory" class="md-nav__link">
    get_game_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.iter_xdg_games" class="md-nav__link">
    iter_xdg_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.match_games" class="md-nav__link">
    match_games()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.get_appid" class="md-nav__link">
    get_appid()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="battlenet/" class="md-nav__link">
        battlenet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="bethesda/" class="md-nav__link">
        bethesda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="dolphin/" class="md-nav__link">
        dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="egs/" class="md-nav__link">
        egs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="gog/" class="md-nav__link">
        gog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="humblebundle/" class="md-nav__link">
        humblebundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="itchio/" class="md-nav__link">
        itchio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="lutris/" class="md-nav__link">
        lutris
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mame/" class="md-nav__link">
        mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="origin/" class="md-nav__link">
        origin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="scummvm/" class="md-nav__link">
        scummvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="service_game/" class="md-nav__link">
        service_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="service_media/" class="md-nav__link">
        service_media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steam/" class="md-nav__link">
        steam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steamwindows/" class="md-nav__link">
        steamwindows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="tosec/" class="md-nav__link">
        tosec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ubisoft/" class="md-nav__link">
        ubisoft
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xdg/" class="md-nav__link">
        xdg
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../startup/" class="md-nav__link">
        startup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../style_manager/" class="md-nav__link">
        style_manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sysoptions/" class="md-nav__link">
        sysoptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23" type="checkbox" id="__nav_3_1_23" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23">
          util
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="util" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_23">
          <span class="md-nav__icon md-icon"></span>
          util
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/audio/" class="md-nav__link">
        audio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/cookies/" class="md-nav__link">
        cookies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/datapath/" class="md-nav__link">
        datapath
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/display/" class="md-nav__link">
        display
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_6" type="checkbox" id="__nav_3_1_23_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_6">
          dolphin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="dolphin" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_6">
          <span class="md-nav__icon md-icon"></span>
          dolphin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/dolphin/" class="md-nav__link">
        Dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/dolphin/cache_reader/" class="md-nav__link">
        cache_reader
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/downloader/" class="md-nav__link">
        downloader
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_8" type="checkbox" id="__nav_3_1_23_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_8">
          egs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="egs" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_8">
          <span class="md-nav__icon md-icon"></span>
          egs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/egs/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/egs/egs_launcher/" class="md-nav__link">
        egs_launcher
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/extract/" class="md-nav__link">
        extract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/fileio/" class="md-nav__link">
        fileio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/game_finder/" class="md-nav__link">
        game_finder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/gamecontrollerdb/" class="md-nav__link">
        gamecontrollerdb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/gog/" class="md-nav__link">
        gog
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_14" type="checkbox" id="__nav_3_1_23_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_14">
          graphics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="graphics" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_14">
          <span class="md-nav__icon md-icon"></span>
          graphics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/displayconfig/" class="md-nav__link">
        displayconfig
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/drivers/" class="md-nav__link">
        drivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/glxinfo/" class="md-nav__link">
        glxinfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/vkquery/" class="md-nav__link">
        vkquery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/xephyr/" class="md-nav__link">
        xephyr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/xrandr/" class="md-nav__link">
        xrandr
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/http/" class="md-nav__link">
        http
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/i18n/" class="md-nav__link">
        i18n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/jobs/" class="md-nav__link">
        jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/joypad/" class="md-nav__link">
        joypad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/keyring/" class="md-nav__link">
        keyring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/libretro/" class="md-nav__link">
        libretro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/linux/" class="md-nav__link">
        linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/magic/" class="md-nav__link">
        magic
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_24" type="checkbox" id="__nav_3_1_23_24" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_24">
          mame
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="mame" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_24">
          <span class="md-nav__icon md-icon"></span>
          mame
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/mame/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/mame/database/" class="md-nav__link">
        database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/mame/ini/" class="md-nav__link">
        ini
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/nvidia/" class="md-nav__link">
        nvidia
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/process/" class="md-nav__link">
        process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/process_watcher/" class="md-nav__link">
        process_watcher
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/resources/" class="md-nav__link">
        resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_29" type="checkbox" id="__nav_3_1_23_29" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_29">
          retroarch
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="retroarch" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_29">
          <span class="md-nav__icon md-icon"></span>
          retroarch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/retroarch/core_config/" class="md-nav__link">
        core_config
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/settings/" class="md-nav__link">
        settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/shell/" class="md-nav__link">
        shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_32" type="checkbox" id="__nav_3_1_23_32" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_32">
          steam
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="steam" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_32">
          <span class="md-nav__icon md-icon"></span>
          steam
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/appmanifest/" class="md-nav__link">
        appmanifest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/vdf/" class="md-nav__link">
        vdf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/watcher/" class="md-nav__link">
        watcher
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/strings/" class="md-nav__link">
        strings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/system/" class="md-nav__link">
        system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/test_config/" class="md-nav__link">
        test_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/timer/" class="md-nav__link">
        timer
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_37" type="checkbox" id="__nav_3_1_23_37" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_37">
          ubisoft
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ubisoft" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_37">
          <span class="md-nav__icon md-icon"></span>
          ubisoft
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/ubisoft/client/" class="md-nav__link">
        client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/ubisoft/consts/" class="md-nav__link">
        consts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/ubisoft/helpers/" class="md-nav__link">
        helpers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/ubisoft/parser/" class="md-nav__link">
        parser
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/update_cache/" class="md-nav__link">
        update_cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/urlhandler/" class="md-nav__link">
        urlhandler
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_40" type="checkbox" id="__nav_3_1_23_40" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_40">
          wine
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="wine" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_40">
          <span class="md-nav__icon md-icon"></span>
          wine
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/cabinstall/" class="md-nav__link">
        cabinstall
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/d3d_extras/" class="md-nav__link">
        d3d_extras
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/dgvoodoo2/" class="md-nav__link">
        dgvoodoo2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/dll_manager/" class="md-nav__link">
        dll_manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/dxvk/" class="md-nav__link">
        dxvk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/dxvk_nvapi/" class="md-nav__link">
        dxvk_nvapi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/fsync/" class="md-nav__link">
        fsync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/prefix/" class="md-nav__link">
        prefix
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/registry/" class="md-nav__link">
        registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/vkd3d/" class="md-nav__link">
        vkd3d
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/xdgshortcuts/" class="md-nav__link">
        xdgshortcuts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/yaml/" class="md-nav__link">
        yaml
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lutris.services" class="md-nav__link">
    lutris.services
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.DEFAULT_SERVICES" class="md-nav__link">
    DEFAULT_SERVICES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.SERVICES" class="md-nav__link">
    SERVICES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.WIP_SERVICES" class="md-nav__link">
    WIP_SERVICES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.get_enabled_services" class="md-nav__link">
    get_enabled_services()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.get_services" class="md-nav__link">
    get_services()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.base" class="md-nav__link">
    base
  </a>
  
    <nav class="md-nav" aria-label="base">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.PGA_DB" class="md-nav__link">
    PGA_DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.AuthTokenExpired" class="md-nav__link">
    AuthTokenExpired
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService" class="md-nav__link">
    BaseService
  </a>
  
    <nav class="md-nav" aria-label="BaseService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.drm_free" class="md-nav__link">
    drm_free
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.extra_medias" class="md-nav__link">
    extra_medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.has_extras" class="md-nav__link">
    has_extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.local" class="md-nav__link">
    local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.matcher" class="md-nav__link">
    matcher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.scripts" class="md-nav__link">
    scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.get_game_directory" class="md-nav__link">
    get_game_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.get_installers_from_api" class="md-nav__link">
    get_installers_from_api()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.get_update_installers" class="md-nav__link">
    get_update_installers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.is_launchable" class="md-nav__link">
    is_launchable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.load_icons" class="md-nav__link">
    load_icons()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.match_existing_game" class="md-nav__link">
    match_existing_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.match_game" class="md-nav__link">
    match_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.match_games" class="md-nav__link">
    match_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.reload" class="md-nav__link">
    reload()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.simple_install" class="md-nav__link">
    simple_install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.BaseService.wipe_game_cache" class="md-nav__link">
    wipe_game_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner" class="md-nav__link">
    LutrisBanner
  </a>
  
    <nav class="md-nav" aria-label="LutrisBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart" class="md-nav__link">
    LutrisCoverart
  </a>
  
    <nav class="md-nav" aria-label="LutrisCoverart">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverart.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverartMedium" class="md-nav__link">
    LutrisCoverartMedium
  </a>
  
    <nav class="md-nav" aria-label="LutrisCoverartMedium">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisCoverartMedium.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon" class="md-nav__link">
    LutrisIcon
  </a>
  
    <nav class="md-nav" aria-label="LutrisIcon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.LutrisIcon.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService" class="md-nav__link">
    OnlineService
  </a>
  
    <nav class="md-nav" aria-label="OnlineService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.credential_files" class="md-nav__link">
    credential_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.requires_login_page" class="md-nav__link">
    requires_login_page
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.is_authenticated" class="md-nav__link">
    is_authenticated()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.load_cookies" class="md-nav__link">
    load_cookies()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.login" class="md-nav__link">
    login()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.logout" class="md-nav__link">
    logout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.base.OnlineService.wipe_game_cache" class="md-nav__link">
    wipe_game_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.battlenet" class="md-nav__link">
    battlenet
  </a>
  
    <nav class="md-nav" aria-label="battlenet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService" class="md-nav__link">
    BattleNetService
  </a>
  
    <nav class="md-nav" aria-label="BattleNetService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.oauth_url" class="md-nav__link">
    oauth_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.battlenet.BattleNetService.region" class="md-nav__link">
    region
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.bethesda" class="md-nav__link">
    bethesda
  </a>
  
    <nav class="md-nav" aria-label="bethesda">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.bethesda.BethesdaService" class="md-nav__link">
    BethesdaService
  </a>
  
    <nav class="md-nav" aria-label="BethesdaService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.bethesda.BethesdaService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.bethesda.BethesdaService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.bethesda.BethesdaService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.dolphin" class="md-nav__link">
    dolphin
  </a>
  
    <nav class="md-nav" aria-label="dolphin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner" class="md-nav__link">
    DolphinBanner
  </a>
  
    <nav class="md-nav" aria-label="DolphinBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinBanner.source" class="md-nav__link">
    source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame" class="md-nav__link">
    DolphinGame
  </a>
  
    <nav class="md-nav" aria-label="DolphinGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.get_banner" class="md-nav__link">
    get_banner()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.get_game_name" class="md-nav__link">
    get_game_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinGame.new_from_cache" class="md-nav__link">
    new_from_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService" class="md-nav__link">
    DolphinService
  </a>
  
    <nav class="md-nav" aria-label="DolphinService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.local" class="md-nav__link">
    local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.get_game_directory" class="md-nav__link">
    get_game_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.dolphin.DolphinService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.egs" class="md-nav__link">
    egs
  </a>
  
    <nav class="md-nav" aria-label="egs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.BANNER_SIZE" class="md-nav__link">
    BANNER_SIZE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.BOX_ART_SIZE" class="md-nav__link">
    BOX_ART_SIZE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_BANNERS_PATH" class="md-nav__link">
    EGS_BANNERS_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_BOX_ART_PATH" class="md-nav__link">
    EGS_BOX_ART_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_GAME_ART_PATH" class="md-nav__link">
    EGS_GAME_ART_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_GAME_BOX_PATH" class="md-nav__link">
    EGS_GAME_BOX_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGS_LOGO_PATH" class="md-nav__link">
    EGS_LOGO_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBannerSmall" class="md-nav__link">
    DieselGameBannerSmall
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBannerSmall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBannerSmall.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBannerSmall.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox" class="md-nav__link">
    DieselGameBox
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.min_logo_x" class="md-nav__link">
    min_logo_x
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.min_logo_y" class="md-nav__link">
    min_logo_y
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBox.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo" class="md-nav__link">
    DieselGameBoxLogo
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBoxLogo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxLogo.visible" class="md-nav__link">
    visible
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxSmall" class="md-nav__link">
    DieselGameBoxSmall
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBoxSmall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxSmall.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxSmall.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall" class="md-nav__link">
    DieselGameBoxTall
  </a>
  
    <nav class="md-nav" aria-label="DieselGameBoxTall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.min_logo_x" class="md-nav__link">
    min_logo_x
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.min_logo_y" class="md-nav__link">
    min_logo_y
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameBoxTall.render" class="md-nav__link">
    render()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia" class="md-nav__link">
    DieselGameMedia
  </a>
  
    <nav class="md-nav" aria-label="DieselGameMedia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.min_logo_x" class="md-nav__link">
    min_logo_x
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.min_logo_y" class="md-nav__link">
    min_logo_y
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.remote_size" class="md-nav__link">
    remote_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.DieselGameMedia.get_media_url" class="md-nav__link">
    get_media_url()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGSGame" class="md-nav__link">
    EGSGame
  </a>
  
    <nav class="md-nav" aria-label="EGSGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGSGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EGSGame.new_from_api" class="md-nav__link">
    new_from_api()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService" class="md-nav__link">
    EpicGamesStoreService
  </a>
  
    <nav class="md-nav" aria-label="EpicGamesStoreService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.catalog_url" class="md-nav__link">
    catalog_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.extra_medias" class="md-nav__link">
    extra_medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.http_basic_auth" class="md-nav__link">
    http_basic_auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.library_url" class="md-nav__link">
    library_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.oauth_url" class="md-nav__link">
    oauth_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.requires_login_page" class="md-nav__link">
    requires_login_page
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.user_agent" class="md-nav__link">
    user_agent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.get_game_details" class="md-nav__link">
    get_game_details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.install_from_egs" class="md-nav__link">
    install_from_egs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.is_launchable" class="md-nav__link">
    is_launchable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.resume_session" class="md-nav__link">
    resume_session()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.EpicGamesStoreService.start_session" class="md-nav__link">
    start_session()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.egs.get_launch_arguments" class="md-nav__link">
    get_launch_arguments()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.gog" class="md-nav__link">
    gog
  </a>
  
    <nav class="md-nav" aria-label="gog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGGame" class="md-nav__link">
    GOGGame
  </a>
  
    <nav class="md-nav" aria-label="GOGGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGGame.new_from_gog_game" class="md-nav__link">
    new_from_gog_game()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService" class="md-nav__link">
    GOGService
  </a>
  
    <nav class="md-nav" aria-label="GOGService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.client_id" class="md-nav__link">
    client_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.client_secret" class="md-nav__link">
    client_secret
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.credential_files" class="md-nav__link">
    credential_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.drm_free" class="md-nav__link">
    drm_free
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.embed_url" class="md-nav__link">
    embed_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.has_extras" class="md-nav__link">
    has_extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.login_success_url" class="md-nav__link">
    login_success_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.determine_language_installer" class="md-nav__link">
    determine_language_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_dlc_installers" class="md-nav__link">
    get_dlc_installers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_download_info" class="md-nav__link">
    get_download_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_downloads" class="md-nav__link">
    get_downloads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_extra_files" class="md-nav__link">
    get_extra_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_extras" class="md-nav__link">
    get_extras()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_game_details" class="md-nav__link">
    get_game_details()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_game_dlcs" class="md-nav__link">
    get_game_dlcs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_installer_files" class="md-nav__link">
    get_installer_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_installers" class="md-nav__link">
    get_installers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_patch_files" class="md-nav__link">
    get_patch_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_products_page" class="md-nav__link">
    get_products_page()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_service_game" class="md-nav__link">
    get_service_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_token_age" class="md-nav__link">
    get_token_age()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_update_installers" class="md-nav__link">
    get_update_installers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_update_versions" class="md-nav__link">
    get_update_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.get_user_data" class="md-nav__link">
    get_user_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.load_token" class="md-nav__link">
    load_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.make_api_request" class="md-nav__link">
    make_api_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.make_request" class="md-nav__link">
    make_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.query_download_links" class="md-nav__link">
    query_download_links()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.read_file_checksum" class="md-nav__link">
    read_file_checksum()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GOGService.request_token" class="md-nav__link">
    request_token()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogLargeBanner" class="md-nav__link">
    GogLargeBanner
  </a>
  
    <nav class="md-nav" aria-label="GogLargeBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogLargeBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogLargeBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogLargeBanner.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogMediumBanner" class="md-nav__link">
    GogMediumBanner
  </a>
  
    <nav class="md-nav" aria-label="GogMediumBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogMediumBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogMediumBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogMediumBanner.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner" class="md-nav__link">
    GogSmallBanner
  </a>
  
    <nav class="md-nav" aria-label="GogSmallBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.gog.GogSmallBanner.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.humblebundle" class="md-nav__link">
    humblebundle
  </a>
  
    <nav class="md-nav" aria-label="humblebundle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBigIcon" class="md-nav__link">
    HumbleBigIcon
  </a>
  
    <nav class="md-nav" aria-label="HumbleBigIcon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBigIcon.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleGame" class="md-nav__link">
    HumbleBundleGame
  </a>
  
    <nav class="md-nav" aria-label="HumbleBundleGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleGame.new_from_humble_game" class="md-nav__link">
    new_from_humble_game()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon" class="md-nav__link">
    HumbleBundleIcon
  </a>
  
    <nav class="md-nav" aria-label="HumbleBundleIcon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleIcon.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService" class="md-nav__link">
    HumbleBundleService
  </a>
  
    <nav class="md-nav" aria-label="HumbleBundleService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.drm_free" class="md-nav__link">
    drm_free
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.supported_platforms" class="md-nav__link">
    supported_platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.find_download_in_order" class="md-nav__link">
    find_download_in_order()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_downloads" class="md-nav__link">
    get_downloads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_filename_for_platform" class="md-nav__link">
    get_filename_for_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_gamekeys_from_local_orders" class="md-nav__link">
    get_gamekeys_from_local_orders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_installer_files" class="md-nav__link">
    get_installer_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_order" class="md-nav__link">
    get_order()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.get_orders" class="md-nav__link">
    get_orders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.make_api_request" class="md-nav__link">
    make_api_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.order_path" class="md-nav__link">
    order_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleBundleService.platform_has_downloads" class="md-nav__link">
    platform_has_downloads()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleSmallIcon" class="md-nav__link">
    HumbleSmallIcon
  </a>
  
    <nav class="md-nav" aria-label="HumbleSmallIcon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.HumbleSmallIcon.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.get_humble_download_link" class="md-nav__link">
    get_humble_download_link()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.humblebundle.pick_download_url_from_download_info" class="md-nav__link">
    pick_download_url_from_download_info()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.itchio" class="md-nav__link">
    itchio
  </a>
  
    <nav class="md-nav" aria-label="itchio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.itchio.ItchIoService" class="md-nav__link">
    ItchIoService
  </a>
  
    <nav class="md-nav" aria-label="ItchIoService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.itchio.ItchIoService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.itchio.ItchIoService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.itchio.ItchIoService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.lutris" class="md-nav__link">
    lutris
  </a>
  
    <nav class="md-nav" aria-label="lutris">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisGame" class="md-nav__link">
    LutrisGame
  </a>
  
    <nav class="md-nav" aria-label="LutrisGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisGame.new_from_api" class="md-nav__link">
    new_from_api()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService" class="md-nav__link">
    LutrisService
  </a>
  
    <nav class="md-nav" aria-label="LutrisService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.credential_files" class="md-nav__link">
    credential_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.login" class="md-nav__link">
    login()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.match_games" class="md-nav__link">
    match_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.LutrisService.on_connect_success" class="md-nav__link">
    on_connect_success()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.download_lutris_media" class="md-nav__link">
    download_lutris_media()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.lutris.sync_media" class="md-nav__link">
    sync_media()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.mame" class="md-nav__link">
    mame
  </a>
  
    <nav class="md-nav" aria-label="mame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.mame.MAMEService" class="md-nav__link">
    MAMEService
  </a>
  
    <nav class="md-nav" aria-label="MAMEService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.mame.MAMEService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.mame.MAMEService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.mame.MAMEService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.origin" class="md-nav__link">
    origin
  </a>
  
    <nav class="md-nav" aria-label="origin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginGame" class="md-nav__link">
    OriginGame
  </a>
  
    <nav class="md-nav" aria-label="OriginGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginGame.new_from_api" class="md-nav__link">
    new_from_api()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginLauncher" class="md-nav__link">
    OriginLauncher
  </a>
  
    <nav class="md-nav" aria-label="OriginLauncher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginLauncher.manifests_paths" class="md-nav__link">
    manifests_paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginLauncher.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginLauncher.iter_manifests" class="md-nav__link">
    iter_manifests()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtLarge" class="md-nav__link">
    OriginPackArtLarge
  </a>
  
    <nav class="md-nav" aria-label="OriginPackArtLarge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtLarge.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtLarge.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtLarge.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtMedium" class="md-nav__link">
    OriginPackArtMedium
  </a>
  
    <nav class="md-nav" aria-label="OriginPackArtMedium">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtMedium.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtMedium.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtMedium.size" class="md-nav__link">
    size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall" class="md-nav__link">
    OriginPackArtSmall
  </a>
  
    <nav class="md-nav" aria-label="OriginPackArtSmall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginPackArtSmall.get_media_url" class="md-nav__link">
    get_media_url()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService" class="md-nav__link">
    OriginService
  </a>
  
    <nav class="md-nav" aria-label="OriginService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.api_url" class="md-nav__link">
    api_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.fetch_access_token" class="md-nav__link">
    fetch_access_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_access_token" class="md-nav__link">
    get_access_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_auth_headers" class="md-nav__link">
    get_auth_headers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_entitlements" class="md-nav__link">
    get_entitlements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_identity" class="md-nav__link">
    get_identity()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_library" class="md-nav__link">
    get_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.get_offer" class="md-nav__link">
    get_offer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.install_from_origin" class="md-nav__link">
    install_from_origin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.is_launchable" class="md-nav__link">
    is_launchable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.load_access_token" class="md-nav__link">
    load_access_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.OriginService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.origin.get_launch_arguments" class="md-nav__link">
    get_launch_arguments()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.scummvm" class="md-nav__link">
    scummvm
  </a>
  
    <nav class="md-nav" aria-label="scummvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.ICON" class="md-nav__link">
    ICON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.NAME" class="md-nav__link">
    NAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.ONLINE" class="md-nav__link">
    ONLINE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.SCUMMVM_CONFIG_FILE" class="md-nav__link">
    SCUMMVM_CONFIG_FILE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.scummvm.get_scummvm_games" class="md-nav__link">
    get_scummvm_games()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.service_game" class="md-nav__link">
    service_game
  </a>
  
    <nav class="md-nav" aria-label="service_game">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.PGA_DB" class="md-nav__link">
    PGA_DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame" class="md-nav__link">
    ServiceGame
  </a>
  
    <nav class="md-nav" aria-label="ServiceGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_game.ServiceGame.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.service_media" class="md-nav__link">
    service_media
  </a>
  
    <nav class="md-nav" aria-label="service_media">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.PGA_DB" class="md-nav__link">
    PGA_DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia" class="md-nav__link">
    ServiceMedia
  </a>
  
    <nav class="md-nav" aria-label="ServiceMedia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.small_size" class="md-nav__link">
    small_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.source" class="md-nav__link">
    source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.visible" class="md-nav__link">
    visible
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.download" class="md-nav__link">
    download()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.exists" class="md-nav__link">
    exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_absolute_path" class="md-nav__link">
    get_absolute_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_filename" class="md-nav__link">
    get_filename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_media_url" class="md-nav__link">
    get_media_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_media_urls" class="md-nav__link">
    get_media_urls()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.get_pixbuf_for_game" class="md-nav__link">
    get_pixbuf_for_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.service_media.ServiceMedia.render" class="md-nav__link">
    render()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.steam" class="md-nav__link">
    steam
  </a>
  
    <nav class="md-nav" aria-label="steam">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner" class="md-nav__link">
    SteamBanner
  </a>
  
    <nav class="md-nav" aria-label="SteamBanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBanner.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge" class="md-nav__link">
    SteamBannerLarge
  </a>
  
    <nav class="md-nav" aria-label="SteamBannerLarge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamBannerLarge.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover" class="md-nav__link">
    SteamCover
  </a>
  
    <nav class="md-nav" aria-label="SteamCover">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamCover.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame" class="md-nav__link">
    SteamGame
  </a>
  
    <nav class="md-nav" aria-label="SteamGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamGame.new_from_steam_game" class="md-nav__link">
    new_from_steam_game()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService" class="md-nav__link">
    SteamService
  </a>
  
    <nav class="md-nav" aria-label="SteamService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.excluded_appids" class="md-nav__link">
    excluded_appids
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.steamapps_paths" class="md-nav__link">
    steamapps_paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class" class="md-nav__link">
    game_class
  </a>
  
    <nav class="md-nav" aria-label="game_class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.game_class.new_from_steam_game" class="md-nav__link">
    new_from_steam_game()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.get_installer_files" class="md-nav__link">
    get_installer_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.install_from_steam" class="md-nav__link">
    install_from_steam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steam.SteamService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.steamwindows" class="md-nav__link">
    steamwindows
  </a>
  
    <nav class="md-nav" aria-label="steamwindows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.STEAM_INSTALLER" class="md-nav__link">
    STEAM_INSTALLER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsGame" class="md-nav__link">
    SteamWindowsGame
  </a>
  
    <nav class="md-nav" aria-label="SteamWindowsGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsGame.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService" class="md-nav__link">
    SteamWindowsService
  </a>
  
    <nav class="md-nav" aria-label="SteamWindowsService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.steamapps_paths" class="md-nav__link">
    steamapps_paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.game_class" class="md-nav__link">
    game_class
  </a>
  
    <nav class="md-nav" aria-label="game_class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.game_class.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.game_class.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.game_class.service" class="md-nav__link">
    service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.get_steam" class="md-nav__link">
    get_steam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.steamwindows.SteamWindowsService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.tosec" class="md-nav__link">
    tosec
  </a>
  
    <nav class="md-nav" aria-label="tosec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.tosec.TOSECService" class="md-nav__link">
    TOSECService
  </a>
  
    <nav class="md-nav" aria-label="TOSECService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.tosec.TOSECService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.tosec.TOSECService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.tosec.TOSECService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.ubisoft" class="md-nav__link">
    ubisoft
  </a>
  
    <nav class="md-nav" aria-label="ubisoft">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService" class="md-nav__link">
    UbisoftConnectService
  </a>
  
    <nav class="md-nav" aria-label="UbisoftConnectService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.browser_size" class="md-nav__link">
    browser_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.cache_path" class="md-nav__link">
    cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.client_installer" class="md-nav__link">
    client_installer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.cookies_path" class="md-nav__link">
    cookies_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.default_format" class="md-nav__link">
    default_format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.is_loading" class="md-nav__link">
    is_loading
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.login_url" class="md-nav__link">
    login_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.redirect_uri" class="md-nav__link">
    redirect_uri
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.scripts" class="md-nav__link">
    scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.token_path" class="md-nav__link">
    token_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.add_installed_games" class="md-nav__link">
    add_installed_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.auth_lost" class="md-nav__link">
    auth_lost()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.get_configurations" class="md-nav__link">
    get_configurations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.install_from_ubisoft" class="md-nav__link">
    install_from_ubisoft()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.is_connected" class="md-nav__link">
    is_connected()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.is_launchable" class="md-nav__link">
    is_launchable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.load_credentials" class="md-nav__link">
    load_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.login_callback" class="md-nav__link">
    login_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftConnectService.store_credentials" class="md-nav__link">
    store_credentials()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover" class="md-nav__link">
    UbisoftCover
  </a>
  
    <nav class="md-nav" aria-label="UbisoftCover">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.api_field" class="md-nav__link">
    api_field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.url_pattern" class="md-nav__link">
    url_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.download" class="md-nav__link">
    download()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftCover.get_media_url" class="md-nav__link">
    get_media_url()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftGame" class="md-nav__link">
    UbisoftGame
  </a>
  
    <nav class="md-nav" aria-label="UbisoftGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.ubisoft.UbisoftGame.new_from_api" class="md-nav__link">
    new_from_api()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.services.xdg" class="md-nav__link">
    xdg
  </a>
  
    <nav class="md-nav" aria-label="xdg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame" class="md-nav__link">
    XDGGame
  </a>
  
    <nav class="md-nav" aria-label="XDGGame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.installer_slug" class="md-nav__link">
    installer_slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.runner" class="md-nav__link">
    runner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.get_app_icon" class="md-nav__link">
    get_app_icon()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.get_command_args" class="md-nav__link">
    get_command_args()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.get_slug" class="md-nav__link">
    get_slug()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGGame.new_from_xdg_app" class="md-nav__link">
    new_from_xdg_app()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia" class="md-nav__link">
    XDGMedia
  </a>
  
    <nav class="md-nav" aria-label="XDGMedia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.dest_path" class="md-nav__link">
    dest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.file_pattern" class="md-nav__link">
    file_pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.service" class="md-nav__link">
    service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.size" class="md-nav__link">
    size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGMedia.source" class="md-nav__link">
    source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService" class="md-nav__link">
    XDGService
  </a>
  
    <nav class="md-nav" aria-label="XDGService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.icon" class="md-nav__link">
    icon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.ignored_categories" class="md-nav__link">
    ignored_categories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.ignored_executables" class="md-nav__link">
    ignored_executables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.ignored_games" class="md-nav__link">
    ignored_games
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.local" class="md-nav__link">
    local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.lutris_games" class="md-nav__link">
    lutris_games
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.medias" class="md-nav__link">
    medias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.online" class="md-nav__link">
    online
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.generate_installer" class="md-nav__link">
    generate_installer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.get_game_directory" class="md-nav__link">
    get_game_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.iter_xdg_games" class="md-nav__link">
    iter_xdg_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.XDGService.match_games" class="md-nav__link">
    match_games()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.services.xdg.get_appid" class="md-nav__link">
    get_appid()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/lutris/lutris/edit/master/docs/lutris/services/__init__.py" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



  <h1>Index</h1>

<div class="doc doc-object doc-module">

<a id="lutris.services"></a>
    <div class="doc doc-contents first">

      <p>Service package</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h2 id="lutris.services.DEFAULT_SERVICES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT_SERVICES</span></code>


<a href="#lutris.services.DEFAULT_SERVICES" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h2 id="lutris.services.SERVICES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SERVICES</span></code>


<a href="#lutris.services.SERVICES" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h2 id="lutris.services.WIP_SERVICES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">WIP_SERVICES</span></code>


<a href="#lutris.services.WIP_SERVICES" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h2 id="lutris.services.get_enabled_services" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_enabled_services</span><span class="p">()</span></code>


<a href="#lutris.services.get_enabled_services" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_enabled_services</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="n">key</span><span class="p">:</span> <span class="n">_class</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">_class</span> <span class="ow">in</span> <span class="n">SERVICES</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">read_setting</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">section</span><span class="o">=</span><span class="s2">&quot;services&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="lutris.services.get_services" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_services</span><span class="p">()</span></code>


<a href="#lutris.services.get_services" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Return a mapping of available services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_services</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return a mapping of available services&quot;&quot;&quot;</span>
    <span class="n">_services</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;lutris&quot;</span><span class="p">:</span> <span class="n">LutrisService</span><span class="p">,</span>
        <span class="s2">&quot;xdg&quot;</span><span class="p">:</span> <span class="n">XDGService</span><span class="p">,</span>
        <span class="s2">&quot;gog&quot;</span><span class="p">:</span> <span class="n">GOGService</span><span class="p">,</span>
        <span class="s2">&quot;humblebundle&quot;</span><span class="p">:</span> <span class="n">HumbleBundleService</span><span class="p">,</span>
        <span class="s2">&quot;egs&quot;</span><span class="p">:</span> <span class="n">EpicGamesStoreService</span><span class="p">,</span>
        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="n">OriginService</span><span class="p">,</span>
        <span class="s2">&quot;ubisoft&quot;</span><span class="p">:</span> <span class="n">UbisoftConnectService</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">has_steam</span><span class="p">:</span>
        <span class="n">_services</span><span class="p">[</span><span class="s2">&quot;steam&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SteamService</span>
    <span class="n">_services</span><span class="p">[</span><span class="s2">&quot;steamwindows&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SteamWindowsService</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">DOLPHIN_GAME_CACHE_FILE</span><span class="p">):</span>
        <span class="n">_services</span><span class="p">[</span><span class="s2">&quot;dolphin&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">DolphinService</span>
    <span class="k">return</span> <span class="n">_services</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-module">



<h2 id="lutris.services.base" class="doc doc-heading">
        <code>base</code>



<a href="#lutris.services.base" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Generic service utilities</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.base.PGA_DB" class="doc doc-heading">
<code class="highlight language-python"><span class="n">PGA_DB</span></code>


<a href="#lutris.services.base.PGA_DB" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.services.base.AuthTokenExpired" class="doc doc-heading">
        <code>
AuthTokenExpired            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.services.base.AuthTokenExpired" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Exception raised when a token is no longer valid</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AuthTokenExpired</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Exception raised when a token is no longer valid&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.base.BaseService" class="doc doc-heading">
        <code>
BaseService            (<span title="gi.overrides.GObject.Object">Object</span>)
        </code>



<a href="#lutris.services.base.BaseService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base class for local services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseService</span><span class="p">(</span><span class="n">GObject</span><span class="o">.</span><span class="n">Object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for local services&quot;&quot;&quot;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">_matcher</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">has_extras</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">name</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">online</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">local</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">drm_free</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># DRM free games can be added to Lutris from an existing install</span>
    <span class="n">client_installer</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># ID of a script needed to install the client used by the service</span>
    <span class="n">scripts</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Mapping of Javascript snippets to handle redirections during auth</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">extra_medias</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">default_format</span> <span class="o">=</span> <span class="s2">&quot;icon&quot;</span>

    <span class="n">__gsignals__</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;service-games-load&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">GObject</span><span class="o">.</span><span class="n">SIGNAL_RUN_FIRST</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">()),</span>
        <span class="s2">&quot;service-games-loaded&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">GObject</span><span class="o">.</span><span class="n">SIGNAL_RUN_FIRST</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">()),</span>
        <span class="s2">&quot;service-login&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">GObject</span><span class="o">.</span><span class="n">SIGNAL_RUN_FIRST</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">()),</span>
        <span class="s2">&quot;service-logout&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">GObject</span><span class="o">.</span><span class="n">SIGNAL_RUN_FIRST</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">()),</span>
    <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">matcher</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matcher</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matcher</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Override this method to run a launcher&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;This service doesn&#39;t run anything&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">reload</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Refresh the service&#39;s games&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-games-load&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wipe_game_cache</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_icons</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_installed_games</span><span class="p">()</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-games-loaded&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Load method not implemented&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_icons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Download all game media from the service&quot;&quot;&quot;</span>
        <span class="n">all_medias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">medias</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">all_medias</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra_medias</span><span class="p">)</span>
        <span class="c1"># Download icons</span>
        <span class="k">for</span> <span class="n">icon_type</span> <span class="ow">in</span> <span class="n">all_medias</span><span class="p">:</span>
            <span class="n">service_media</span> <span class="o">=</span> <span class="n">all_medias</span><span class="p">[</span><span class="n">icon_type</span><span class="p">]()</span>
            <span class="n">media_urls</span> <span class="o">=</span> <span class="n">service_media</span><span class="o">.</span><span class="n">get_media_urls</span><span class="p">()</span>
            <span class="n">download_media</span><span class="p">(</span><span class="n">media_urls</span><span class="p">,</span> <span class="n">service_media</span><span class="p">)</span>

        <span class="c1"># Process icons</span>
        <span class="k">for</span> <span class="n">icon_type</span> <span class="ow">in</span> <span class="n">all_medias</span><span class="p">:</span>
            <span class="n">service_media</span> <span class="o">=</span> <span class="n">all_medias</span><span class="p">[</span><span class="n">icon_type</span><span class="p">]()</span>
            <span class="n">service_media</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">wipe_game_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Deleting games from service-games for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">sql</span><span class="o">.</span><span class="n">db_delete</span><span class="p">(</span><span class="n">PGA_DB</span><span class="p">,</span> <span class="s2">&quot;service_games&quot;</span><span class="p">,</span> <span class="s2">&quot;service&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_update_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Used to generate an installer from the data returned from the services&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">match_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_game</span><span class="p">,</span> <span class="n">api_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Match a service game to a lutris game referenced by its slug&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_game</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">sql</span><span class="o">.</span><span class="n">db_update</span><span class="p">(</span>
            <span class="n">PGA_DB</span><span class="p">,</span>
            <span class="s2">&quot;service_games&quot;</span><span class="p">,</span>
            <span class="p">{</span><span class="s2">&quot;lutris_slug&quot;</span><span class="p">:</span> <span class="n">api_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]},</span>
            <span class="n">conditions</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span> <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="n">unmatched_lutris_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span>
            <span class="n">searches</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matcher</span><span class="p">},</span>
            <span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">api_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]},</span>
            <span class="n">excludes</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">unmatched_lutris_games</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updating unmatched game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">game</span><span class="p">)</span>
            <span class="n">sql</span><span class="o">.</span><span class="n">db_update</span><span class="p">(</span>
                <span class="n">PGA_DB</span><span class="p">,</span>
                <span class="s2">&quot;games&quot;</span><span class="p">,</span>
                <span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s2">&quot;service_id&quot;</span><span class="p">:</span> <span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]},</span>
                <span class="n">conditions</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]}</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Matching of service games to lutris games&quot;&quot;&quot;</span>
        <span class="n">service_games</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]):</span> <span class="n">game</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_for_service</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">lutris_games</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get_api_games</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">service_games</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">lutris_game</span> <span class="ow">in</span> <span class="n">lutris_games</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">provider_game</span> <span class="ow">in</span> <span class="n">lutris_game</span><span class="p">[</span><span class="s2">&quot;provider_games&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">provider_game</span><span class="p">[</span><span class="s2">&quot;service&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">match_game</span><span class="p">(</span><span class="n">service_games</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">provider_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]),</span> <span class="n">lutris_game</span><span class="p">)</span>
        <span class="n">unmatched_service_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">searches</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matcher</span><span class="p">},</span> <span class="n">excludes</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="k">for</span> <span class="n">lutris_game</span> <span class="ow">in</span> <span class="n">api</span><span class="o">.</span><span class="n">get_api_games</span><span class="p">(</span><span class="n">game_slugs</span><span class="o">=</span><span class="p">[</span><span class="n">g</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">unmatched_service_games</span><span class="p">]):</span>
            <span class="k">for</span> <span class="n">provider_game</span> <span class="ow">in</span> <span class="n">lutris_game</span><span class="p">[</span><span class="s2">&quot;provider_games&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">provider_game</span><span class="p">[</span><span class="s2">&quot;service&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">match_game</span><span class="p">(</span><span class="n">service_games</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">provider_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]),</span> <span class="n">lutris_game</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">match_existing_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_games</span><span class="p">,</span> <span class="n">appid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if a game is already installed and populates the service info&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">_game</span> <span class="ow">in</span> <span class="n">db_games</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Matching </span><span class="si">%s</span><span class="s2"> with existing install: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">_game</span><span class="p">)</span>
            <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
            <span class="n">game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">appid</span>
            <span class="n">game</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
            <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">service_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
            <span class="n">sql</span><span class="o">.</span><span class="n">db_update</span><span class="p">(</span><span class="n">PGA_DB</span><span class="p">,</span> <span class="s2">&quot;service_games&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;lutris_slug&quot;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">slug</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]})</span>
            <span class="k">return</span> <span class="n">game</span>

    <span class="k">def</span> <span class="nf">get_installers_from_api</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query the lutris API for an appid and get existing installers for the service&quot;&quot;&quot;</span>
        <span class="n">lutris_games</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get_api_games</span><span class="p">([</span><span class="n">appid</span><span class="p">],</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">service_installers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">lutris_games</span><span class="p">:</span>
            <span class="n">lutris_game</span> <span class="o">=</span> <span class="n">lutris_games</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">installers</span> <span class="o">=</span> <span class="n">get_game_installers</span><span class="p">(</span><span class="n">lutris_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">installers</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">matcher</span> <span class="ow">in</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">service_installers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">installer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service_installers</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Install a service game, or starts the installer of the game.</span>

<span class="sd">        Args:</span>
<span class="sd">            db_game (dict or str): Database fields of the game to add, or (for Lutris service only</span>
<span class="sd">                the slug of the game.)</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The slug of the game that was installed, to be run. None if the game should not be</span>
<span class="sd">                run now. Many installers start from here, but continue running after this returns;</span>
<span class="sd">                they return None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing </span><span class="si">%s</span><span class="s2"> from service </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="c1"># Local services (aka game libraries that don&#39;t require any type of online interaction) can</span>
        <span class="c1"># be added without going through an install dialog.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">local</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">simple_install</span><span class="p">(</span><span class="n">db_game</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">update</span><span class="p">:</span>
            <span class="n">service_installers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_update_installers</span><span class="p">(</span><span class="n">db_game</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">service_installers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_installers_from_api</span><span class="p">(</span><span class="n">appid</span><span class="p">)</span>
        <span class="c1"># Check if the game is not already installed</span>
        <span class="k">for</span> <span class="n">service_installer</span> <span class="ow">in</span> <span class="n">service_installers</span><span class="p">:</span>
            <span class="n">existing_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">match_existing_game</span><span class="p">(</span>
                <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">:</span> <span class="n">service_installer</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span> <span class="s2">&quot;installed&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}),</span>
                <span class="n">appid</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Found existing game, aborting install&quot;</span><span class="p">)</span>
                <span class="k">return</span>
        <span class="k">if</span> <span class="n">update</span><span class="p">:</span>
            <span class="n">installer</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">installer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">installer</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">service_installers</span><span class="p">:</span>
                <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; (auto-generated)&quot;</span>
            <span class="n">service_installers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">installer</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_installers</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No installer found for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">service_installers</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="o">=</span><span class="n">appid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">simple_install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A simplified version of the install method, used when a game doesn&#39;t need any setup&quot;&quot;&quot;</span>
        <span class="n">installer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">)</span>
        <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;script&quot;</span><span class="p">])</span>
        <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">runner</span><span class="o">=</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;runner&quot;</span><span class="p">],</span>
            <span class="n">slug</span><span class="o">=</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;game_slug&quot;</span><span class="p">],</span>
            <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_game_directory</span><span class="p">(</span><span class="n">installer</span><span class="p">),</span>
            <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">installer_slug</span><span class="o">=</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
            <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">service_id</span><span class="o">=</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">game_id</span>

    <span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Services can implement this method to scan for locally</span>
<span class="sd">        installed games and add them to lutris.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_installer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Specific services should implement this&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.client_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client_installer</span></code>


<a href="#lutris.services.base.BaseService.client_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.default_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_format</span></code>


<a href="#lutris.services.base.BaseService.default_format" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.drm_free" class="doc doc-heading">
<code class="highlight language-python"><span class="n">drm_free</span></code>


<a href="#lutris.services.base.BaseService.drm_free" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.extra_medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra_medias</span></code>


<a href="#lutris.services.base.BaseService.extra_medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.has_extras" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_extras</span></code>


<a href="#lutris.services.base.BaseService.has_extras" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.base.BaseService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.base.BaseService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.local" class="doc doc-heading">
<code class="highlight language-python"><span class="n">local</span></code>


<a href="#lutris.services.base.BaseService.local" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.matcher" class="doc doc-heading">
<code class="highlight language-python"><span class="n">matcher</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.base.BaseService.matcher" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.base.BaseService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.base.BaseService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.online" class="doc doc-heading">
<code class="highlight language-python"><span class="n">online</span></code>


<a href="#lutris.services.base.BaseService.online" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.BaseService.scripts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">scripts</span></code>


<a href="#lutris.services.base.BaseService.scripts" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.add_installed_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.add_installed_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Services can implement this method to scan for locally
installed games and add them to lutris.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Services can implement this method to scan for locally</span>
<span class="sd">    installed games and add them to lutris.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used to generate an installer from the data returned from the services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Used to generate an installer from the data returned from the services&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.get_game_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_installer</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.get_game_directory" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Specific services should implement this</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_installer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Specific services should implement this&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.get_installers_from_api" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_installers_from_api</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.get_installers_from_api" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Query the lutris API for an appid and get existing installers for the service</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_installers_from_api</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Query the lutris API for an appid and get existing installers for the service&quot;&quot;&quot;</span>
    <span class="n">lutris_games</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get_api_games</span><span class="p">([</span><span class="n">appid</span><span class="p">],</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="n">service_installers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">lutris_games</span><span class="p">:</span>
        <span class="n">lutris_game</span> <span class="o">=</span> <span class="n">lutris_games</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">installers</span> <span class="o">=</span> <span class="n">get_game_installers</span><span class="p">(</span><span class="n">lutris_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">installers</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">matcher</span> <span class="ow">in</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">service_installers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">installer</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service_installers</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.get_update_installers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_update_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.get_update_installers" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_update_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install a service game, or starts the installer of the game.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>db_game</code></td>
        <td><code>dict or str</code></td>
        <td><p>Database fields of the game to add, or (for Lutris service only
the slug of the game.)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The slug of the game that was installed, to be run. None if the game should not be
    run now. Many installers start from here, but continue running after this returns;
    they return None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Install a service game, or starts the installer of the game.</span>

<span class="sd">    Args:</span>
<span class="sd">        db_game (dict or str): Database fields of the game to add, or (for Lutris service only</span>
<span class="sd">            the slug of the game.)</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The slug of the game that was installed, to be run. None if the game should not be</span>
<span class="sd">            run now. Many installers start from here, but continue running after this returns;</span>
<span class="sd">            they return None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing </span><span class="si">%s</span><span class="s2"> from service </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="c1"># Local services (aka game libraries that don&#39;t require any type of online interaction) can</span>
    <span class="c1"># be added without going through an install dialog.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">local</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">simple_install</span><span class="p">(</span><span class="n">db_game</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">update</span><span class="p">:</span>
        <span class="n">service_installers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_update_installers</span><span class="p">(</span><span class="n">db_game</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">service_installers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_installers_from_api</span><span class="p">(</span><span class="n">appid</span><span class="p">)</span>
    <span class="c1"># Check if the game is not already installed</span>
    <span class="k">for</span> <span class="n">service_installer</span> <span class="ow">in</span> <span class="n">service_installers</span><span class="p">:</span>
        <span class="n">existing_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">match_existing_game</span><span class="p">(</span>
            <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">:</span> <span class="n">service_installer</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span> <span class="s2">&quot;installed&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}),</span>
            <span class="n">appid</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Found existing game, aborting install&quot;</span><span class="p">)</span>
            <span class="k">return</span>
    <span class="k">if</span> <span class="n">update</span><span class="p">:</span>
        <span class="n">installer</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">installer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">installer</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">service_installers</span><span class="p">:</span>
            <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; (auto-generated)&quot;</span>
        <span class="n">service_installers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">installer</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">service_installers</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No installer found for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">service_installers</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="o">=</span><span class="n">appid</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.is_launchable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.is_launchable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Load method not implemented&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.load_icons" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_icons</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.load_icons" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Download all game media from the service</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_icons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Download all game media from the service&quot;&quot;&quot;</span>
    <span class="n">all_medias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">medias</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">all_medias</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extra_medias</span><span class="p">)</span>
    <span class="c1"># Download icons</span>
    <span class="k">for</span> <span class="n">icon_type</span> <span class="ow">in</span> <span class="n">all_medias</span><span class="p">:</span>
        <span class="n">service_media</span> <span class="o">=</span> <span class="n">all_medias</span><span class="p">[</span><span class="n">icon_type</span><span class="p">]()</span>
        <span class="n">media_urls</span> <span class="o">=</span> <span class="n">service_media</span><span class="o">.</span><span class="n">get_media_urls</span><span class="p">()</span>
        <span class="n">download_media</span><span class="p">(</span><span class="n">media_urls</span><span class="p">,</span> <span class="n">service_media</span><span class="p">)</span>

    <span class="c1"># Process icons</span>
    <span class="k">for</span> <span class="n">icon_type</span> <span class="ow">in</span> <span class="n">all_medias</span><span class="p">:</span>
        <span class="n">service_media</span> <span class="o">=</span> <span class="n">all_medias</span><span class="p">[</span><span class="n">icon_type</span><span class="p">]()</span>
        <span class="n">service_media</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.match_existing_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">match_existing_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_games</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.match_existing_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Checks if a game is already installed and populates the service info</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">match_existing_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_games</span><span class="p">,</span> <span class="n">appid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Checks if a game is already installed and populates the service info&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">_game</span> <span class="ow">in</span> <span class="n">db_games</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Matching </span><span class="si">%s</span><span class="s2"> with existing install: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">_game</span><span class="p">)</span>
        <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">appid</span>
        <span class="n">game</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
        <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
        <span class="n">sql</span><span class="o">.</span><span class="n">db_update</span><span class="p">(</span><span class="n">PGA_DB</span><span class="p">,</span> <span class="s2">&quot;service_games&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;lutris_slug&quot;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">slug</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]})</span>
        <span class="k">return</span> <span class="n">game</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.match_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">match_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_game</span><span class="p">,</span> <span class="n">api_game</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.match_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Match a service game to a lutris game referenced by its slug</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">match_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_game</span><span class="p">,</span> <span class="n">api_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Match a service game to a lutris game referenced by its slug&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">service_game</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">sql</span><span class="o">.</span><span class="n">db_update</span><span class="p">(</span>
        <span class="n">PGA_DB</span><span class="p">,</span>
        <span class="s2">&quot;service_games&quot;</span><span class="p">,</span>
        <span class="p">{</span><span class="s2">&quot;lutris_slug&quot;</span><span class="p">:</span> <span class="n">api_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]},</span>
        <span class="n">conditions</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span> <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">unmatched_lutris_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span>
        <span class="n">searches</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matcher</span><span class="p">},</span>
        <span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">api_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]},</span>
        <span class="n">excludes</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">unmatched_lutris_games</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updating unmatched game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">game</span><span class="p">)</span>
        <span class="n">sql</span><span class="o">.</span><span class="n">db_update</span><span class="p">(</span>
            <span class="n">PGA_DB</span><span class="p">,</span>
            <span class="s2">&quot;games&quot;</span><span class="p">,</span>
            <span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s2">&quot;service_id&quot;</span><span class="p">:</span> <span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]},</span>
            <span class="n">conditions</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]}</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.match_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.match_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Matching of service games to lutris games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Matching of service games to lutris games&quot;&quot;&quot;</span>
    <span class="n">service_games</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]):</span> <span class="n">game</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_for_service</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">lutris_games</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">get_api_games</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">service_games</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">lutris_game</span> <span class="ow">in</span> <span class="n">lutris_games</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">provider_game</span> <span class="ow">in</span> <span class="n">lutris_game</span><span class="p">[</span><span class="s2">&quot;provider_games&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">provider_game</span><span class="p">[</span><span class="s2">&quot;service&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">match_game</span><span class="p">(</span><span class="n">service_games</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">provider_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]),</span> <span class="n">lutris_game</span><span class="p">)</span>
    <span class="n">unmatched_service_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">searches</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matcher</span><span class="p">},</span> <span class="n">excludes</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">lutris_game</span> <span class="ow">in</span> <span class="n">api</span><span class="o">.</span><span class="n">get_api_games</span><span class="p">(</span><span class="n">game_slugs</span><span class="o">=</span><span class="p">[</span><span class="n">g</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">unmatched_service_games</span><span class="p">]):</span>
        <span class="k">for</span> <span class="n">provider_game</span> <span class="ow">in</span> <span class="n">lutris_game</span><span class="p">[</span><span class="s2">&quot;provider_games&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">provider_game</span><span class="p">[</span><span class="s2">&quot;service&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">match_game</span><span class="p">(</span><span class="n">service_games</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">provider_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]),</span> <span class="n">lutris_game</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.reload" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reload</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.reload" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Refresh the service's games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">reload</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Refresh the service&#39;s games&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-games-load&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wipe_game_cache</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_icons</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_installed_games</span><span class="p">()</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-games-loaded&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.run" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Override this method to run a launcher</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Override this method to run a launcher&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;This service doesn&#39;t run anything&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.simple_install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">simple_install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.simple_install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A simplified version of the install method, used when a game doesn't need any setup</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">simple_install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A simplified version of the install method, used when a game doesn&#39;t need any setup&quot;&quot;&quot;</span>
    <span class="n">installer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">)</span>
    <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;script&quot;</span><span class="p">])</span>
    <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="n">runner</span><span class="o">=</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;runner&quot;</span><span class="p">],</span>
        <span class="n">slug</span><span class="o">=</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;game_slug&quot;</span><span class="p">],</span>
        <span class="n">directory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_game_directory</span><span class="p">(</span><span class="n">installer</span><span class="p">),</span>
        <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">installer_slug</span><span class="o">=</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
        <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">service_id</span><span class="o">=</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">game_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.BaseService.wipe_game_cache" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wipe_game_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.BaseService.wipe_game_cache" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wipe_game_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Deleting games from service-games for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="n">sql</span><span class="o">.</span><span class="n">db_delete</span><span class="p">(</span><span class="n">PGA_DB</span><span class="p">,</span> <span class="s2">&quot;service_games&quot;</span><span class="p">,</span> <span class="s2">&quot;service&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.base.LutrisBanner" class="doc doc-heading">
        <code>
LutrisBanner            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.base.LutrisBanner" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LutrisBanner</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s1">&#39;lutris&#39;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">184</span><span class="p">,</span> <span class="mi">69</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">BANNER_PATH</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s1">&#39;banner_url&#39;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisBanner.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.base.LutrisBanner.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisBanner.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.base.LutrisBanner.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisBanner.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.base.LutrisBanner.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisBanner.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.base.LutrisBanner.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisBanner.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.base.LutrisBanner.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.base.LutrisCoverart" class="doc doc-heading">
        <code>
LutrisCoverart            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.base.LutrisCoverart" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LutrisCoverart</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s1">&#39;lutris&#39;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">264</span><span class="p">,</span> <span class="mi">352</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">COVERART_PATH</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s1">&#39;coverart&#39;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisCoverart.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.base.LutrisCoverart.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisCoverart.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.base.LutrisCoverart.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisCoverart.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.base.LutrisCoverart.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisCoverart.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.base.LutrisCoverart.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisCoverart.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.base.LutrisCoverart.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.base.LutrisCoverartMedium" class="doc doc-heading">
        <code>
LutrisCoverartMedium            (<a class="autorefs autorefs-internal" title="lutris.services.base.LutrisCoverart" href="base/#lutris.services.base.LutrisCoverart">LutrisCoverart</a>)
        </code>



<a href="#lutris.services.base.LutrisCoverartMedium" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LutrisCoverartMedium</span><span class="p">(</span><span class="n">LutrisCoverart</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">176</span><span class="p">,</span> <span class="mi">234</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisCoverartMedium.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.base.LutrisCoverartMedium.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.base.LutrisIcon" class="doc doc-heading">
        <code>
LutrisIcon            (<a class="autorefs autorefs-internal" title="lutris.services.base.LutrisBanner" href="base/#lutris.services.base.LutrisBanner">LutrisBanner</a>)
        </code>



<a href="#lutris.services.base.LutrisIcon" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LutrisIcon</span><span class="p">(</span><span class="n">LutrisBanner</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">ICON_PATH</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;lutris_</span><span class="si">%s</span><span class="s2">.png&quot;</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s1">&#39;icon_url&#39;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisIcon.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.base.LutrisIcon.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisIcon.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.base.LutrisIcon.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisIcon.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.base.LutrisIcon.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.LutrisIcon.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.base.LutrisIcon.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.base.OnlineService" class="doc doc-heading">
        <code>
OnlineService            (<a class="autorefs autorefs-internal" title="lutris.services.base.BaseService" href="base/#lutris.services.base.BaseService">BaseService</a>)
        </code>



<a href="#lutris.services.base.OnlineService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Base class for online gaming services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OnlineService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for online gaming services&quot;&quot;&quot;</span>

    <span class="n">online</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">cookies_path</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">requires_login_page</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">credential_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all files used for authentication&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cookies_path</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Connecting to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">dialog</span> <span class="o">=</span> <span class="n">WebConnectDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
        <span class="n">dialog</span><span class="o">.</span><span class="n">set_modal</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">is_authenticated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return whether the service is authenticated&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credential_files</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">wipe_game_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Wipe the game cache, allowing it to be reloaded&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Deleting </span><span class="si">%s</span><span class="s2"> cache </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">wipe_game_cache</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disconnect from the service by removing all credentials&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wipe_game_cache</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">auth_file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credential_files</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">auth_file</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to remove </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">auth_file</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;logged out from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-logout&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load cookies from disk&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookies_path</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No cookies found in </span><span class="si">%s</span><span class="s2">, please authenticate first&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookies_path</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">cookiejar</span> <span class="o">=</span> <span class="n">WebkitCookieJar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookies_path</span><span class="p">)</span>
        <span class="n">cookiejar</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">cookiejar</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.OnlineService.cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_path</span></code>


<a href="#lutris.services.base.OnlineService.cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.OnlineService.cookies_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cookies_path</span></code>


<a href="#lutris.services.base.OnlineService.cookies_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.OnlineService.credential_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">credential_files</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.base.OnlineService.credential_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of all files used for authentication</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.OnlineService.online" class="doc doc-heading">
<code class="highlight language-python"><span class="n">online</span></code>


<a href="#lutris.services.base.OnlineService.online" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.base.OnlineService.requires_login_page" class="doc doc-heading">
<code class="highlight language-python"><span class="n">requires_login_page</span></code>


<a href="#lutris.services.base.OnlineService.requires_login_page" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.OnlineService.is_authenticated" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_authenticated</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.OnlineService.is_authenticated" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return whether the service is authenticated</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_authenticated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return whether the service is authenticated&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credential_files</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.OnlineService.load_cookies" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.OnlineService.load_cookies" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Load cookies from disk</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load cookies from disk&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookies_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No cookies found in </span><span class="si">%s</span><span class="s2">, please authenticate first&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookies_path</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">cookiejar</span> <span class="o">=</span> <span class="n">WebkitCookieJar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookies_path</span><span class="p">)</span>
    <span class="n">cookiejar</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cookiejar</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.OnlineService.login" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.services.base.OnlineService.login" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Connecting to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">dialog</span> <span class="o">=</span> <span class="n">WebConnectDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
    <span class="n">dialog</span><span class="o">.</span><span class="n">set_modal</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.OnlineService.logout" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.OnlineService.logout" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Disconnect from the service by removing all credentials</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Disconnect from the service by removing all credentials&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wipe_game_cache</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">auth_file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">credential_files</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">auth_file</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to remove </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">auth_file</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;logged out from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-logout&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.base.OnlineService.wipe_game_cache" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wipe_game_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.base.OnlineService.wipe_game_cache" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Wipe the game cache, allowing it to be reloaded</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/base.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wipe_game_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wipe the game cache, allowing it to be reloaded&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Deleting </span><span class="si">%s</span><span class="s2"> cache </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">wipe_game_cache</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.battlenet" class="doc doc-heading">
        <code>battlenet</code>



<a href="#lutris.services.battlenet" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Battle.net service.
Not ready yet.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.battlenet.BattleNetService" class="doc doc-heading">
        <code>
BattleNetService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.battlenet.BattleNetService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for Battle.net</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/battlenet.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BattleNetService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for Battle.net&quot;&quot;&quot;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;battlenet&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Battle.net&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;battlenet&quot;</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">region</span> <span class="o">=</span> <span class="s2">&quot;na&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">oauth_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the URL used for OAuth sign in&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">==</span> <span class="s2">&quot;cn&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;https://www.battlenet.com.cn/oauth&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://</span><span class="si">%s</span><span class="s2">.battle.net/oauth&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">api_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Main API endpoint&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">==</span> <span class="s2">&quot;cn&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;https://gateway.battlenet.com.cn&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://</span><span class="si">%s</span><span class="s2">.api.blizzard.com&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">login_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Battle.net login URL&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">==</span> <span class="s2">&quot;cn&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;https://www.battlenet.com.cn/login/zh&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://</span><span class="si">%s</span><span class="s2">.battle.net/login/en&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.battlenet.BattleNetService.api_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_url</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.battlenet.BattleNetService.api_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Main API endpoint</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.battlenet.BattleNetService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.battlenet.BattleNetService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.battlenet.BattleNetService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.battlenet.BattleNetService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.battlenet.BattleNetService.login_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_url</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.battlenet.BattleNetService.login_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Battle.net login URL</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.battlenet.BattleNetService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.battlenet.BattleNetService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.battlenet.BattleNetService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.battlenet.BattleNetService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.battlenet.BattleNetService.oauth_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">oauth_url</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.battlenet.BattleNetService.oauth_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the URL used for OAuth sign in</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.battlenet.BattleNetService.region" class="doc doc-heading">
<code class="highlight language-python"><span class="n">region</span></code>


<a href="#lutris.services.battlenet.BattleNetService.region" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.bethesda" class="doc doc-heading">
        <code>bethesda</code>



<a href="#lutris.services.bethesda" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Bethesda service.
Not ready yet.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.bethesda.BethesdaService" class="doc doc-heading">
        <code>
BethesdaService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.bethesda.BethesdaService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for Battle.net</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/bethesda.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BethesdaService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for Battle.net&quot;&quot;&quot;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;bethesda&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Bethesda&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;bethesda&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.bethesda.BethesdaService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.bethesda.BethesdaService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.bethesda.BethesdaService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.bethesda.BethesdaService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.bethesda.BethesdaService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.bethesda.BethesdaService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.dolphin" class="doc doc-heading">
        <code>dolphin</code>



<a href="#lutris.services.dolphin" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.dolphin.DolphinBanner" class="doc doc-heading">
        <code>
DolphinBanner            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.dolphin.DolphinBanner" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DolphinBanner</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;dolphin&quot;</span>
    <span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">96</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;dolphin/banners/small&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinBanner.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.dolphin.DolphinBanner.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinBanner.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.dolphin.DolphinBanner.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinBanner.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.dolphin.DolphinBanner.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinBanner.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.dolphin.DolphinBanner.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinBanner.source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source</span></code>


<a href="#lutris.services.dolphin.DolphinBanner.source" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.dolphin.DolphinGame" class="doc doc-heading">
        <code>
DolphinGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.dolphin.DolphinGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Game for the Dolphin emulator</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DolphinGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Game for the Dolphin emulator&quot;&quot;&quot;</span>

    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;dolphin&quot;</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;dolphin&quot;</span>
    <span class="n">installer_slug</span> <span class="o">=</span> <span class="s2">&quot;dolphin&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_cache</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">cache_entry</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a service game from an entry from the Dolphin cache&quot;&quot;&quot;</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;internal_name&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;game_id&quot;</span><span class="p">])</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;internal_name&quot;</span><span class="p">])</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="n">service_game</span><span class="o">.</span><span class="n">get_banner</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">)</span>

        <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;file_path&quot;</span><span class="p">],</span>
            <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">})</span>
        <span class="k">return</span> <span class="n">service_game</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_game_name</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">):</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;long_names&quot;</span><span class="p">]</span>
        <span class="n">name_index</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">name_index</span><span class="p">]])</span>

    <span class="k">def</span> <span class="nf">get_banner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache_entry</span><span class="p">):</span>
        <span class="n">banner</span> <span class="o">=</span> <span class="n">DolphinBanner</span><span class="p">()</span>
        <span class="n">banner_path</span> <span class="o">=</span> <span class="n">banner</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">banner_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">banner_path</span>

        <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">data</span> <span class="o">=</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;volume_banner&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">frombytes</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">data</span><span class="p">,</span> <span class="s2">&quot;raw&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;BGRX&quot;</span><span class="p">))</span>
            <span class="c1"># 96x32 is a bit small, maybe 2x scale?</span>
            <span class="c1"># img.resize((width * 2, height * 2))</span>
            <span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">banner_path</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">banner_path</span>

        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinGame.installer_slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">installer_slug</span></code>


<a href="#lutris.services.dolphin.DolphinGame.installer_slug" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinGame.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.dolphin.DolphinGame.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.dolphin.DolphinGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.dolphin.DolphinGame.get_banner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_banner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache_entry</span><span class="p">)</span></code>


<a href="#lutris.services.dolphin.DolphinGame.get_banner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_banner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache_entry</span><span class="p">):</span>
    <span class="n">banner</span> <span class="o">=</span> <span class="n">DolphinBanner</span><span class="p">()</span>
    <span class="n">banner_path</span> <span class="o">=</span> <span class="n">banner</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">banner_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">banner_path</span>

    <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">data</span> <span class="o">=</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;volume_banner&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">frombytes</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">data</span><span class="p">,</span> <span class="s2">&quot;raw&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;BGRX&quot;</span><span class="p">))</span>
        <span class="c1"># 96x32 is a bit small, maybe 2x scale?</span>
        <span class="c1"># img.resize((width * 2, height * 2))</span>
        <span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">banner_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">banner_path</span>

    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.dolphin.DolphinGame.get_game_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_name</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.services.dolphin.DolphinGame.get_game_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_game_name</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">):</span>
    <span class="n">names</span> <span class="o">=</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;long_names&quot;</span><span class="p">]</span>
    <span class="n">name_index</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">name_index</span><span class="p">]])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.dolphin.DolphinGame.new_from_cache" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_cache</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.dolphin.DolphinGame.new_from_cache" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a service game from an entry from the Dolphin cache</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_cache</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">cache_entry</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a service game from an entry from the Dolphin cache&quot;&quot;&quot;</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;internal_name&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;game_id&quot;</span><span class="p">])</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;internal_name&quot;</span><span class="p">])</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="n">service_game</span><span class="o">.</span><span class="n">get_banner</span><span class="p">(</span><span class="n">cache_entry</span><span class="p">)</span>

    <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;file_path&quot;</span><span class="p">],</span>
        <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="n">cache_entry</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">})</span>
    <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.dolphin.DolphinService" class="doc doc-heading">
        <code>
DolphinService            (<a class="autorefs autorefs-internal" title="lutris.services.base.BaseService" href="base/#lutris.services.base.BaseService">BaseService</a>)
        </code>



<a href="#lutris.services.dolphin.DolphinService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DolphinService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;dolphin&quot;</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;dolphin&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Dolphin&quot;</span><span class="p">)</span>
    <span class="n">local</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="n">DolphinBanner</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">DOLPHIN_GAME_CACHE_FILE</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">cache_reader</span> <span class="o">=</span> <span class="n">DolphinCacheReader</span><span class="p">()</span>
        <span class="n">dolphin_games</span> <span class="o">=</span> <span class="p">[</span><span class="n">DolphinGame</span><span class="o">.</span><span class="n">new_from_cache</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">cache_reader</span><span class="o">.</span><span class="n">get_games</span><span class="p">()]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">dolphin_games</span><span class="p">:</span>
            <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">dolphin_games</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;Dolphin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;dolphin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;main_file&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span>
                <span class="p">},</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Pull install location from installer&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;script&quot;</span><span class="p">][</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;main_file&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.dolphin.DolphinService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.dolphin.DolphinService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinService.local" class="doc doc-heading">
<code class="highlight language-python"><span class="n">local</span></code>


<a href="#lutris.services.dolphin.DolphinService.local" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.dolphin.DolphinService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.dolphin.DolphinService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.dolphin.DolphinService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.dolphin.DolphinService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.dolphin.DolphinService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used to generate an installer from the data returned from the services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;Dolphin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;dolphin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;main_file&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">],</span>
                <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span>
            <span class="p">},</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.dolphin.DolphinService.get_game_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">)</span></code>


<a href="#lutris.services.dolphin.DolphinService.get_game_directory" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Pull install location from installer</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pull install location from installer&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;script&quot;</span><span class="p">][</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;main_file&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.dolphin.DolphinService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.dolphin.DolphinService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">DOLPHIN_GAME_CACHE_FILE</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="n">cache_reader</span> <span class="o">=</span> <span class="n">DolphinCacheReader</span><span class="p">()</span>
    <span class="n">dolphin_games</span> <span class="o">=</span> <span class="p">[</span><span class="n">DolphinGame</span><span class="o">.</span><span class="n">new_from_cache</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">cache_reader</span><span class="o">.</span><span class="n">get_games</span><span class="p">()]</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">dolphin_games</span><span class="p">:</span>
        <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">dolphin_games</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.egs" class="doc doc-heading">
        <code>egs</code>



<a href="#lutris.services.egs" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Epic Games Store service</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.egs.BANNER_SIZE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">BANNER_SIZE</span></code>


<a href="#lutris.services.egs.BANNER_SIZE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.egs.BOX_ART_SIZE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">BOX_ART_SIZE</span></code>


<a href="#lutris.services.egs.BOX_ART_SIZE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.egs.EGS_BANNERS_PATH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">EGS_BANNERS_PATH</span></code>


<a href="#lutris.services.egs.EGS_BANNERS_PATH" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.egs.EGS_BOX_ART_PATH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">EGS_BOX_ART_PATH</span></code>


<a href="#lutris.services.egs.EGS_BOX_ART_PATH" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.egs.EGS_GAME_ART_PATH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">EGS_GAME_ART_PATH</span></code>


<a href="#lutris.services.egs.EGS_GAME_ART_PATH" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.egs.EGS_GAME_BOX_PATH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">EGS_GAME_BOX_PATH</span></code>


<a href="#lutris.services.egs.EGS_GAME_BOX_PATH" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.egs.EGS_LOGO_PATH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">EGS_LOGO_PATH</span></code>


<a href="#lutris.services.egs.EGS_LOGO_PATH" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.services.egs.DieselGameBannerSmall" class="doc doc-heading">
        <code>
DieselGameBannerSmall            (<a class="autorefs autorefs-internal" title="lutris.services.egs.DieselGameBox" href="egs/#lutris.services.egs.DieselGameBox">DieselGameBox</a>)
        </code>



<a href="#lutris.services.egs.DieselGameBannerSmall" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DieselGameBannerSmall</span><span class="p">(</span><span class="n">DieselGameBox</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">158</span><span class="p">,</span> <span class="mi">89</span><span class="p">)</span>
    <span class="n">remote_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">316</span><span class="p">,</span> <span class="mi">178</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBannerSmall.remote_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remote_size</span></code>


<a href="#lutris.services.egs.DieselGameBannerSmall.remote_size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBannerSmall.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.egs.DieselGameBannerSmall.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.egs.DieselGameBox" class="doc doc-heading">
        <code>
DieselGameBox            (<a class="autorefs autorefs-internal" title="lutris.services.egs.DieselGameBoxTall" href="egs/#lutris.services.egs.DieselGameBoxTall">DieselGameBoxTall</a>)
        </code>



<a href="#lutris.services.egs.DieselGameBox" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>EGS game box</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DieselGameBox</span><span class="p">(</span><span class="n">DieselGameBoxTall</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;EGS game box&quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">316</span><span class="p">,</span> <span class="mi">178</span><span class="p">)</span>
    <span class="n">remote_size</span> <span class="o">=</span> <span class="n">size</span>
    <span class="n">min_logo_x</span> <span class="o">=</span> <span class="mi">300</span>
    <span class="n">min_logo_y</span> <span class="o">=</span> <span class="mi">150</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;egs/game_box&quot;</span><span class="p">)</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;DieselGameBox&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBox.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.egs.DieselGameBox.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBox.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.egs.DieselGameBox.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBox.min_logo_x" class="doc doc-heading">
<code class="highlight language-python"><span class="n">min_logo_x</span></code>


<a href="#lutris.services.egs.DieselGameBox.min_logo_x" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBox.min_logo_y" class="doc doc-heading">
<code class="highlight language-python"><span class="n">min_logo_y</span></code>


<a href="#lutris.services.egs.DieselGameBox.min_logo_y" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBox.remote_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remote_size</span></code>


<a href="#lutris.services.egs.DieselGameBox.remote_size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBox.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.egs.DieselGameBox.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.egs.DieselGameBoxLogo" class="doc doc-heading">
        <code>
DieselGameBoxLogo            (<a class="autorefs autorefs-internal" title="lutris.services.egs.DieselGameMedia" href="egs/#lutris.services.egs.DieselGameMedia">DieselGameMedia</a>)
        </code>



<a href="#lutris.services.egs.DieselGameBoxLogo" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>EGS game box</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DieselGameBoxLogo</span><span class="p">(</span><span class="n">DieselGameMedia</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;EGS game box&quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">remote_size</span> <span class="o">=</span> <span class="n">size</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span>
    <span class="n">visible</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;egs/game_logo&quot;</span><span class="p">)</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;DieselGameBoxLogo&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxLogo.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.egs.DieselGameBoxLogo.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxLogo.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.egs.DieselGameBoxLogo.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxLogo.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.egs.DieselGameBoxLogo.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxLogo.remote_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remote_size</span></code>


<a href="#lutris.services.egs.DieselGameBoxLogo.remote_size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxLogo.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.egs.DieselGameBoxLogo.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxLogo.visible" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visible</span></code>


<a href="#lutris.services.egs.DieselGameBoxLogo.visible" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.egs.DieselGameBoxSmall" class="doc doc-heading">
        <code>
DieselGameBoxSmall            (<a class="autorefs autorefs-internal" title="lutris.services.egs.DieselGameBoxTall" href="egs/#lutris.services.egs.DieselGameBoxTall">DieselGameBoxTall</a>)
        </code>



<a href="#lutris.services.egs.DieselGameBoxSmall" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DieselGameBoxSmall</span><span class="p">(</span><span class="n">DieselGameBoxTall</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">133</span><span class="p">)</span>
    <span class="n">remote_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">267</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxSmall.remote_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remote_size</span></code>


<a href="#lutris.services.egs.DieselGameBoxSmall.remote_size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxSmall.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.egs.DieselGameBoxSmall.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.egs.DieselGameBoxTall" class="doc doc-heading">
        <code>
DieselGameBoxTall            (<a class="autorefs autorefs-internal" title="lutris.services.egs.DieselGameMedia" href="egs/#lutris.services.egs.DieselGameMedia">DieselGameMedia</a>)
        </code>



<a href="#lutris.services.egs.DieselGameBoxTall" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>EGS tall game box</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DieselGameBoxTall</span><span class="p">(</span><span class="n">DieselGameMedia</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;EGS tall game box&quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">267</span><span class="p">)</span>
    <span class="n">remote_size</span> <span class="o">=</span> <span class="n">size</span>
    <span class="n">min_logo_x</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">min_logo_y</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;egs/game_box_tall&quot;</span><span class="p">)</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;DieselGameBoxTall&quot;</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_render_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxTall.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.egs.DieselGameBoxTall.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxTall.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.egs.DieselGameBoxTall.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxTall.min_logo_x" class="doc doc-heading">
<code class="highlight language-python"><span class="n">min_logo_x</span></code>


<a href="#lutris.services.egs.DieselGameBoxTall.min_logo_x" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxTall.min_logo_y" class="doc doc-heading">
<code class="highlight language-python"><span class="n">min_logo_y</span></code>


<a href="#lutris.services.egs.DieselGameBoxTall.min_logo_y" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxTall.remote_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remote_size</span></code>


<a href="#lutris.services.egs.DieselGameBoxTall.remote_size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameBoxTall.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.egs.DieselGameBoxTall.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.DieselGameBoxTall.render" class="doc doc-heading">
<code class="highlight language-python"><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.egs.DieselGameBoxTall.render" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used if the media requires extra processing</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_render_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.egs.DieselGameMedia" class="doc doc-heading">
        <code>
DieselGameMedia            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.egs.DieselGameMedia" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DieselGameMedia</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;egs&quot;</span>
    <span class="n">remote_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">267</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">min_logo_x</span> <span class="o">=</span> <span class="mi">300</span>
    <span class="n">min_logo_y</span> <span class="o">=</span> <span class="mi">150</span>

    <span class="k">def</span> <span class="nf">_render_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="n">game_box_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="n">logo_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">EGS_LOGO_PATH</span><span class="p">,</span> <span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;.png&quot;</span><span class="p">))</span>
        <span class="n">has_logo</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">logo_path</span><span class="p">)</span>
        <span class="n">thumb_image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">game_box_path</span><span class="p">)</span>
        <span class="n">thumb_image</span> <span class="o">=</span> <span class="n">thumb_image</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">)</span>
        <span class="n">thumb_image</span> <span class="o">=</span> <span class="n">thumbnail_image</span><span class="p">(</span><span class="n">thumb_image</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">remote_size</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">has_logo</span><span class="p">:</span>
            <span class="n">logo_image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">logo_path</span><span class="p">)</span>
            <span class="n">logo_image</span> <span class="o">=</span> <span class="n">logo_image</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">)</span>
            <span class="n">logo_width</span><span class="p">,</span> <span class="n">logo_height</span> <span class="o">=</span> <span class="n">logo_image</span><span class="o">.</span><span class="n">size</span>
            <span class="k">if</span> <span class="n">logo_width</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_logo_x</span><span class="p">:</span>
                <span class="n">logo_image</span> <span class="o">=</span> <span class="n">logo_image</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">min_logo_x</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span>
                    <span class="n">logo_height</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_logo_x</span> <span class="o">/</span> <span class="n">logo_width</span><span class="p">))),</span> <span class="n">resample</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">BICUBIC</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">logo_height</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_logo_y</span><span class="p">:</span>
                <span class="n">logo_image</span> <span class="o">=</span> <span class="n">logo_image</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span>
                    <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">logo_width</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_logo_y</span> <span class="o">/</span> <span class="n">logo_height</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_logo_y</span><span class="p">),</span> <span class="n">resample</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">BICUBIC</span><span class="p">)</span>
            <span class="n">thumb_image</span> <span class="o">=</span> <span class="n">paste_overlay</span><span class="p">(</span><span class="n">thumb_image</span><span class="p">,</span> <span class="n">logo_image</span><span class="p">)</span>
        <span class="n">thumb_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="n">thumb_image</span> <span class="o">=</span> <span class="n">thumb_image</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">)</span>
        <span class="n">thumb_image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">thumb_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;keyImages&quot;</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="k">if</span> <span class="n">image</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">image</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;?w=</span><span class="si">%s</span><span class="s2">&amp;resize=1&amp;h=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">remote_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">remote_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameMedia.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.egs.DieselGameMedia.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameMedia.min_logo_x" class="doc doc-heading">
<code class="highlight language-python"><span class="n">min_logo_x</span></code>


<a href="#lutris.services.egs.DieselGameMedia.min_logo_x" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameMedia.min_logo_y" class="doc doc-heading">
<code class="highlight language-python"><span class="n">min_logo_y</span></code>


<a href="#lutris.services.egs.DieselGameMedia.min_logo_y" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameMedia.remote_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remote_size</span></code>


<a href="#lutris.services.egs.DieselGameMedia.remote_size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.DieselGameMedia.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.egs.DieselGameMedia.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.DieselGameMedia.get_media_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">)</span></code>


<a href="#lutris.services.egs.DieselGameMedia.get_media_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;keyImages&quot;</span><span class="p">,</span> <span class="p">[]):</span>
        <span class="k">if</span> <span class="n">image</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">image</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;?w=</span><span class="si">%s</span><span class="s2">&amp;resize=1&amp;h=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remote_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remote_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.egs.EGSGame" class="doc doc-heading">
        <code>
EGSGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.egs.EGSGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service game for Epic Games Store</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EGSGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service game for Epic Games Store&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;egs&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">egs_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert an EGS game to a service game&quot;&quot;&quot;</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;appName&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">])</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">egs_game</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EGSGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.egs.EGSGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EGSGame.new_from_api" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_api</span><span class="p">(</span><span class="n">egs_game</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.egs.EGSGame.new_from_api" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Convert an EGS game to a service game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">egs_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert an EGS game to a service game&quot;&quot;&quot;</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;appName&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">])</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">egs_game</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.egs.EpicGamesStoreService" class="doc doc-heading">
        <code>
EpicGamesStoreService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.egs.EpicGamesStoreService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for Epic Games Store</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EpicGamesStoreService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for Epic Games Store&quot;&quot;&quot;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;egs&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Epic Games Store&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;egs&quot;</span>
    <span class="n">online</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
    <span class="n">client_installer</span> <span class="o">=</span> <span class="s2">&quot;epic-games-store&quot;</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;game_box_small&quot;</span><span class="p">:</span> <span class="n">DieselGameBoxSmall</span><span class="p">,</span>
        <span class="s2">&quot;game_banner_small&quot;</span><span class="p">:</span> <span class="n">DieselGameBannerSmall</span><span class="p">,</span>
        <span class="s2">&quot;game_box&quot;</span><span class="p">:</span> <span class="n">DieselGameBox</span><span class="p">,</span>
        <span class="s2">&quot;box_tall&quot;</span><span class="p">:</span> <span class="n">DieselGameBoxTall</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">extra_medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;logo&quot;</span><span class="p">:</span> <span class="n">DieselGameBoxLogo</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">default_format</span> <span class="o">=</span> <span class="s2">&quot;game_banner_small&quot;</span>
    <span class="n">requires_login_page</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">cookies_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;.egs.auth&quot;</span><span class="p">)</span>
    <span class="n">token_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;.egs.token&quot;</span><span class="p">)</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;egs-library.json&quot;</span><span class="p">)</span>
    <span class="n">login_url</span> <span class="o">=</span> <span class="s2">&quot;https://www.epicgames.com/id/login?redirectUrl=https://www.epicgames.com/id/api/redirect&quot;</span>
    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">&quot;https://www.epicgames.com/id/api/redirect&quot;</span>
    <span class="n">oauth_url</span> <span class="o">=</span> <span class="s1">&#39;https://account-public-service-prod03.ol.epicgames.com&#39;</span>
    <span class="n">catalog_url</span> <span class="o">=</span> <span class="s1">&#39;https://catalog-public-service-prod06.ol.epicgames.com&#39;</span>
    <span class="n">library_url</span> <span class="o">=</span> <span class="s1">&#39;https://library-service.live.use1a.on.epicgames.com&#39;</span>
    <span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">user_agent</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s1">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) &#39;</span>
        <span class="s1">&#39;AppleWebKit/537.36 (KHTML, like Gecko) &#39;</span>
        <span class="s1">&#39;EpicGamesLauncher/11.0.1-14907503+++Portal+Release-Live &#39;</span>
        <span class="s1">&#39;UnrealEngine/4.23.0-14907503+++Portal+Release-Live &#39;</span>
        <span class="s1">&#39;Chrome/84.0.4147.38 Safari/537.36&#39;</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">token_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">http_basic_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">HTTPBasicAuth</span><span class="p">(</span>
            <span class="s1">&#39;34a02cf8f4414e29b15921876da36f9a&#39;</span><span class="p">,</span>
            <span class="s1">&#39;daafbccc737745039dffe53d94fc76cf&#39;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">egs</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="n">egs_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">egs</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">egs_game</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;game-launch&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Once the user logs in in a browser window, Epic redirects</span>
<span class="sd">        to a page containing a Session ID which we can use to finish the authentication.</span>
<span class="sd">        Store session ID and exchange token to auth file&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Login to EGS successful&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="n">content_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
        <span class="n">session_id</span> <span class="o">=</span> <span class="n">content_json</span><span class="p">[</span><span class="s2">&quot;sid&quot;</span><span class="p">]</span>
        <span class="n">_session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
        <span class="n">_session</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
            <span class="s1">&#39;X-Epic-Event-Action&#39;</span><span class="p">:</span> <span class="s1">&#39;login&#39;</span><span class="p">,</span>
            <span class="s1">&#39;X-Epic-Event-Category&#39;</span><span class="p">:</span> <span class="s1">&#39;login&#39;</span><span class="p">,</span>
            <span class="s1">&#39;X-Epic-Strategy-Flags&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;X-Requested-With&#39;</span><span class="p">:</span> <span class="s1">&#39;XMLHttpRequest&#39;</span><span class="p">,</span>
            <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent</span>
        <span class="p">})</span>

        <span class="n">_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://www.epicgames.com/id/api/set-sid&#39;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;sid&#39;</span><span class="p">:</span> <span class="n">session_id</span><span class="p">})</span>
        <span class="n">_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://www.epicgames.com/id/api/csrf&#39;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">_session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="s1">&#39;https://www.epicgames.com/id/api/exchange/generate&#39;</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;X-XSRF-TOKEN&#39;</span><span class="p">:</span> <span class="n">_session</span><span class="o">.</span><span class="n">cookies</span><span class="p">[</span><span class="s1">&#39;XSRF-TOKEN&#39;</span><span class="p">]}</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to connec to EGS (Status </span><span class="si">%s</span><span class="s2">): </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">start_session</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;code&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resume_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Authorization&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bearer </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/account/api/oauth/verify&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth_url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

        <span class="n">response_content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response_content</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">response_content</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response_content</span>

    <span class="k">def</span> <span class="nf">start_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exchange_code</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">exchange_code</span><span class="p">:</span>
            <span class="n">grant_type</span> <span class="o">=</span> <span class="s1">&#39;exchange_code&#39;</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">exchange_code</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">grant_type</span> <span class="o">=</span> <span class="s1">&#39;refresh_token&#39;</span>
            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span><span class="p">[</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">]</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="s1">&#39;https://account-public-service-prod03.ol.epicgames.com/account/api/oauth/token&#39;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="p">{</span>
                <span class="s1">&#39;grant_type&#39;</span><span class="p">:</span> <span class="n">grant_type</span><span class="p">,</span>
                <span class="n">grant_type</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span>
                <span class="s1">&#39;token_type&#39;</span><span class="p">:</span> <span class="s1">&#39;eg1&#39;</span>
            <span class="p">},</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">http_basic_auth</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

        <span class="n">response_content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">response_content</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">response_content</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">auth_file</span><span class="p">:</span>
            <span class="n">auth_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response_content</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span> <span class="o">=</span> <span class="n">response_content</span>

    <span class="k">def</span> <span class="nf">get_game_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset</span><span class="p">):</span>
        <span class="n">namespace</span> <span class="o">=</span> <span class="n">asset</span><span class="p">[</span><span class="s2">&quot;namespace&quot;</span><span class="p">]</span>
        <span class="n">catalog_item_id</span> <span class="o">=</span> <span class="n">asset</span><span class="p">[</span><span class="s2">&quot;catalogItemId&quot;</span><span class="p">]</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/catalog/api/shared/namespace/</span><span class="si">%s</span><span class="s1">/bulk/items&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">catalog_url</span><span class="p">,</span> <span class="n">namespace</span><span class="p">),</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">catalog_item_id</span><span class="p">,</span>
                <span class="s2">&quot;includeDLCDetails&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;includeMainGameDetails&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;US&quot;</span><span class="p">,</span>
                <span class="s2">&quot;locale&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="c1"># Merge the details with the initial asset to keep &#39;appName&#39;</span>
        <span class="n">asset</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="n">catalog_item_id</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">asset</span>

    <span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resume_session</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/library/api/public/items&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">library_url</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;includeMetadata&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">resData</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">records</span> <span class="o">=</span> <span class="n">resData</span><span class="p">[</span><span class="s1">&#39;records&#39;</span><span class="p">]</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">resData</span><span class="p">[</span><span class="s1">&#39;responseMetadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nextCursor&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/library/api/public/items&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">library_url</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;includeMetadata&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;cursor&#39;</span><span class="p">:</span> <span class="n">cursor</span><span class="p">}</span>
            <span class="p">)</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
            <span class="n">resData</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">records</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">resData</span><span class="p">[</span><span class="s1">&#39;records&#39;</span><span class="p">])</span>
            <span class="n">cursor</span> <span class="o">=</span> <span class="n">resData</span><span class="p">[</span><span class="s1">&#39;responseMetadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nextCursor&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;namespace&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ue&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">game_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
            <span class="n">games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_details</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">games</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load the list of games&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;EGS games are already loading&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">library</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint=disable:broad-except</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;EGS Token expired&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">AuthTokenExpired</span> <span class="kn">from</span> <span class="nn">ex</span>
        <span class="n">egs_games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">library</span><span class="p">:</span>
            <span class="n">egs_game</span> <span class="o">=</span> <span class="n">EGSGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
            <span class="n">egs_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">egs_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">egs_game</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">egs_games</span>

    <span class="k">def</span> <span class="nf">install_from_egs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">egs_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new Lutris game based on an existing EGS install&quot;&quot;&quot;</span>
        <span class="n">app_name</span> <span class="o">=</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;AppName&quot;</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing EGS game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="s2">&quot;egs&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Aborting install, </span><span class="si">%s</span><span class="s2"> is not present in the game library.&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">lutris_game_id</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
        <span class="n">existing_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">game_config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">game_config_id</span><span class="o">=</span><span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;configpath&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">game_level</span>
        <span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;args&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">app_name</span><span class="p">)</span>
        <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="n">game_config</span><span class="p">)</span>
        <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">runner</span><span class="o">=</span><span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;runner&quot;</span><span class="p">],</span>
            <span class="n">slug</span><span class="o">=</span><span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="n">directory</span><span class="o">=</span><span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">],</span>
            <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">installer_slug</span><span class="o">=</span><span class="n">lutris_game_id</span><span class="p">,</span>
            <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">service_id</span><span class="o">=</span><span class="n">app_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">game_id</span>

    <span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Scan an existing EGS install for games&quot;&quot;&quot;</span>
        <span class="n">egs_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="s2">&quot;epic-games-store&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">egs_game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;EGS is not installed in Lutris&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">egs_prefix</span> <span class="o">=</span> <span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;drive_c&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;EGS detected in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">egs_prefix</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">egs_prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c&quot;</span><span class="p">)):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid install of EGS at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">egs_prefix</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">egs_launcher</span> <span class="o">=</span> <span class="n">EGSLauncher</span><span class="p">(</span><span class="n">egs_prefix</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">manifest</span> <span class="ow">in</span> <span class="n">egs_launcher</span><span class="o">.</span><span class="n">iter_manifests</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">install_from_egs</span><span class="p">(</span><span class="n">egs_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;All EGS games imported&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">egs_db_game</span><span class="p">):</span>
        <span class="n">egs_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">egs_db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">egs_exe</span> <span class="o">=</span> <span class="n">egs_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">egs_exe</span><span class="p">):</span>
            <span class="n">egs_exe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">egs_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span> <span class="n">egs_exe</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
            <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;requires&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]),</span>
                <span class="p">},</span>
                <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">egs_exe</span><span class="p">,</span>
                        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span> <span class="s2">&quot;install&quot;</span><span class="p">),</span>
                        <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">egs_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="p">(</span>
                            <span class="s2">&quot;The Epic Game Store will now open. Please launch &quot;</span>
                            <span class="s2">&quot;the installation of </span><span class="si">%s</span><span class="s2"> then close the EGS client &quot;</span>
                            <span class="s2">&quot;once the game has been downloaded.&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="p">}}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">egs_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">egs_game</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;installed&quot;</span><span class="p">]:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;EGS (</span><span class="si">%s</span><span class="s2">) not installed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">)</span>
            <span class="n">installers</span> <span class="o">=</span> <span class="n">get_installers</span><span class="p">(</span>
                <span class="n">game_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">installers</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="n">egs_game</span><span class="p">)],</span>
                <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">appid</span><span class="o">=</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_path</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.catalog_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">catalog_url</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.catalog_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.client_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client_installer</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.client_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.cookies_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cookies_path</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.cookies_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.default_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_format</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.default_format" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.extra_medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extra_medias</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.extra_medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.http_basic_auth" class="doc doc-heading">
<code class="highlight language-python"><span class="n">http_basic_auth</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.egs.EpicGamesStoreService.http_basic_auth" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.is_loading" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_loading</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.is_loading" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.library_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">library_url</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.library_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.login_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_url</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.login_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.oauth_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">oauth_url</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.oauth_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.online" class="doc doc-heading">
<code class="highlight language-python"><span class="n">online</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.online" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.redirect_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">redirect_uri</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.redirect_uri" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.requires_login_page" class="doc doc-heading">
<code class="highlight language-python"><span class="n">requires_login_page</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.requires_login_page" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.token_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">token_path</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.token_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.egs.EpicGamesStoreService.user_agent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">user_agent</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.user_agent" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.services.egs.EpicGamesStoreService.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">token_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.add_installed_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.add_installed_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Scan an existing EGS install for games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Scan an existing EGS install for games&quot;&quot;&quot;</span>
    <span class="n">egs_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="s2">&quot;epic-games-store&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">egs_game</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;EGS is not installed in Lutris&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">egs_prefix</span> <span class="o">=</span> <span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;drive_c&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;EGS detected in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">egs_prefix</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">egs_prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c&quot;</span><span class="p">)):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid install of EGS at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">egs_prefix</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">egs_launcher</span> <span class="o">=</span> <span class="n">EGSLauncher</span><span class="p">(</span><span class="n">egs_prefix</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">manifest</span> <span class="ow">in</span> <span class="n">egs_launcher</span><span class="o">.</span><span class="n">iter_manifests</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">install_from_egs</span><span class="p">(</span><span class="n">egs_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;All EGS games imported&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">egs_db_game</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used to generate an installer from the data returned from the services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">egs_db_game</span><span class="p">):</span>
    <span class="n">egs_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">egs_db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
    <span class="n">egs_exe</span> <span class="o">=</span> <span class="n">egs_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">egs_exe</span><span class="p">):</span>
        <span class="n">egs_exe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">egs_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span> <span class="n">egs_exe</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
        <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;requires&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]),</span>
            <span class="p">},</span>
            <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">egs_exe</span><span class="p">,</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span> <span class="s2">&quot;install&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">egs_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="p">(</span>
                        <span class="s2">&quot;The Epic Game Store will now open. Please launch &quot;</span>
                        <span class="s2">&quot;the installation of </span><span class="si">%s</span><span class="s2"> then close the EGS client &quot;</span>
                        <span class="s2">&quot;once the game has been downloaded.&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="p">}}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.get_game_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.get_game_details" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset</span><span class="p">):</span>
    <span class="n">namespace</span> <span class="o">=</span> <span class="n">asset</span><span class="p">[</span><span class="s2">&quot;namespace&quot;</span><span class="p">]</span>
    <span class="n">catalog_item_id</span> <span class="o">=</span> <span class="n">asset</span><span class="p">[</span><span class="s2">&quot;catalogItemId&quot;</span><span class="p">]</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/catalog/api/shared/namespace/</span><span class="si">%s</span><span class="s1">/bulk/items&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">catalog_url</span><span class="p">,</span> <span class="n">namespace</span><span class="p">),</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">catalog_item_id</span><span class="p">,</span>
            <span class="s2">&quot;includeDLCDetails&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;includeMainGameDetails&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;US&quot;</span><span class="p">,</span>
            <span class="s2">&quot;locale&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="c1"># Merge the details with the initial asset to keep &#39;appName&#39;</span>
    <span class="n">asset</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="n">catalog_item_id</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">asset</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.get_library" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.get_library" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">resume_session</span><span class="p">()</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/library/api/public/items&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">library_url</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;includeMetadata&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="n">resData</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">records</span> <span class="o">=</span> <span class="n">resData</span><span class="p">[</span><span class="s1">&#39;records&#39;</span><span class="p">]</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">resData</span><span class="p">[</span><span class="s1">&#39;responseMetadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nextCursor&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">cursor</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/library/api/public/items&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">library_url</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;includeMetadata&#39;</span><span class="p">:</span> <span class="s1">&#39;true&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;cursor&#39;</span><span class="p">:</span> <span class="n">cursor</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">resData</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">records</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">resData</span><span class="p">[</span><span class="s1">&#39;records&#39;</span><span class="p">])</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">resData</span><span class="p">[</span><span class="s1">&#39;responseMetadata&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nextCursor&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;namespace&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ue&quot;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">game_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
        <span class="n">games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_details</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install a service game, or starts the installer of the game.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>db_game</code></td>
        <td><code>dict or str</code></td>
        <td><p>Database fields of the game to add, or (for Lutris service only
the slug of the game.)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The slug of the game that was installed, to be run. None if the game should not be
    run now. Many installers start from here, but continue running after this returns;
    they return None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">egs_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">egs_game</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;installed&quot;</span><span class="p">]:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;EGS (</span><span class="si">%s</span><span class="s2">) not installed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">)</span>
        <span class="n">installers</span> <span class="o">=</span> <span class="n">get_installers</span><span class="p">(</span>
            <span class="n">game_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">installers</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="n">egs_game</span><span class="p">)],</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">appid</span><span class="o">=</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.install_from_egs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install_from_egs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">egs_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.install_from_egs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a new Lutris game based on an existing EGS install</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install_from_egs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">egs_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a new Lutris game based on an existing EGS install&quot;&quot;&quot;</span>
    <span class="n">app_name</span> <span class="o">=</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;AppName&quot;</span><span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing EGS game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="s2">&quot;egs&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">service_game</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Aborting install, </span><span class="si">%s</span><span class="s2"> is not present in the game library.&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">lutris_game_id</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
    <span class="n">existing_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">game_config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">game_config_id</span><span class="o">=</span><span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;configpath&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">game_level</span>
    <span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;args&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">app_name</span><span class="p">)</span>
    <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="n">game_config</span><span class="p">)</span>
    <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="n">runner</span><span class="o">=</span><span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;runner&quot;</span><span class="p">],</span>
        <span class="n">slug</span><span class="o">=</span><span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="n">directory</span><span class="o">=</span><span class="n">egs_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">],</span>
        <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">installer_slug</span><span class="o">=</span><span class="n">lutris_game_id</span><span class="p">,</span>
        <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">service_id</span><span class="o">=</span><span class="n">app_name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">game_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.is_connected" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.is_connected" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.is_launchable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.is_launchable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Load the list of games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load the list of games&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;EGS games are already loading&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">library</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint=disable:broad-except</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;EGS Token expired&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">AuthTokenExpired</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="n">egs_games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">library</span><span class="p">:</span>
        <span class="n">egs_game</span> <span class="o">=</span> <span class="n">EGSGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
        <span class="n">egs_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">egs_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">egs_game</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">egs_games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.login_callback" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.login_callback" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Once the user logs in in a browser window, Epic redirects
to a page containing a Session ID which we can use to finish the authentication.
Store session ID and exchange token to auth file</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Once the user logs in in a browser window, Epic redirects</span>
<span class="sd">    to a page containing a Session ID which we can use to finish the authentication.</span>
<span class="sd">    Store session ID and exchange token to auth file&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Login to EGS successful&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="n">content_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
    <span class="n">session_id</span> <span class="o">=</span> <span class="n">content_json</span><span class="p">[</span><span class="s2">&quot;sid&quot;</span><span class="p">]</span>
    <span class="n">_session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
    <span class="n">_session</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
        <span class="s1">&#39;X-Epic-Event-Action&#39;</span><span class="p">:</span> <span class="s1">&#39;login&#39;</span><span class="p">,</span>
        <span class="s1">&#39;X-Epic-Event-Category&#39;</span><span class="p">:</span> <span class="s1">&#39;login&#39;</span><span class="p">,</span>
        <span class="s1">&#39;X-Epic-Strategy-Flags&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;X-Requested-With&#39;</span><span class="p">:</span> <span class="s1">&#39;XMLHttpRequest&#39;</span><span class="p">,</span>
        <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent</span>
    <span class="p">})</span>

    <span class="n">_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://www.epicgames.com/id/api/set-sid&#39;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;sid&#39;</span><span class="p">:</span> <span class="n">session_id</span><span class="p">})</span>
    <span class="n">_session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://www.epicgames.com/id/api/csrf&#39;</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">_session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s1">&#39;https://www.epicgames.com/id/api/exchange/generate&#39;</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;X-XSRF-TOKEN&#39;</span><span class="p">:</span> <span class="n">_session</span><span class="o">.</span><span class="n">cookies</span><span class="p">[</span><span class="s1">&#39;XSRF-TOKEN&#39;</span><span class="p">]}</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to connec to EGS (Status </span><span class="si">%s</span><span class="s2">): </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
        <span class="k">return</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">start_session</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;code&#39;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.resume_session" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resume_session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.resume_session" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">resume_session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Authorization&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bearer </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/account/api/oauth/verify&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth_url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="n">response_content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">if</span> <span class="s1">&#39;errorMessage&#39;</span> <span class="ow">in</span> <span class="n">response_content</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">response_content</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response_content</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.run" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Override this method to run a launcher</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">egs</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="n">egs_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">egs</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
    <span class="n">egs_game</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;game-launch&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.egs.EpicGamesStoreService.start_session" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exchange_code</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.services.egs.EpicGamesStoreService.start_session" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exchange_code</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">exchange_code</span><span class="p">:</span>
        <span class="n">grant_type</span> <span class="o">=</span> <span class="s1">&#39;exchange_code&#39;</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">exchange_code</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">grant_type</span> <span class="o">=</span> <span class="s1">&#39;refresh_token&#39;</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span><span class="p">[</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">]</span>

    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s1">&#39;https://account-public-service-prod03.ol.epicgames.com/account/api/oauth/token&#39;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;grant_type&#39;</span><span class="p">:</span> <span class="n">grant_type</span><span class="p">,</span>
            <span class="n">grant_type</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span>
            <span class="s1">&#39;token_type&#39;</span><span class="p">:</span> <span class="s1">&#39;eg1&#39;</span>
        <span class="p">},</span>
        <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">http_basic_auth</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">500</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="n">response_content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">if</span> <span class="s1">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">response_content</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">response_content</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">auth_file</span><span class="p">:</span>
        <span class="n">auth_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response_content</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span> <span class="o">=</span> <span class="n">response_content</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.services.egs.get_launch_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">app_name</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;launch&#39;</span><span class="p">)</span></code>


<a href="#lutris.services.egs.get_launch_arguments" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/egs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_launch_arguments</span><span class="p">(</span><span class="n">app_name</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;launch&quot;</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="s2">&quot;-opengl&quot;</span>
        <span class="s2">&quot; -SkipBuildPatchPrereq&quot;</span>
        <span class="s2">&quot; -com.epicgames.launcher://apps/</span><span class="si">%s</span><span class="s2">?action=</span><span class="si">%s</span><span class="s2">&quot;</span>
    <span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">app_name</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.gog" class="doc doc-heading">
        <code>gog</code>



<a href="#lutris.services.gog" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Module for handling the GOG service</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.gog.GOGGame" class="doc doc-heading">
        <code>
GOGGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.gog.GOGGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Representation of a GOG game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GOGGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Representation of a GOG game&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;gog&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_gog_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">gog_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a GOG game instance from the API info&quot;&quot;&quot;</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="n">GOGGame</span><span class="p">()</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">gog_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">gog_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">gog_game</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">gog_game</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.gog.GOGGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGGame.new_from_gog_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_gog_game</span><span class="p">(</span><span class="n">gog_game</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.gog.GOGGame.new_from_gog_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a GOG game instance from the API info</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_gog_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">gog_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a GOG game instance from the API info&quot;&quot;&quot;</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="n">GOGGame</span><span class="p">()</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">gog_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">gog_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">gog_game</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">gog_game</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.gog.GOGService" class="doc doc-heading">
        <code>
GOGService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.gog.GOGService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for GOG</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GOGService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for GOG&quot;&quot;&quot;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;gog&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;GOG&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;gog&quot;</span>
    <span class="n">has_extras</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">drm_free</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;banner_small&quot;</span><span class="p">:</span> <span class="n">GogSmallBanner</span><span class="p">,</span>
        <span class="s2">&quot;banner&quot;</span><span class="p">:</span> <span class="n">GogMediumBanner</span><span class="p">,</span>
        <span class="s2">&quot;banner_large&quot;</span><span class="p">:</span> <span class="n">GogLargeBanner</span>
    <span class="p">}</span>
    <span class="n">default_format</span> <span class="o">=</span> <span class="s2">&quot;banner&quot;</span>

    <span class="n">embed_url</span> <span class="o">=</span> <span class="s2">&quot;https://embed.gog.com&quot;</span>
    <span class="n">api_url</span> <span class="o">=</span> <span class="s2">&quot;https://api.gog.com&quot;</span>

    <span class="n">client_id</span> <span class="o">=</span> <span class="s2">&quot;46899977096215655&quot;</span>
    <span class="n">client_secret</span> <span class="o">=</span> <span class="s2">&quot;9d85c43b1482497dbbce61f6e4aa173a433796eeae2ca8c5f6129f2dc4de46d9&quot;</span>
    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">&quot;https://embed.gog.com/on_login_success?origin=client&quot;</span>

    <span class="n">login_success_url</span> <span class="o">=</span> <span class="s2">&quot;https://www.gog.com/on_login_success&quot;</span>
    <span class="n">cookies_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;.gog.auth&quot;</span><span class="p">)</span>
    <span class="n">token_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;.gog.token&quot;</span><span class="p">)</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;gog-library.json&quot;</span><span class="p">)</span>

    <span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selected_extras</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">gog_locales</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;en&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
            <span class="s2">&quot;de&quot;</span><span class="p">:</span> <span class="s2">&quot;de-DE&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fr&quot;</span><span class="p">:</span> <span class="s2">&quot;fr-FR&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pl&quot;</span><span class="p">:</span> <span class="s2">&quot;pl-PL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ru&quot;</span><span class="p">:</span> <span class="s2">&quot;ru-RU&quot;</span><span class="p">,</span>
            <span class="s2">&quot;zh&quot;</span><span class="p">:</span> <span class="s2">&quot;zh-Hans&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">locale</span> <span class="o">=</span> <span class="n">gog_locales</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i18n</span><span class="o">.</span><span class="n">get_lang</span><span class="p">(),</span> <span class="s2">&quot;en-US&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">login_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return authentication URL&quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;layout&quot;</span><span class="p">:</span> <span class="s2">&quot;client2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;redirect_uri&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="s2">&quot;response_type&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="s2">&quot;https://auth.gog.com/auth?&quot;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">credential_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cookies_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return whether the user is authenticated and if the service is available&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">user_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_user_data</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">UnauthorizedAccess</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;GOG token is invalid&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">user_data</span> <span class="ow">and</span> <span class="s2">&quot;username&quot;</span> <span class="ow">in</span> <span class="n">user_data</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load the user game library from the GOG API&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;GOG games are already loading&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_connected</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;User not connected to GOG&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">games</span> <span class="o">=</span> <span class="p">[</span><span class="n">GOGGame</span><span class="o">.</span><span class="n">new_from_gog_game</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">()]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span><span class="p">:</span>
            <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">match_games</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">games</span>

    <span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_token</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get authentication token from GOG&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">refresh_token</span><span class="p">:</span>
            <span class="n">grant_type</span> <span class="o">=</span> <span class="s2">&quot;refresh_token&quot;</span>
            <span class="n">extra_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">:</span> <span class="n">refresh_token</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">grant_type</span> <span class="o">=</span> <span class="s2">&quot;authorization_code&quot;</span>
            <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">response_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">query</span><span class="p">))</span>
            <span class="k">if</span> <span class="s2">&quot;code&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response_params</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;code not received from GOG&quot;</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">response_params</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="n">extra_params</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="n">response_params</span><span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">],</span>
                <span class="s2">&quot;redirect_uri&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
            <span class="s2">&quot;client_secret&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="p">,</span>
            <span class="s2">&quot;grant_type&quot;</span><span class="p">:</span> <span class="n">grant_type</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">extra_params</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://auth.gog.com/token?&quot;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get token, check your GOG credentials.&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Clearing existing credentials&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="n">token</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
            <span class="n">token_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">refresh_token</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load token from disk&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="s2">&quot;No GOG token available&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
            <span class="n">token_content</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">token_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">token_content</span>

    <span class="k">def</span> <span class="nf">get_token_age</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return age of token&quot;&quot;&quot;</span>
        <span class="n">token_stat</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">)</span>
        <span class="n">token_modified</span> <span class="o">=</span> <span class="n">token_stat</span><span class="o">.</span><span class="n">st_mtime</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">token_modified</span>

    <span class="k">def</span> <span class="nf">make_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send a cookie authenticated HTTP request to GOG&quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">())</span>
        <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&lt;&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="s2">&quot;Token expired, please log in again&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span>

    <span class="k">def</span> <span class="nf">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send a token authenticated request to GOG&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_token</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">AuthenticationError</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_age</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">2600</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">request_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">=</span><span class="n">token</span><span class="p">[</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">])</span>
            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_token</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Request to </span><span class="si">%s</span><span class="s2"> cancelled because the GOG token could not be acquired&quot;</span><span class="p">,</span>
                    <span class="n">url</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">return</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &quot;</span> <span class="o">+</span> <span class="n">token</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]}</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">())</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Failed to request </span><span class="si">%s</span><span class="s2">, check your GOG credentials and internet connectivity&quot;</span><span class="p">,</span>
                <span class="n">url</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span>

    <span class="k">def</span> <span class="nf">get_user_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return GOG profile information&quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://embed.gog.com/userData.json&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the user&#39;s library of GOG games&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Returning cached GOG library&quot;</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">gog_cache</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">gog_cache</span><span class="p">)</span>

        <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">page</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">page</span> <span class="o">&lt;=</span> <span class="n">total_pages</span><span class="p">:</span>
            <span class="n">products_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_products_page</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="n">page</span><span class="p">)</span>
            <span class="n">page</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="n">products_response</span><span class="p">[</span><span class="s2">&quot;totalPages&quot;</span><span class="p">]</span>
            <span class="n">games</span> <span class="o">+=</span> <span class="n">products_response</span><span class="p">[</span><span class="s2">&quot;products&quot;</span><span class="p">]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">gog_cache</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">games</span><span class="p">,</span> <span class="n">gog_cache</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">games</span>

    <span class="k">def</span> <span class="nf">get_service_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_game</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">GOGGame</span><span class="o">.</span><span class="n">new_from_gog_game</span><span class="p">(</span><span class="n">gog_game</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_products_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a single page of games&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="s2">&quot;User is not logged in&quot;</span><span class="p">)</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mediaType&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">page</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;page&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">page</span>
        <span class="k">if</span> <span class="n">search</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;search&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">search</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">embed_url</span> <span class="o">+</span> <span class="s2">&quot;/account/getFilteredProducts?&quot;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_game_dlcs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the list of DLC products the user owns for a game&quot;&quot;&quot;</span>
        <span class="n">game_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">product_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">game_details</span><span class="p">[</span><span class="s2">&quot;dlcs&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">all_products_url</span> <span class="o">=</span> <span class="n">game_details</span><span class="p">[</span><span class="s2">&quot;dlcs&quot;</span><span class="p">][</span><span class="s2">&quot;expanded_all_products_url&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="n">all_products_url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_game_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return game information for a given game&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">product_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing product ID&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Getting game details for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">product_id</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/products/</span><span class="si">{}</span><span class="s2">?expand=downloads&amp;locale=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span><span class="p">,</span> <span class="n">product_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_download_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downlink</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return file download information&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Getting download info for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">downlink</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="n">downlink</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;HTTP error: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">UnavailableGame</span> <span class="kn">from</span> <span class="nn">ex</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnavailableGame</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;checksum&quot;</span><span class="p">,</span> <span class="s2">&quot;downlink&quot;</span><span class="p">):</span>
            <span class="n">field_url</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>
            <span class="n">parsed</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">field_url</span><span class="p">)</span>
            <span class="n">query</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">query</span><span class="p">))</span>
            <span class="n">response</span><span class="p">[</span><span class="n">field</span> <span class="o">+</span> <span class="s2">&quot;_filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">parsed</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>

    <span class="k">def</span> <span class="nf">get_downloads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gogid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all available downloads for a GOG ID&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">gogid</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to get GOG data because no GOG ID is available&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="n">gog_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">gogid</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">gog_data</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to get GOG data for game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gogid</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">gog_data</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_extras</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gogid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of bonus content available for a GOG ID and its DLCs&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Download extras for GOG ID </span><span class="si">%s</span><span class="s2"> and its DLCs&quot;</span><span class="p">,</span> <span class="n">gogid</span><span class="p">)</span>
        <span class="n">game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">gogid</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to get GOG data for game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gogid</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">dlcs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_dlcs</span><span class="p">(</span><span class="n">gogid</span><span class="p">)</span>
        <span class="n">products</span> <span class="o">=</span> <span class="p">[</span><span class="n">game</span><span class="p">,</span> <span class="o">*</span><span class="n">dlcs</span><span class="p">]</span> <span class="k">if</span> <span class="n">dlcs</span> <span class="k">else</span> <span class="p">[</span><span class="n">game</span><span class="p">]</span>
        <span class="n">all_extras</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">products</span><span class="p">:</span>
            <span class="n">extras</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">capitalize</span><span class="p">(),</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
                    <span class="s2">&quot;total_size&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;total_size&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">download</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]),</span>
                <span class="p">}</span> <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bonus_content&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="n">extras</span><span class="p">:</span>
                <span class="n">all_extras</span><span class="p">[</span><span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">extras</span>
        <span class="k">return</span> <span class="n">all_extras</span>

    <span class="k">def</span> <span class="nf">get_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downloads</span><span class="p">,</span> <span class="n">runner</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return available installers for a GOG game&quot;&quot;&quot;</span>
        <span class="c1"># Filter out Mac installers</span>
        <span class="n">gog_installers</span> <span class="o">=</span> <span class="p">[</span><span class="n">installer</span> <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">downloads</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;installers&quot;</span><span class="p">,</span> <span class="p">[])</span> <span class="k">if</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;os&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;mac&quot;</span><span class="p">]</span>
        <span class="n">available_platforms</span> <span class="o">=</span> <span class="p">{</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;os&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">gog_installers</span><span class="p">}</span>
        <span class="c1"># If it&#39;s a Linux game, also filter out Windows games</span>
        <span class="k">if</span> <span class="s2">&quot;linux&quot;</span> <span class="ow">in</span> <span class="n">available_platforms</span><span class="p">:</span>
            <span class="n">filter_os</span> <span class="o">=</span> <span class="s2">&quot;windows&quot;</span> <span class="k">if</span> <span class="n">runner</span> <span class="o">==</span> <span class="s2">&quot;linux&quot;</span> <span class="k">else</span> <span class="s2">&quot;linux&quot;</span>
            <span class="n">gog_installers</span> <span class="o">=</span> <span class="p">[</span><span class="n">installer</span> <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">gog_installers</span> <span class="k">if</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;os&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">filter_os</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">installer</span>
            <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">gog_installers</span>
            <span class="k">if</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;language&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">determine_language_installer</span><span class="p">(</span><span class="n">gog_installers</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_update_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return updates available for a game, keyed by patch version&quot;&quot;&quot;</span>
        <span class="n">games_detail</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">gog_id</span><span class="p">)</span>
        <span class="n">patches</span> <span class="o">=</span> <span class="n">games_detail</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">][</span><span class="s2">&quot;patches&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">patches</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No patches for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">games_detail</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="n">patch_versions</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">patch</span> <span class="ow">in</span> <span class="n">patches</span><span class="p">:</span>
            <span class="n">patch_versions</span><span class="p">[</span><span class="n">patch</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">patch</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">patch_versions</span>

    <span class="k">def</span> <span class="nf">determine_language_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_installers</span><span class="p">,</span> <span class="n">default_language</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return locale language string if available in gog_installers&quot;&quot;&quot;</span>
        <span class="n">language</span> <span class="o">=</span> <span class="n">i18n</span><span class="o">.</span><span class="n">get_lang</span><span class="p">()</span>
        <span class="n">gog_installers</span> <span class="o">=</span> <span class="p">[</span><span class="n">installer</span> <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">gog_installers</span> <span class="k">if</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;language&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">language</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">gog_installers</span><span class="p">:</span>
            <span class="n">language</span> <span class="o">=</span> <span class="n">default_language</span>
        <span class="k">return</span> <span class="n">language</span>

    <span class="k">def</span> <span class="nf">query_download_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">download</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert files from the GOG API to a format compatible with lutris installers&quot;&quot;&quot;</span>
        <span class="n">download_links</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">game_file</span> <span class="ow">in</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="n">downlink</span> <span class="o">=</span> <span class="n">game_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;downlink&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">downlink</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No download information for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">game_file</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">download_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_download_info</span><span class="p">(</span><span class="n">downlink</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;checksum&#39;</span><span class="p">,</span> <span class="s1">&#39;downlink&#39;</span><span class="p">):</span>
                <span class="n">download_links</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;os&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;total_size&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;total_size&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">game_file</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]),</span>
                    <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">download_info</span><span class="p">[</span><span class="n">field</span><span class="p">],</span>
                    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">download_info</span><span class="p">[</span><span class="n">field</span> <span class="o">+</span> <span class="s2">&quot;_filename&quot;</span><span class="p">]</span>
                <span class="p">})</span>
        <span class="k">return</span> <span class="n">download_links</span>

    <span class="k">def</span> <span class="nf">get_extra_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downloads</span><span class="p">,</span> <span class="n">installer</span><span class="p">):</span>
        <span class="n">extra_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">extra</span> <span class="ow">in</span> <span class="n">downloads</span><span class="p">[</span><span class="s2">&quot;bonus_content&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">extra</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_extras</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">links</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_download_links</span><span class="p">(</span><span class="n">extra</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">):</span>
                    <span class="c1"># GOG gives a link for checksum XML files for bonus content</span>
                    <span class="c1"># but downloading them results in a 404 error.</span>
                    <span class="k">continue</span>
                <span class="n">extra_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">InstallerFile</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">game_slug</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">extra</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]),</span> <span class="p">{</span>
                        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">],</span>
                    <span class="p">})</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">extra_files</span>

    <span class="k">def</span> <span class="nf">_get_installer_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">downloads</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return links to downloadable files from a list of downloads&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">gog_installers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_installers</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">installer</span><span class="o">.</span><span class="n">runner</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">gog_installers</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">gog_installers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;More than 1 GOG installer found, picking first.&quot;</span><span class="p">)</span>
            <span class="n">_installer</span> <span class="o">=</span> <span class="n">gog_installers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_download_links</span><span class="p">(</span><span class="n">_installer</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnavailableGame</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t load the download links for this game&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>

    <span class="k">def</span> <span class="nf">get_patch_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting patches for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">installer</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
        <span class="n">downloads</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_downloads</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">service_appid</span><span class="p">)</span>
        <span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">patch_file</span> <span class="ow">in</span> <span class="n">downloads</span><span class="p">[</span><span class="s2">&quot;patches&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="s2">&quot;GOG &quot;</span> <span class="o">+</span> <span class="n">patch_file</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">installer</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
                <span class="n">links</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_download_links</span><span class="p">(</span><span class="n">patch_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_links</span><span class="p">(</span><span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">,</span> <span class="n">links</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_format_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">,</span> <span class="n">links</span><span class="p">):</span>
        <span class="n">_installer_files</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>  <span class="c1"># keyed by filename</span>
        <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid link: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">link</span><span class="p">)</span>
                <span class="k">raise</span>
            <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">filename</span> <span class="o">!=</span> <span class="n">installer_file_id</span><span class="p">:</span>
                    <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
                <span class="n">_installer_files</span><span class="p">[</span><span class="n">filename</span><span class="p">][</span><span class="s2">&quot;checksum_url&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">]</span>
                <span class="k">continue</span>
            <span class="n">_installer_files</span><span class="p">[</span><span class="n">filename</span><span class="p">][</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
            <span class="n">_installer_files</span><span class="p">[</span><span class="n">filename</span><span class="p">][</span><span class="s2">&quot;url&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">]</span>
            <span class="n">_installer_files</span><span class="p">[</span><span class="n">filename</span><span class="p">][</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filename</span>
            <span class="n">_installer_files</span><span class="p">[</span><span class="n">filename</span><span class="p">][</span><span class="s2">&quot;total_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;total_size&quot;</span><span class="p">]</span>
        <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">file_id_provided</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Only assign installer_file_id once</span>
        <span class="k">for</span> <span class="n">_file_id</span> <span class="ow">in</span> <span class="n">_installer_files</span><span class="p">:</span>
            <span class="n">installer_file</span> <span class="o">=</span> <span class="n">_installer_files</span><span class="p">[</span><span class="n">_file_id</span><span class="p">]</span>
            <span class="k">if</span> <span class="s2">&quot;url&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">installer_file</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid installer file </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">installer_file</span><span class="p">)</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">installer_file</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;.exe&quot;</span><span class="p">,</span> <span class="s2">&quot;.sh&quot;</span><span class="p">))</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">file_id_provided</span><span class="p">:</span>
                <span class="n">file_id</span> <span class="o">=</span> <span class="n">installer_file_id</span>
                <span class="n">file_id_provided</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">file_id</span> <span class="o">=</span> <span class="n">_file_id</span>
            <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">InstallerFile</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="p">{</span>
                <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">installer_file</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">],</span>
                <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">installer_file</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">],</span>
                <span class="s2">&quot;checksum_url&quot;</span><span class="p">:</span> <span class="n">installer_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checksum_url&quot;</span><span class="p">)</span>
            <span class="p">}))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">file_id_provided</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnavailableGame</span><span class="p">(</span><span class="s2">&quot;Unable to determine correct file to launch installer&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">files</span>

    <span class="k">def</span> <span class="nf">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">downloads</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_downloads</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">service_appid</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnavailableGame</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t load the downloads for this game&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
        <span class="n">links</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_installer_links</span><span class="p">(</span><span class="n">installer</span><span class="p">,</span> <span class="n">downloads</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">links</span><span class="p">:</span>
            <span class="n">files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_links</span><span class="p">(</span><span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">,</span> <span class="n">links</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_extras</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">extra_file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_extra_files</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">installer</span><span class="p">):</span>
                <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extra_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">files</span>

    <span class="k">def</span> <span class="nf">read_file_checksum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the MD5 checksum for a GOG file</span>
<span class="sd">        Requires a GOG XML file as input</span>
<span class="sd">        This has yet to be used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Pass a XML file to return the checksum&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">checksum_file</span><span class="p">:</span>
            <span class="n">checksum_content</span> <span class="o">=</span> <span class="n">checksum_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">root_elem</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">checksum_content</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">root_elem</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">root_elem</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;md5&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
        <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">platform</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">platform</span><span class="p">,</span> <span class="n">is_supported</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;worksOn&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">is_supported</span><span class="p">]</span>
        <span class="n">system_config</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="s2">&quot;linux&quot;</span> <span class="ow">in</span> <span class="n">platforms</span><span class="p">:</span>
            <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;linux&quot;</span>
            <span class="n">game_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">AUTO_ELF_EXE</span><span class="p">}</span>
            <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;goginstaller&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;zip&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE&quot;</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/noarch&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}},</span>
            <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
            <span class="n">game_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">AUTO_WIN32_EXE</span><span class="p">}</span>
            <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;autosetup_gog_game&quot;</span><span class="p">:</span> <span class="s2">&quot;goginstaller&quot;</span><span class="p">},</span>
            <span class="p">]</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;GOG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="n">runner</span><span class="p">,</span>
            <span class="s2">&quot;gogid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="n">game_config</span><span class="p">,</span>
                <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="n">system_config</span><span class="p">,</span>
                <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;goginstaller&quot;</span><span class="p">:</span> <span class="s2">&quot;N/A:Select the installer from GOG&quot;</span><span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="n">script</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_dlc_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;service_id&quot;</span><span class="p">]</span>
        <span class="n">dlcs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_dlcs</span><span class="p">(</span><span class="n">appid</span><span class="p">)</span>
        <span class="n">installers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">dlc</span> <span class="ow">in</span> <span class="n">dlcs</span><span class="p">:</span>
            <span class="n">dlc_id</span> <span class="o">=</span> <span class="s2">&quot;gogdlc-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span>
            <span class="n">installer</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span>
                <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
                <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;DLC for </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
                <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;wine&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_dlc&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;dlcid&quot;</span><span class="p">:</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
                <span class="s2">&quot;gogid&quot;</span><span class="p">:</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
                <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;extends&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span><span class="n">dlc_id</span><span class="p">:</span> <span class="s2">&quot;N/A:Select the patch from GOG&quot;</span><span class="p">}</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span> <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">dlc_id</span><span class="p">}}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">installers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">installer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">installers</span>

    <span class="k">def</span> <span class="nf">get_update_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;service_id&quot;</span><span class="p">]</span>
        <span class="n">patch_versions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_update_versions</span><span class="p">(</span><span class="n">appid</span><span class="p">)</span>
        <span class="n">patch_installers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">patch_versions</span><span class="p">:</span>
            <span class="n">patch</span> <span class="o">=</span> <span class="n">patch_versions</span><span class="p">[</span><span class="n">version</span><span class="p">]</span>
            <span class="n">size</span> <span class="o">=</span> <span class="n">human_size</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">part</span><span class="p">[</span><span class="s2">&quot;total_size&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">patch</span><span class="p">]))</span>
            <span class="n">patch_id</span> <span class="o">=</span> <span class="s2">&quot;gogpatch-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">slugify</span><span class="p">(</span><span class="n">patch</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;version&quot;</span><span class="p">])</span>
            <span class="n">installer</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">patch</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">size</span><span class="p">,</span>
                <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">],</span>
                <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
                <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;GOG &quot;</span> <span class="o">+</span> <span class="n">patch</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;version&quot;</span><span class="p">],</span>
                <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;wine&quot;</span><span class="p">,</span>
                <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;extends&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span><span class="n">patch_id</span><span class="p">:</span> <span class="s2">&quot;N/A:Select the patch from GOG&quot;</span><span class="p">}</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span> <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">patch_id</span><span class="p">}}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">patch_installers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">installer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">patch_installers</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.api_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_url</span></code>


<a href="#lutris.services.gog.GOGService.api_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_path</span></code>


<a href="#lutris.services.gog.GOGService.cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.client_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client_id</span></code>


<a href="#lutris.services.gog.GOGService.client_id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.client_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client_secret</span></code>


<a href="#lutris.services.gog.GOGService.client_secret" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.cookies_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cookies_path</span></code>


<a href="#lutris.services.gog.GOGService.cookies_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.credential_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">credential_files</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.gog.GOGService.credential_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of all files used for authentication</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.default_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_format</span></code>


<a href="#lutris.services.gog.GOGService.default_format" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.drm_free" class="doc doc-heading">
<code class="highlight language-python"><span class="n">drm_free</span></code>


<a href="#lutris.services.gog.GOGService.drm_free" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.embed_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">embed_url</span></code>


<a href="#lutris.services.gog.GOGService.embed_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.has_extras" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_extras</span></code>


<a href="#lutris.services.gog.GOGService.has_extras" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.gog.GOGService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.gog.GOGService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.is_loading" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_loading</span></code>


<a href="#lutris.services.gog.GOGService.is_loading" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.login_success_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_success_url</span></code>


<a href="#lutris.services.gog.GOGService.login_success_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.login_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_url</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.gog.GOGService.login_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return authentication URL</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.gog.GOGService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.gog.GOGService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.redirect_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">redirect_uri</span></code>


<a href="#lutris.services.gog.GOGService.redirect_uri" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GOGService.token_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">token_path</span></code>


<a href="#lutris.services.gog.GOGService.token_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.services.gog.GOGService.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selected_extras</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">gog_locales</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;en&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
        <span class="s2">&quot;de&quot;</span><span class="p">:</span> <span class="s2">&quot;de-DE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fr&quot;</span><span class="p">:</span> <span class="s2">&quot;fr-FR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pl&quot;</span><span class="p">:</span> <span class="s2">&quot;pl-PL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ru&quot;</span><span class="p">:</span> <span class="s2">&quot;ru-RU&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zh&quot;</span><span class="p">:</span> <span class="s2">&quot;zh-Hans&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">locale</span> <span class="o">=</span> <span class="n">gog_locales</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i18n</span><span class="o">.</span><span class="n">get_lang</span><span class="p">(),</span> <span class="s2">&quot;en-US&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.determine_language_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">determine_language_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_installers</span><span class="p">,</span> <span class="n">default_language</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.determine_language_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return locale language string if available in gog_installers</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">determine_language_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_installers</span><span class="p">,</span> <span class="n">default_language</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return locale language string if available in gog_installers&quot;&quot;&quot;</span>
    <span class="n">language</span> <span class="o">=</span> <span class="n">i18n</span><span class="o">.</span><span class="n">get_lang</span><span class="p">()</span>
    <span class="n">gog_installers</span> <span class="o">=</span> <span class="p">[</span><span class="n">installer</span> <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">gog_installers</span> <span class="k">if</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;language&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">language</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">gog_installers</span><span class="p">:</span>
        <span class="n">language</span> <span class="o">=</span> <span class="n">default_language</span>
    <span class="k">return</span> <span class="n">language</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used to generate an installer from the data returned from the services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">platform</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">platform</span><span class="p">,</span> <span class="n">is_supported</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;worksOn&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">is_supported</span><span class="p">]</span>
    <span class="n">system_config</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="s2">&quot;linux&quot;</span> <span class="ow">in</span> <span class="n">platforms</span><span class="p">:</span>
        <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;linux&quot;</span>
        <span class="n">game_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">AUTO_ELF_EXE</span><span class="p">}</span>
        <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;goginstaller&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;zip&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE&quot;</span><span class="p">}},</span>
            <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/noarch&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}},</span>
        <span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
        <span class="n">game_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">AUTO_WIN32_EXE</span><span class="p">}</span>
        <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;autosetup_gog_game&quot;</span><span class="p">:</span> <span class="s2">&quot;goginstaller&quot;</span><span class="p">},</span>
        <span class="p">]</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;GOG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="n">runner</span><span class="p">,</span>
        <span class="s2">&quot;gogid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="n">game_config</span><span class="p">,</span>
            <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="n">system_config</span><span class="p">,</span>
            <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;goginstaller&quot;</span><span class="p">:</span> <span class="s2">&quot;N/A:Select the installer from GOG&quot;</span><span class="p">}</span>
            <span class="p">],</span>
            <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="n">script</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_dlc_installers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_dlc_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_dlc_installers" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_dlc_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;service_id&quot;</span><span class="p">]</span>
    <span class="n">dlcs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_dlcs</span><span class="p">(</span><span class="n">appid</span><span class="p">)</span>
    <span class="n">installers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">dlc</span> <span class="ow">in</span> <span class="n">dlcs</span><span class="p">:</span>
        <span class="n">dlc_id</span> <span class="o">=</span> <span class="s2">&quot;gogdlc-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span>
        <span class="n">installer</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;DLC for </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;wine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_dlc&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;dlcid&quot;</span><span class="p">:</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
            <span class="s2">&quot;gogid&quot;</span><span class="p">:</span> <span class="n">dlc</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;extends&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">],</span>
                <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="n">dlc_id</span><span class="p">:</span> <span class="s2">&quot;N/A:Select the patch from GOG&quot;</span><span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span> <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">dlc_id</span><span class="p">}}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">installers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">installer</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">installers</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_download_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_download_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downlink</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_download_info" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return file download information</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_download_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downlink</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return file download information&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Getting download info for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">downlink</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="n">downlink</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;HTTP error: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">UnavailableGame</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">UnavailableGame</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;checksum&quot;</span><span class="p">,</span> <span class="s2">&quot;downlink&quot;</span><span class="p">):</span>
        <span class="n">field_url</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="n">field</span><span class="p">]</span>
        <span class="n">parsed</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">field_url</span><span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">query</span><span class="p">))</span>
        <span class="n">response</span><span class="p">[</span><span class="n">field</span> <span class="o">+</span> <span class="s2">&quot;_filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">parsed</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_downloads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_downloads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gogid</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_downloads" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return all available downloads for a GOG ID</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_downloads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gogid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return all available downloads for a GOG ID&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">gogid</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to get GOG data because no GOG ID is available&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="n">gog_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">gogid</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">gog_data</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to get GOG data for game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gogid</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">gog_data</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_extra_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_extra_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downloads</span><span class="p">,</span> <span class="n">installer</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_extra_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_extra_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downloads</span><span class="p">,</span> <span class="n">installer</span><span class="p">):</span>
    <span class="n">extra_files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">extra</span> <span class="ow">in</span> <span class="n">downloads</span><span class="p">[</span><span class="s2">&quot;bonus_content&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">extra</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_extras</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">links</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_download_links</span><span class="p">(</span><span class="n">extra</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">):</span>
                <span class="c1"># GOG gives a link for checksum XML files for bonus content</span>
                <span class="c1"># but downloading them results in a 404 error.</span>
                <span class="k">continue</span>
            <span class="n">extra_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">InstallerFile</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">game_slug</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">extra</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]),</span> <span class="p">{</span>
                    <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">],</span>
                <span class="p">})</span>
            <span class="p">)</span>
    <span class="k">return</span> <span class="n">extra_files</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_extras" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_extras</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gogid</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_extras" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of bonus content available for a GOG ID and its DLCs</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_extras</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gogid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of bonus content available for a GOG ID and its DLCs&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Download extras for GOG ID </span><span class="si">%s</span><span class="s2"> and its DLCs&quot;</span><span class="p">,</span> <span class="n">gogid</span><span class="p">)</span>
    <span class="n">game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">gogid</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">game</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to get GOG data for game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gogid</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">dlcs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_dlcs</span><span class="p">(</span><span class="n">gogid</span><span class="p">)</span>
    <span class="n">products</span> <span class="o">=</span> <span class="p">[</span><span class="n">game</span><span class="p">,</span> <span class="o">*</span><span class="n">dlcs</span><span class="p">]</span> <span class="k">if</span> <span class="n">dlcs</span> <span class="k">else</span> <span class="p">[</span><span class="n">game</span><span class="p">]</span>
    <span class="n">all_extras</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">products</span><span class="p">:</span>
        <span class="n">extras</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">capitalize</span><span class="p">(),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
                <span class="s2">&quot;total_size&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;total_size&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">download</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]),</span>
            <span class="p">}</span> <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bonus_content&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">extras</span><span class="p">:</span>
            <span class="n">all_extras</span><span class="p">[</span><span class="n">product</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">extras</span>
    <span class="k">return</span> <span class="n">all_extras</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_game_details" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product_id</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_game_details" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return game information for a given game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_details</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return game information for a given game&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">product_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing product ID&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Getting game details for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">product_id</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/products/</span><span class="si">{}</span><span class="s2">?expand=downloads&amp;locale=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span><span class="p">,</span> <span class="n">product_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_game_dlcs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_dlcs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product_id</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_game_dlcs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of DLC products the user owns for a game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_dlcs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">product_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the list of DLC products the user owns for a game&quot;&quot;&quot;</span>
    <span class="n">game_details</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">product_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">game_details</span><span class="p">[</span><span class="s2">&quot;dlcs&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">all_products_url</span> <span class="o">=</span> <span class="n">game_details</span><span class="p">[</span><span class="s2">&quot;dlcs&quot;</span><span class="p">][</span><span class="s2">&quot;expanded_all_products_url&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="n">all_products_url</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_installer_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_installer_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">downloads</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_downloads</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">service_appid</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">UnavailableGame</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t load the downloads for this game&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
    <span class="n">links</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_installer_links</span><span class="p">(</span><span class="n">installer</span><span class="p">,</span> <span class="n">downloads</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">links</span><span class="p">:</span>
        <span class="n">files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_links</span><span class="p">(</span><span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">,</span> <span class="n">links</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">selected_extras</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">extra_file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_extra_files</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">installer</span><span class="p">):</span>
            <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extra_file</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">files</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_installers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downloads</span><span class="p">,</span> <span class="n">runner</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_installers" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return available installers for a GOG game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">downloads</span><span class="p">,</span> <span class="n">runner</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return available installers for a GOG game&quot;&quot;&quot;</span>
    <span class="c1"># Filter out Mac installers</span>
    <span class="n">gog_installers</span> <span class="o">=</span> <span class="p">[</span><span class="n">installer</span> <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">downloads</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;installers&quot;</span><span class="p">,</span> <span class="p">[])</span> <span class="k">if</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;os&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;mac&quot;</span><span class="p">]</span>
    <span class="n">available_platforms</span> <span class="o">=</span> <span class="p">{</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;os&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">gog_installers</span><span class="p">}</span>
    <span class="c1"># If it&#39;s a Linux game, also filter out Windows games</span>
    <span class="k">if</span> <span class="s2">&quot;linux&quot;</span> <span class="ow">in</span> <span class="n">available_platforms</span><span class="p">:</span>
        <span class="n">filter_os</span> <span class="o">=</span> <span class="s2">&quot;windows&quot;</span> <span class="k">if</span> <span class="n">runner</span> <span class="o">==</span> <span class="s2">&quot;linux&quot;</span> <span class="k">else</span> <span class="s2">&quot;linux&quot;</span>
        <span class="n">gog_installers</span> <span class="o">=</span> <span class="p">[</span><span class="n">installer</span> <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">gog_installers</span> <span class="k">if</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;os&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">filter_os</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">installer</span>
        <span class="k">for</span> <span class="n">installer</span> <span class="ow">in</span> <span class="n">gog_installers</span>
        <span class="k">if</span> <span class="n">installer</span><span class="p">[</span><span class="s2">&quot;language&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">determine_language_installer</span><span class="p">(</span><span class="n">gog_installers</span><span class="p">,</span> <span class="n">language</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_library" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_library" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the user's library of GOG games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the user&#39;s library of GOG games&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Returning cached GOG library&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">gog_cache</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">gog_cache</span><span class="p">)</span>

    <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">page</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">page</span> <span class="o">&lt;=</span> <span class="n">total_pages</span><span class="p">:</span>
        <span class="n">products_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_products_page</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="n">page</span><span class="p">)</span>
        <span class="n">page</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="n">products_response</span><span class="p">[</span><span class="s2">&quot;totalPages&quot;</span><span class="p">]</span>
        <span class="n">games</span> <span class="o">+=</span> <span class="n">products_response</span><span class="p">[</span><span class="s2">&quot;products&quot;</span><span class="p">]</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">gog_cache</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">games</span><span class="p">,</span> <span class="n">gog_cache</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_patch_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_patch_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_patch_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_patch_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting patches for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">installer</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
    <span class="n">downloads</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_downloads</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">service_appid</span><span class="p">)</span>
    <span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">patch_file</span> <span class="ow">in</span> <span class="n">downloads</span><span class="p">[</span><span class="s2">&quot;patches&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="s2">&quot;GOG &quot;</span> <span class="o">+</span> <span class="n">patch_file</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">installer</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
            <span class="n">links</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_download_links</span><span class="p">(</span><span class="n">patch_file</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_links</span><span class="p">(</span><span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">,</span> <span class="n">links</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_products_page" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_products_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_products_page" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a single page of games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_products_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a single page of games&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="s2">&quot;User is not logged in&quot;</span><span class="p">)</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mediaType&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">page</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;page&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">page</span>
    <span class="k">if</span> <span class="n">search</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;search&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">search</span>
    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">embed_url</span> <span class="o">+</span> <span class="s2">&quot;/account/getFilteredProducts?&quot;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_service_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_game</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_service_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_game</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">GOGGame</span><span class="o">.</span><span class="n">new_from_gog_game</span><span class="p">(</span><span class="n">gog_game</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_token_age" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_token_age</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_token_age" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return age of token</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_token_age</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return age of token&quot;&quot;&quot;</span>
    <span class="n">token_stat</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">)</span>
    <span class="n">token_modified</span> <span class="o">=</span> <span class="n">token_stat</span><span class="o">.</span><span class="n">st_mtime</span>
    <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">token_modified</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_update_installers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_update_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_update_installers" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_update_installers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;service_id&quot;</span><span class="p">]</span>
    <span class="n">patch_versions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_update_versions</span><span class="p">(</span><span class="n">appid</span><span class="p">)</span>
    <span class="n">patch_installers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">patch_versions</span><span class="p">:</span>
        <span class="n">patch</span> <span class="o">=</span> <span class="n">patch_versions</span><span class="p">[</span><span class="n">version</span><span class="p">]</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">human_size</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">part</span><span class="p">[</span><span class="s2">&quot;total_size&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">patch</span><span class="p">]))</span>
        <span class="n">patch_id</span> <span class="o">=</span> <span class="s2">&quot;gogpatch-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">slugify</span><span class="p">(</span><span class="n">patch</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;version&quot;</span><span class="p">])</span>
        <span class="n">installer</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">patch</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">size</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">],</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;GOG &quot;</span> <span class="o">+</span> <span class="n">patch</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;version&quot;</span><span class="p">],</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;wine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;extends&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;installer_slug&quot;</span><span class="p">],</span>
                <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="n">patch_id</span><span class="p">:</span> <span class="s2">&quot;N/A:Select the patch from GOG&quot;</span><span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span> <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">patch_id</span><span class="p">}}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">patch_installers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">installer</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">patch_installers</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_update_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_update_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_id</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_update_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return updates available for a game, keyed by patch version</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_update_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gog_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return updates available for a game, keyed by patch version&quot;&quot;&quot;</span>
    <span class="n">games_detail</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_details</span><span class="p">(</span><span class="n">gog_id</span><span class="p">)</span>
    <span class="n">patches</span> <span class="o">=</span> <span class="n">games_detail</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">][</span><span class="s2">&quot;patches&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">patches</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No patches for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">games_detail</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="n">patch_versions</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">patch</span> <span class="ow">in</span> <span class="n">patches</span><span class="p">:</span>
        <span class="n">patch_versions</span><span class="p">[</span><span class="n">patch</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">patch</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">patch_versions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.get_user_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.get_user_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return GOG profile information</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_user_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return GOG profile information&quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://embed.gog.com/userData.json&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.is_connected" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.is_connected" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return whether the user is authenticated and if the service is available</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return whether the user is authenticated and if the service is available&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">user_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_user_data</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">UnauthorizedAccess</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;GOG token is invalid&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">user_data</span> <span class="ow">and</span> <span class="s2">&quot;username&quot;</span> <span class="ow">in</span> <span class="n">user_data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Load the user game library from the GOG API</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load the user game library from the GOG API&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;GOG games are already loading&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_connected</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;User not connected to GOG&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">games</span> <span class="o">=</span> <span class="p">[</span><span class="n">GOGGame</span><span class="o">.</span><span class="n">new_from_gog_game</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">()]</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span><span class="p">:</span>
        <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">match_games</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.load_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.load_token" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Load token from disk</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load token from disk&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="s2">&quot;No GOG token available&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
        <span class="n">token_content</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">token_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">token_content</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.login_callback" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.login_callback" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">request_token</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.make_api_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.make_api_request" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Send a token authenticated request to GOG</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send a token authenticated request to GOG&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_token</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">AuthenticationError</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_token_age</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">2600</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">request_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="o">=</span><span class="n">token</span><span class="p">[</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">])</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_token</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Request to </span><span class="si">%s</span><span class="s2"> cancelled because the GOG token could not be acquired&quot;</span><span class="p">,</span>
                <span class="n">url</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &quot;</span> <span class="o">+</span> <span class="n">token</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]}</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">())</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Failed to request </span><span class="si">%s</span><span class="s2">, check your GOG credentials and internet connectivity&quot;</span><span class="p">,</span>
            <span class="n">url</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span>
    <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.make_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.make_request" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Send a cookie authenticated HTTP request to GOG</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">make_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send a cookie authenticated HTTP request to GOG&quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">())</span>
    <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&lt;&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="s2">&quot;Token expired, please log in again&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.query_download_links" class="doc doc-heading">
<code class="highlight language-python"><span class="n">query_download_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">download</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.query_download_links" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Convert files from the GOG API to a format compatible with lutris installers</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">query_download_links</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">download</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert files from the GOG API to a format compatible with lutris installers&quot;&quot;&quot;</span>
    <span class="n">download_links</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">game_file</span> <span class="ow">in</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">,</span> <span class="p">[]):</span>
        <span class="n">downlink</span> <span class="o">=</span> <span class="n">game_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;downlink&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">downlink</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No download information for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">game_file</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="n">download_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_download_info</span><span class="p">(</span><span class="n">downlink</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;checksum&#39;</span><span class="p">,</span> <span class="s1">&#39;downlink&#39;</span><span class="p">):</span>
            <span class="n">download_links</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                <span class="s2">&quot;os&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                <span class="s2">&quot;total_size&quot;</span><span class="p">:</span> <span class="n">download</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;total_size&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">game_file</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]),</span>
                <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">download_info</span><span class="p">[</span><span class="n">field</span><span class="p">],</span>
                <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">download_info</span><span class="p">[</span><span class="n">field</span> <span class="o">+</span> <span class="s2">&quot;_filename&quot;</span><span class="p">]</span>
            <span class="p">})</span>
    <span class="k">return</span> <span class="n">download_links</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.read_file_checksum" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_file_checksum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.read_file_checksum" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the MD5 checksum for a GOG file
Requires a GOG XML file as input
This has yet to be used.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_file_checksum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the MD5 checksum for a GOG file</span>
<span class="sd">    Requires a GOG XML file as input</span>
<span class="sd">    This has yet to be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Pass a XML file to return the checksum&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">checksum_file</span><span class="p">:</span>
        <span class="n">checksum_content</span> <span class="o">=</span> <span class="n">checksum_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">root_elem</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">checksum_content</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">root_elem</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">root_elem</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;md5&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.gog.GOGService.request_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>


<a href="#lutris.services.gog.GOGService.request_token" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Get authentication token from GOG</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">request_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">refresh_token</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get authentication token from GOG&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">refresh_token</span><span class="p">:</span>
        <span class="n">grant_type</span> <span class="o">=</span> <span class="s2">&quot;refresh_token&quot;</span>
        <span class="n">extra_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;refresh_token&quot;</span><span class="p">:</span> <span class="n">refresh_token</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">grant_type</span> <span class="o">=</span> <span class="s2">&quot;authorization_code&quot;</span>
        <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">response_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">query</span><span class="p">))</span>
        <span class="k">if</span> <span class="s2">&quot;code&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response_params</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;code not received from GOG&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">response_params</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">extra_params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="n">response_params</span><span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">],</span>
            <span class="s2">&quot;redirect_uri&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">redirect_uri</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>
        <span class="s2">&quot;client_secret&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="p">,</span>
        <span class="s2">&quot;grant_type&quot;</span><span class="p">:</span> <span class="n">grant_type</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">extra_params</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://auth.gog.com/token?&quot;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get token, check your GOG credentials.&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Clearing existing credentials&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="k">return</span>

    <span class="n">token</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
        <span class="n">token_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">refresh_token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.gog.GogLargeBanner" class="doc doc-heading">
        <code>
GogLargeBanner            (<a class="autorefs autorefs-internal" title="lutris.services.gog.GogSmallBanner" href="gog/#lutris.services.gog.GogSmallBanner">GogSmallBanner</a>)
        </code>



<a href="#lutris.services.gog.GogLargeBanner" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Big size game logo</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GogLargeBanner</span><span class="p">(</span><span class="n">GogSmallBanner</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Big size game logo&quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">392</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;gog/banners/large&quot;</span><span class="p">)</span>
    <span class="n">url_pattern</span> <span class="o">=</span> <span class="s2">&quot;https:</span><span class="si">%s</span><span class="s2">_392.jpg&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogLargeBanner.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.gog.GogLargeBanner.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogLargeBanner.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.gog.GogLargeBanner.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogLargeBanner.url_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url_pattern</span></code>


<a href="#lutris.services.gog.GogLargeBanner.url_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.gog.GogMediumBanner" class="doc doc-heading">
        <code>
GogMediumBanner            (<a class="autorefs autorefs-internal" title="lutris.services.gog.GogSmallBanner" href="gog/#lutris.services.gog.GogSmallBanner">GogSmallBanner</a>)
        </code>



<a href="#lutris.services.gog.GogMediumBanner" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Medium size game logo</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GogMediumBanner</span><span class="p">(</span><span class="n">GogSmallBanner</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Medium size game logo&quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">196</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;gog/banners/medium&quot;</span><span class="p">)</span>
    <span class="n">url_pattern</span> <span class="o">=</span> <span class="s2">&quot;https:</span><span class="si">%s</span><span class="s2">_196.jpg&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogMediumBanner.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.gog.GogMediumBanner.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogMediumBanner.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.gog.GogMediumBanner.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogMediumBanner.url_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url_pattern</span></code>


<a href="#lutris.services.gog.GogMediumBanner.url_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.gog.GogSmallBanner" class="doc doc-heading">
        <code>
GogSmallBanner            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.gog.GogSmallBanner" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Small size game logo</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GogSmallBanner</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Small size game logo&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;gog&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;gog/banners/small&quot;</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;image&quot;</span>
    <span class="n">url_pattern</span> <span class="o">=</span> <span class="s2">&quot;https:</span><span class="si">%s</span><span class="s2">_prof_game_100x60.jpg&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogSmallBanner.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.gog.GogSmallBanner.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogSmallBanner.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.gog.GogSmallBanner.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogSmallBanner.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.gog.GogSmallBanner.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogSmallBanner.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.gog.GogSmallBanner.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogSmallBanner.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.gog.GogSmallBanner.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.gog.GogSmallBanner.url_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url_pattern</span></code>


<a href="#lutris.services.gog.GogSmallBanner.url_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.humblebundle" class="doc doc-heading">
        <code>humblebundle</code>



<a href="#lutris.services.humblebundle" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Manage Humble Bundle libraries</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.humblebundle.HumbleBigIcon" class="doc doc-heading">
        <code>
HumbleBigIcon            (<a class="autorefs autorefs-internal" title="lutris.services.humblebundle.HumbleBundleIcon" href="humblebundle/#lutris.services.humblebundle.HumbleBundleIcon">HumbleBundleIcon</a>)
        </code>



<a href="#lutris.services.humblebundle.HumbleBigIcon" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HumbleBigIcon</span><span class="p">(</span><span class="n">HumbleBundleIcon</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="mi">105</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBigIcon.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.humblebundle.HumbleBigIcon.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.humblebundle.HumbleBundleGame" class="doc doc-heading">
        <code>
HumbleBundleGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.humblebundle.HumbleBundleGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service game for DRM free Humble Bundle games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HumbleBundleGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service game for DRM free Humble Bundle games&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;humblebundle&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_humble_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">humble_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Converts a game from the API to a service game usable by Lutris&quot;&quot;&quot;</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="n">HumbleBundleGame</span><span class="p">()</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">humble_game</span><span class="p">[</span><span class="s2">&quot;machine_name&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">humble_game</span><span class="p">[</span><span class="s2">&quot;machine_name&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">humble_game</span><span class="p">[</span><span class="s2">&quot;human_name&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">humble_game</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleGame.new_from_humble_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_humble_game</span><span class="p">(</span><span class="n">humble_game</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.humblebundle.HumbleBundleGame.new_from_humble_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Converts a game from the API to a service game usable by Lutris</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_humble_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">humble_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts a game from the API to a service game usable by Lutris&quot;&quot;&quot;</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="n">HumbleBundleGame</span><span class="p">()</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">humble_game</span><span class="p">[</span><span class="s2">&quot;machine_name&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">humble_game</span><span class="p">[</span><span class="s2">&quot;machine_name&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">humble_game</span><span class="p">[</span><span class="s2">&quot;human_name&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">humble_game</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.humblebundle.HumbleBundleIcon" class="doc doc-heading">
        <code>
HumbleBundleIcon            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.humblebundle.HumbleBundleIcon" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>HumbleBundle icon</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HumbleBundleIcon</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;HumbleBundle icon&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;humblebundle&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;humblebundle/icons&quot;</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;icon&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleIcon.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleIcon.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleIcon.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleIcon.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleIcon.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleIcon.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleIcon.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleIcon.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleIcon.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleIcon.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.humblebundle.HumbleBundleService" class="doc doc-heading">
        <code>
HumbleBundleService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.humblebundle.HumbleBundleService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service for Humble Bundle</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HumbleBundleService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service for Humble Bundle&quot;&quot;&quot;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;humblebundle&quot;</span>
    <span class="n">_matcher</span> <span class="o">=</span> <span class="s2">&quot;humble&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Humble Bundle&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;humblebundle&quot;</span>
    <span class="n">online</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">drm_free</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;small_icon&quot;</span><span class="p">:</span> <span class="n">HumbleSmallIcon</span><span class="p">,</span>
        <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="n">HumbleBundleIcon</span><span class="p">,</span>
        <span class="s2">&quot;big_icon&quot;</span><span class="p">:</span> <span class="n">HumbleBigIcon</span>
    <span class="p">}</span>
    <span class="n">default_format</span> <span class="o">=</span> <span class="s2">&quot;icon&quot;</span>

    <span class="n">api_url</span> <span class="o">=</span> <span class="s2">&quot;https://www.humblebundle.com/&quot;</span>
    <span class="n">login_url</span> <span class="o">=</span> <span class="s2">&quot;https://www.humblebundle.com/login?goto=/home/library&quot;</span>
    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">&quot;https://www.humblebundle.com/home/library&quot;</span>

    <span class="n">cookies_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;.humblebundle.auth&quot;</span><span class="p">)</span>
    <span class="n">token_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;.humblebundle.token&quot;</span><span class="p">)</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;humblebundle/library/&quot;</span><span class="p">)</span>

    <span class="n">supported_platforms</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;linux&quot;</span><span class="p">,</span> <span class="s2">&quot;windows&quot;</span><span class="p">)</span>
    <span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Called after the user has logged in successfully&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;This doesn&#39;t actually check if the authentication</span>
<span class="sd">        is valid like the GOG service does.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load the user&#39;s Humble Bundle library&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Humble bundle games are already loading&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">library</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get Humble Bundle library. Try logging out and back-in.&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">humble_games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">library</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;human_name&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">humble_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">HumbleBundleGame</span><span class="o">.</span><span class="n">new_from_humble_game</span><span class="p">(</span><span class="n">game</span><span class="p">))</span>
            <span class="n">seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;human_name&quot;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">humble_games</span><span class="p">:</span>
            <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">humble_games</span>

    <span class="k">def</span> <span class="nf">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Make an authenticated request to the Humble API&quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">())</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Failed to request </span><span class="si">%s</span><span class="s2">, check your Humble Bundle credentials and internet connectivity&quot;</span><span class="p">,</span>
                <span class="n">url</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span>

    <span class="k">def</span> <span class="nf">order_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamekey</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the local path for an order&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.json&quot;</span> <span class="o">%</span> <span class="n">gamekey</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamekey</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Retrieve an order identitied by its key&quot;&quot;&quot;</span>
        <span class="c1"># logger.debug(&quot;Getting Humble Bundle order %s&quot;, gamekey)</span>
        <span class="n">cache_filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_path</span><span class="p">(</span><span class="n">gamekey</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cache_filename</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">cache_filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cache_file</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cache_file</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span> <span class="o">+</span> <span class="s2">&quot;api/v1/order/</span><span class="si">%s</span><span class="s2">?all_tpkds=true&quot;</span> <span class="o">%</span> <span class="n">gamekey</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">cache_filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cache_file</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">cache_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>

    <span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the games from the user&#39;s library&quot;&quot;&quot;</span>
        <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orders</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">order</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;subproducts&quot;</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">download</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_platforms</span><span class="p">:</span>
                        <span class="n">games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">games</span>

    <span class="k">def</span> <span class="nf">get_gamekeys_from_local_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Retrieve a list of orders from the cache.&quot;&quot;&quot;</span>
        <span class="n">game_keys</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">order_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">order_file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.json&quot;</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">game_keys</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;gamekey&quot;</span><span class="p">:</span> <span class="n">order_file</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]})</span>
        <span class="k">return</span> <span class="n">game_keys</span>

    <span class="k">def</span> <span class="nf">get_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all orders&quot;&quot;&quot;</span>
        <span class="n">gamekeys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_gamekeys_from_local_orders</span><span class="p">()</span>
        <span class="n">orders</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">gamekeys</span><span class="p">:</span>
            <span class="n">gamekeys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span> <span class="o">+</span> <span class="s2">&quot;api/v1/user/order&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
            <span class="n">future_orders</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_order</span><span class="p">,</span> <span class="n">gamekey</span><span class="p">[</span><span class="s2">&quot;gamekey&quot;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">gamekey</span> <span class="ow">in</span> <span class="n">gamekeys</span>
            <span class="p">]</span>
            <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">future_orders</span><span class="p">:</span>
                <span class="n">orders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">order</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loaded </span><span class="si">%s</span><span class="s2"> Humble Bundle orders&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">orders</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">orders</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">find_download_in_order</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the download information in an order for a give game&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;subproducts&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;machine_name&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">humbleid</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">available_platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]]</span>
            <span class="k">if</span> <span class="n">platform</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_platforms</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Requested platform </span><span class="si">%s</span><span class="s2"> not available in available platforms: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                               <span class="n">platform</span><span class="p">,</span> <span class="n">available_platforms</span><span class="p">)</span>

                <span class="k">if</span> <span class="s2">&quot;linux&quot;</span> <span class="ow">in</span> <span class="n">available_platforms</span><span class="p">:</span>
                    <span class="n">platform</span> <span class="o">=</span> <span class="s2">&quot;linux&quot;</span>
                <span class="k">elif</span> <span class="s2">&quot;windows&quot;</span> <span class="ow">in</span> <span class="n">available_platforms</span><span class="p">:</span>
                    <span class="n">platform</span> <span class="o">=</span> <span class="s2">&quot;windows&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">platform</span> <span class="o">=</span> <span class="n">available_platforms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">download</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">platform</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">return</span> <span class="p">{</span>
                    <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;product&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;gamekey&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;gamekey&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;download&quot;</span><span class="p">:</span> <span class="n">download</span>
                <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_downloads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the download information for a given game&quot;&quot;&quot;</span>
        <span class="n">download_links</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orders</span><span class="p">():</span>
            <span class="n">download</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_download_in_order</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">download</span><span class="p">:</span>
                <span class="n">download_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">download</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">download_links</span>

    <span class="k">def</span> <span class="nf">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Replace the user provided file with download links from Humble Bundle&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">link</span> <span class="o">=</span> <span class="n">get_humble_download_link</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">service_appid</span><span class="p">,</span> <span class="n">installer</span><span class="o">.</span><span class="n">runner</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Failed to get Humble Bundle game: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">UnavailableGame</span> <span class="kn">from</span> <span class="nn">ex</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnavailableGame</span><span class="p">(</span><span class="s2">&quot;No game found on Humble Bundle&quot;</span><span class="p">)</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">InstallerFile</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">,</span> <span class="p">{</span>
                <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">link</span><span class="p">,</span>
                <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">filename</span>
            <span class="p">})</span>
        <span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_filename_for_platform</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">platform</span><span class="p">):</span>
        <span class="n">download</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">downloads</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">platform</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">pick_download_url_from_download_info</span><span class="p">(</span><span class="n">download</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">platform_has_downloads</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">platform</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">downloads</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">download</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">platform</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">download</span><span class="p">[</span><span class="s2">&quot;download_struct&quot;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
        <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">download</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]]</span>
        <span class="n">system_config</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="s2">&quot;linux&quot;</span> <span class="ow">in</span> <span class="n">platforms</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">platform_has_downloads</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">],</span> <span class="s2">&quot;linux&quot;</span><span class="p">):</span>
            <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;linux&quot;</span>
            <span class="n">game_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">AUTO_ELF_EXE</span><span class="p">}</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename_for_platform</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">],</span> <span class="s2">&quot;linux&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.sh&quot;</span><span class="p">):</span>
                <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;zip&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE&quot;</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/noarch&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;move&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/noarch&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/noarch&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/x86_64&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;move&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/x86_64&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/x86_64&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/x86&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;move&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/x86&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/x86&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                <span class="p">]</span>
            <span class="k">elif</span> <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;-bin&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;mojo.run&quot;</span><span class="p">):</span>
                <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;zip&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE&quot;</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}},</span>
                <span class="p">]</span>
            <span class="k">elif</span> <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.air&quot;</span><span class="p">):</span>
                <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;move&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}},</span>
                <span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">script</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">}}]</span>
                <span class="n">system_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;gamemode&quot;</span><span class="p">:</span> <span class="s1">&#39;false&#39;</span><span class="p">}</span>  <span class="c1"># Unity games crash with gamemode</span>
        <span class="k">elif</span> <span class="s2">&quot;windows&quot;</span> <span class="ow">in</span> <span class="n">platforms</span><span class="p">:</span>
            <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
            <span class="n">game_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">AUTO_WIN32_EXE</span><span class="p">,</span> <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename_for_platform</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">],</span> <span class="s2">&quot;windows&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.zip&quot;</span><span class="p">):</span>
                <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;create_prefix&quot;</span><span class="p">,</span> <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}},</span>
                    <span class="p">{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR/drive_c/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]}}</span>
                <span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span> <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">}}</span>
                <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unsupported platforms: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">platforms</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;Humble Bundle&quot;</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;machine_name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="n">runner</span><span class="p">,</span>
            <span class="s2">&quot;humbleid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="n">game_config</span><span class="p">,</span>
                <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="n">system_config</span><span class="p">,</span>
                <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;humblegame&quot;</span><span class="p">:</span> <span class="s2">&quot;N/A:Select the installer from Humble Bundle&quot;</span><span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="n">script</span>
            <span class="p">}</span>
        <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.api_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_url</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.api_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_path</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.cookies_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cookies_path</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.cookies_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.default_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_format</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.default_format" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.drm_free" class="doc doc-heading">
<code class="highlight language-python"><span class="n">drm_free</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.drm_free" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.is_loading" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_loading</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.is_loading" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.login_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_url</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.login_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.online" class="doc doc-heading">
<code class="highlight language-python"><span class="n">online</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.online" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.redirect_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">redirect_uri</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.redirect_uri" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.supported_platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supported_platforms</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.supported_platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleBundleService.token_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">token_path</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.token_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.find_download_in_order" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_download_in_order</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.services.humblebundle.HumbleBundleService.find_download_in_order" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the download information in an order for a give game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">find_download_in_order</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the download information in an order for a give game&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;subproducts&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;machine_name&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">humbleid</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">available_platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">platform</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_platforms</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Requested platform </span><span class="si">%s</span><span class="s2"> not available in available platforms: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                           <span class="n">platform</span><span class="p">,</span> <span class="n">available_platforms</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;linux&quot;</span> <span class="ow">in</span> <span class="n">available_platforms</span><span class="p">:</span>
                <span class="n">platform</span> <span class="o">=</span> <span class="s2">&quot;linux&quot;</span>
            <span class="k">elif</span> <span class="s2">&quot;windows&quot;</span> <span class="ow">in</span> <span class="n">available_platforms</span><span class="p">:</span>
                <span class="n">platform</span> <span class="o">=</span> <span class="s2">&quot;windows&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">platform</span> <span class="o">=</span> <span class="n">available_platforms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">download</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">platform</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;product&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;product&quot;</span><span class="p">],</span>
                <span class="s2">&quot;gamekey&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;gamekey&quot;</span><span class="p">],</span>
                <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">],</span>
                <span class="s2">&quot;download&quot;</span><span class="p">:</span> <span class="n">download</span>
            <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used to generate an installer from the data returned from the services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">download</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]]</span>
    <span class="n">system_config</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="s2">&quot;linux&quot;</span> <span class="ow">in</span> <span class="n">platforms</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">platform_has_downloads</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">],</span> <span class="s2">&quot;linux&quot;</span><span class="p">):</span>
        <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;linux&quot;</span>
        <span class="n">game_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">AUTO_ELF_EXE</span><span class="p">}</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename_for_platform</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">],</span> <span class="s2">&quot;linux&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.sh&quot;</span><span class="p">):</span>
            <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;zip&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE&quot;</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/noarch&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;move&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/noarch&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/noarch&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/x86_64&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;move&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/x86_64&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/x86_64&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/x86&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;move&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/x86&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/x86&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">,</span> <span class="s2">&quot;optional&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;-bin&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;mojo.run&quot;</span><span class="p">):</span>
            <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;zip&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE&quot;</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;merge&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;$CACHE/data/&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}},</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.air&quot;</span><span class="p">):</span>
            <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;move&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}},</span>
            <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">script</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">}}]</span>
            <span class="n">system_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;gamemode&quot;</span><span class="p">:</span> <span class="s1">&#39;false&#39;</span><span class="p">}</span>  <span class="c1"># Unity games crash with gamemode</span>
    <span class="k">elif</span> <span class="s2">&quot;windows&quot;</span> <span class="ow">in</span> <span class="n">platforms</span><span class="p">:</span>
        <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
        <span class="n">game_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">AUTO_WIN32_EXE</span><span class="p">,</span> <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename_for_platform</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">],</span> <span class="s2">&quot;windows&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.zip&quot;</span><span class="p">):</span>
            <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;create_prefix&quot;</span><span class="p">,</span> <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR&quot;</span><span class="p">}},</span>
                <span class="p">{</span><span class="s2">&quot;extract&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="s2">&quot;$GAMEDIR/drive_c/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]}}</span>
            <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span> <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="s2">&quot;humblegame&quot;</span><span class="p">}}</span>
            <span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unsupported platforms: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">platforms</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;Humble Bundle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;machine_name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="n">runner</span><span class="p">,</span>
        <span class="s2">&quot;humbleid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="n">game_config</span><span class="p">,</span>
            <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="n">system_config</span><span class="p">,</span>
            <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;humblegame&quot;</span><span class="p">:</span> <span class="s2">&quot;N/A:Select the installer from Humble Bundle&quot;</span><span class="p">}</span>
            <span class="p">],</span>
            <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="n">script</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.get_downloads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_downloads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.get_downloads" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the download information for a given game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_downloads</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the download information for a given game&quot;&quot;&quot;</span>
    <span class="n">download_links</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orders</span><span class="p">():</span>
        <span class="n">download</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_download_in_order</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">download</span><span class="p">:</span>
            <span class="n">download_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">download</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">download_links</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.get_filename_for_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_filename_for_platform</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.services.humblebundle.HumbleBundleService.get_filename_for_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_filename_for_platform</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">platform</span><span class="p">):</span>
    <span class="n">download</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">downloads</span> <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">platform</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">pick_download_url_from_download_info</span><span class="p">(</span><span class="n">download</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">return</span> <span class="n">url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.get_gamekeys_from_local_orders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_gamekeys_from_local_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.get_gamekeys_from_local_orders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve a list of orders from the cache.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_gamekeys_from_local_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieve a list of orders from the cache.&quot;&quot;&quot;</span>
    <span class="n">game_keys</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">order_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">order_file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.json&quot;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">game_keys</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;gamekey&quot;</span><span class="p">:</span> <span class="n">order_file</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]})</span>
    <span class="k">return</span> <span class="n">game_keys</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.get_installer_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.get_installer_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Replace the user provided file with download links from Humble Bundle</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Replace the user provided file with download links from Humble Bundle&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">get_humble_download_link</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">service_appid</span><span class="p">,</span> <span class="n">installer</span><span class="o">.</span><span class="n">runner</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Failed to get Humble Bundle game: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">UnavailableGame</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">link</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">UnavailableGame</span><span class="p">(</span><span class="s2">&quot;No game found on Humble Bundle&quot;</span><span class="p">)</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">InstallerFile</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">link</span><span class="p">,</span>
            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">filename</span>
        <span class="p">})</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.get_library" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.get_library" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the games from the user's library</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the games from the user&#39;s library&quot;&quot;&quot;</span>
    <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orders</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">order</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">order</span><span class="p">[</span><span class="s2">&quot;subproducts&quot;</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">product</span><span class="p">[</span><span class="s2">&quot;downloads&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">download</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_platforms</span><span class="p">:</span>
                    <span class="n">games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.get_order" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamekey</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.get_order" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve an order identitied by its key</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamekey</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieve an order identitied by its key&quot;&quot;&quot;</span>
    <span class="c1"># logger.debug(&quot;Getting Humble Bundle order %s&quot;, gamekey)</span>
    <span class="n">cache_filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_path</span><span class="p">(</span><span class="n">gamekey</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cache_filename</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">cache_filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cache_file</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cache_file</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span> <span class="o">+</span> <span class="s2">&quot;api/v1/order/</span><span class="si">%s</span><span class="s2">?all_tpkds=true&quot;</span> <span class="o">%</span> <span class="n">gamekey</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">cache_filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cache_file</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">cache_file</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.get_orders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.get_orders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return all orders</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_orders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return all orders&quot;&quot;&quot;</span>
    <span class="n">gamekeys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_gamekeys_from_local_orders</span><span class="p">()</span>
    <span class="n">orders</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">gamekeys</span><span class="p">:</span>
        <span class="n">gamekeys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span> <span class="o">+</span> <span class="s2">&quot;api/v1/user/order&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
        <span class="n">future_orders</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_order</span><span class="p">,</span> <span class="n">gamekey</span><span class="p">[</span><span class="s2">&quot;gamekey&quot;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">gamekey</span> <span class="ow">in</span> <span class="n">gamekeys</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">future_orders</span><span class="p">:</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">order</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loaded </span><span class="si">%s</span><span class="s2"> Humble Bundle orders&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">orders</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">orders</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.is_connected" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.is_connected" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>This doesn't actually check if the authentication
is valid like the GOG service does.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This doesn&#39;t actually check if the authentication</span>
<span class="sd">    is valid like the GOG service does.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Load the user's Humble Bundle library</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load the user&#39;s Humble Bundle library&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Humble bundle games are already loading&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">library</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get Humble Bundle library. Try logging out and back-in.&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">humble_games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">library</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;human_name&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">humble_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">HumbleBundleGame</span><span class="o">.</span><span class="n">new_from_humble_game</span><span class="p">(</span><span class="n">game</span><span class="p">))</span>
        <span class="n">seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;human_name&quot;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">humble_games</span><span class="p">:</span>
        <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">humble_games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.login_callback" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.login_callback" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Called after the user has logged in successfully</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Called after the user has logged in successfully&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.make_api_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.make_api_request" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Make an authenticated request to the Humble API</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">make_api_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Make an authenticated request to the Humble API&quot;&quot;&quot;</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">())</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Failed to request </span><span class="si">%s</span><span class="s2">, check your Humble Bundle credentials and internet connectivity&quot;</span><span class="p">,</span>
            <span class="n">url</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span>
    <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.order_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">order_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamekey</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.HumbleBundleService.order_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the local path for an order</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">order_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamekey</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the local path for an order&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_path</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.json&quot;</span> <span class="o">%</span> <span class="n">gamekey</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.humblebundle.HumbleBundleService.platform_has_downloads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platform_has_downloads</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.services.humblebundle.HumbleBundleService.platform_has_downloads" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">platform_has_downloads</span><span class="p">(</span><span class="n">downloads</span><span class="p">,</span> <span class="n">platform</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">downloads</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">download</span><span class="p">[</span><span class="s2">&quot;platform&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">platform</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">download</span><span class="p">[</span><span class="s2">&quot;download_struct&quot;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.humblebundle.HumbleSmallIcon" class="doc doc-heading">
        <code>
HumbleSmallIcon            (<a class="autorefs autorefs-internal" title="lutris.services.humblebundle.HumbleBundleIcon" href="humblebundle/#lutris.services.humblebundle.HumbleBundleIcon">HumbleBundleIcon</a>)
        </code>



<a href="#lutris.services.humblebundle.HumbleSmallIcon" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HumbleSmallIcon</span><span class="p">(</span><span class="n">HumbleBundleIcon</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">35</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.humblebundle.HumbleSmallIcon.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.humblebundle.HumbleSmallIcon.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.services.humblebundle.get_humble_download_link" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_humble_download_link</span><span class="p">(</span><span class="n">humbleid</span><span class="p">,</span> <span class="n">runner</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.get_humble_download_link" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a download link for a given humbleid and runner</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_humble_download_link</span><span class="p">(</span><span class="n">humbleid</span><span class="p">,</span> <span class="n">runner</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a download link for a given humbleid and runner&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="n">HumbleBundleService</span><span class="p">()</span>
    <span class="n">platform</span> <span class="o">=</span> <span class="n">runner</span> <span class="k">if</span> <span class="n">runner</span> <span class="o">!=</span> <span class="s2">&quot;wine&quot;</span> <span class="k">else</span> <span class="s2">&quot;windows&quot;</span>
    <span class="n">downloads</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">get_downloads</span><span class="p">(</span><span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">downloads</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Game </span><span class="si">%s</span><span class="s2"> for </span><span class="si">%s</span><span class="s2"> not found in the Humble Bundle library&quot;</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found </span><span class="si">%s</span><span class="s2"> download for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">downloads</span><span class="p">),</span> <span class="n">humbleid</span><span class="p">)</span>
    <span class="n">download</span> <span class="o">=</span> <span class="n">downloads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Reloading order </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">download</span><span class="p">[</span><span class="s2">&quot;product&quot;</span><span class="p">][</span><span class="s2">&quot;human_name&quot;</span><span class="p">])</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">order_path</span><span class="p">(</span><span class="n">download</span><span class="p">[</span><span class="s2">&quot;gamekey&quot;</span><span class="p">]))</span>
    <span class="n">order</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">get_order</span><span class="p">(</span><span class="n">download</span><span class="p">[</span><span class="s2">&quot;gamekey&quot;</span><span class="p">])</span>
    <span class="n">download_info</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">find_download_in_order</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">,</span> <span class="n">platform</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">download_info</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pick_download_url_from_download_info</span><span class="p">(</span><span class="n">download_info</span><span class="p">[</span><span class="s2">&quot;download&quot;</span><span class="p">])</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t retrieve any downloads for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">humbleid</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.services.humblebundle.pick_download_url_from_download_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pick_download_url_from_download_info</span><span class="p">(</span><span class="n">download_info</span><span class="p">)</span></code>


<a href="#lutris.services.humblebundle.pick_download_url_from_download_info" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>From a list of downloads in Humble Bundle, pick the most appropriate one
for the installer.
This needs a way to be explicitely filtered.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/humblebundle.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">pick_download_url_from_download_info</span><span class="p">(</span><span class="n">download_info</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;From a list of downloads in Humble Bundle, pick the most appropriate one</span>
<span class="sd">    for the installer.</span>
<span class="sd">    This needs a way to be explicitely filtered.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">download_info</span><span class="p">[</span><span class="s2">&quot;download_struct&quot;</span><span class="p">]:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No downloads found&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">humble_sort</span><span class="p">(</span><span class="n">download</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">download</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s2">&quot;rpm&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">99</span>  <span class="c1"># Not supported as an extractor</span>
        <span class="n">bonus</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="s2">&quot;deb&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">bonus</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_64_bit</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;386&quot;</span> <span class="ow">in</span> <span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;32&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;64&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">10</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">bonus</span>

    <span class="n">sorted_downloads</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">download_info</span><span class="p">[</span><span class="s2">&quot;download_struct&quot;</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="n">humble_sort</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Humble bundle installers:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">download</span> <span class="ow">in</span> <span class="n">sorted_downloads</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">download</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sorted_downloads</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;url&quot;</span><span class="p">][</span><span class="s2">&quot;web&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.itchio" class="doc doc-heading">
        <code>itchio</code>



<a href="#lutris.services.itchio" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Itch.io service.
Not ready yet.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.itchio.ItchIoService" class="doc doc-heading">
        <code>
ItchIoService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.itchio.ItchIoService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for Itch.io</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/itchio.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ItchIoService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for Itch.io&quot;&quot;&quot;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;itchio&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Itch.io (Not implemented)&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;itchio&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.itchio.ItchIoService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.itchio.ItchIoService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.itchio.ItchIoService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.itchio.ItchIoService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.itchio.ItchIoService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.itchio.ItchIoService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.lutris" class="doc doc-heading">
        <code>lutris</code>



<a href="#lutris.services.lutris" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.lutris.LutrisGame" class="doc doc-heading">
        <code>
LutrisGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.lutris.LutrisGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service game created from the Lutris API</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LutrisGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service game created from the Lutris API&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;lutris&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">api_payload</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create an instance of LutrisGame from the API response&quot;&quot;&quot;</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="n">LutrisGame</span><span class="p">()</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">api_payload</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">api_payload</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">api_payload</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">api_payload</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.lutris.LutrisGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.lutris.LutrisGame.new_from_api" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_api</span><span class="p">(</span><span class="n">api_payload</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.lutris.LutrisGame.new_from_api" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create an instance of LutrisGame from the API response</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">api_payload</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create an instance of LutrisGame from the API response&quot;&quot;&quot;</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="n">LutrisGame</span><span class="p">()</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">api_payload</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">api_payload</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">api_payload</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">api_payload</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.lutris.LutrisService" class="doc doc-heading">
        <code>
LutrisService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.lutris.LutrisService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service for Lutris games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LutrisService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service for Lutris games&quot;&quot;&quot;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;lutris&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Lutris&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;lutris&quot;</span>
    <span class="n">online</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="n">LutrisIcon</span><span class="p">,</span>
        <span class="s2">&quot;banner&quot;</span><span class="p">:</span> <span class="n">LutrisBanner</span><span class="p">,</span>
        <span class="s2">&quot;coverart_med&quot;</span><span class="p">:</span> <span class="n">LutrisCoverartMedium</span><span class="p">,</span>
        <span class="s2">&quot;coverart_big&quot;</span><span class="p">:</span> <span class="n">LutrisCoverart</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">default_format</span> <span class="o">=</span> <span class="s2">&quot;banner&quot;</span>

    <span class="n">api_url</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SITE_URL</span> <span class="o">+</span> <span class="s2">&quot;/api&quot;</span>
    <span class="n">login_url</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SITE_URL</span> <span class="o">+</span> <span class="s2">&quot;/api/accounts/token&quot;</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;lutris&quot;</span><span class="p">)</span>
    <span class="n">token_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;auth-token&quot;</span><span class="p">)</span>

    <span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">credential_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all files used for authentication&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Matching lutris games is much simpler... No API call needed.&quot;&quot;&quot;</span>
        <span class="n">service_games</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]):</span> <span class="n">game</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_for_service</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">lutris_game</span> <span class="ow">in</span> <span class="n">get_games</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">match_game</span><span class="p">(</span><span class="n">service_games</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">lutris_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]),</span> <span class="n">lutris_game</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Is the service connected?&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Connect to Lutris&quot;&quot;&quot;</span>
        <span class="n">login_dialog</span> <span class="o">=</span> <span class="n">dialogs</span><span class="o">.</span><span class="n">ClientLoginDialog</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
        <span class="n">login_dialog</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;connected&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_connect_success</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_connect_success</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_widget</span><span class="p">,</span> <span class="n">_username</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Handles connection success&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the remote library as a list of dicts.&quot;&quot;&quot;</span>
        <span class="n">credentials</span> <span class="o">=</span> <span class="n">read_api_key</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">credentials</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SITE_URL</span> <span class="o">+</span> <span class="s2">&quot;/api/games/library/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">])</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Token &quot;</span> <span class="o">+</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;token&quot;</span><span class="p">]})</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to load library: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">response_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span>
        <span class="k">if</span> <span class="n">response_data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">response_data</span><span class="p">[</span><span class="s2">&quot;games&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Lutris games are already loading&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">lutris_games</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Loaded </span><span class="si">%s</span><span class="s2"> games from Lutris library&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lutris_games</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">lutris_games</span><span class="p">:</span>
            <span class="n">lutris_game</span> <span class="o">=</span> <span class="n">LutrisGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
            <span class="n">lutris_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Matching with already installed games&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">match_games</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Lutris games loaded&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lutris_games</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">slug</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">slug</span> <span class="o">=</span> <span class="n">db_game</span>
        <span class="n">installers</span> <span class="o">=</span> <span class="n">get_game_installers</span><span class="p">(</span><span class="n">slug</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">installers</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No installer for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">installers</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.api_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_url</span></code>


<a href="#lutris.services.lutris.LutrisService.api_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_path</span></code>


<a href="#lutris.services.lutris.LutrisService.cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.credential_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">credential_files</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.lutris.LutrisService.credential_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of all files used for authentication</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.default_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_format</span></code>


<a href="#lutris.services.lutris.LutrisService.default_format" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.lutris.LutrisService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.lutris.LutrisService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.is_loading" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_loading</span></code>


<a href="#lutris.services.lutris.LutrisService.is_loading" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.login_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_url</span></code>


<a href="#lutris.services.lutris.LutrisService.login_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.lutris.LutrisService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.lutris.LutrisService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.online" class="doc doc-heading">
<code class="highlight language-python"><span class="n">online</span></code>


<a href="#lutris.services.lutris.LutrisService.online" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.lutris.LutrisService.token_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">token_path</span></code>


<a href="#lutris.services.lutris.LutrisService.token_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.lutris.LutrisService.get_library" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.lutris.LutrisService.get_library" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the remote library as a list of dicts.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the remote library as a list of dicts.&quot;&quot;&quot;</span>
    <span class="n">credentials</span> <span class="o">=</span> <span class="n">read_api_key</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">credentials</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SITE_URL</span> <span class="o">+</span> <span class="s2">&quot;/api/games/library/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">])</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Token &quot;</span> <span class="o">+</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;token&quot;</span><span class="p">]})</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to load library: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">response_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span>
    <span class="k">if</span> <span class="n">response_data</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">response_data</span><span class="p">[</span><span class="s2">&quot;games&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.lutris.LutrisService.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.lutris.LutrisService.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install a service game, or starts the installer of the game.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>db_game</code></td>
        <td><code>dict or str</code></td>
        <td><p>Database fields of the game to add, or (for Lutris service only
the slug of the game.)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The slug of the game that was installed, to be run. None if the game should not be
    run now. Many installers start from here, but continue running after this returns;
    they return None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">slug</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">slug</span> <span class="o">=</span> <span class="n">db_game</span>
    <span class="n">installers</span> <span class="o">=</span> <span class="n">get_game_installers</span><span class="p">(</span><span class="n">slug</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">installers</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No installer for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">installers</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.lutris.LutrisService.is_connected" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.lutris.LutrisService.is_connected" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Is the service connected?</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Is the service connected?&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.lutris.LutrisService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.lutris.LutrisService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Lutris games are already loading&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">lutris_games</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Loaded </span><span class="si">%s</span><span class="s2"> games from Lutris library&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lutris_games</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">lutris_games</span><span class="p">:</span>
        <span class="n">lutris_game</span> <span class="o">=</span> <span class="n">LutrisGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
        <span class="n">lutris_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Matching with already installed games&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">match_games</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Lutris games loaded&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">lutris_games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.lutris.LutrisService.login" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.services.lutris.LutrisService.login" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Connect to Lutris</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Connect to Lutris&quot;&quot;&quot;</span>
    <span class="n">login_dialog</span> <span class="o">=</span> <span class="n">dialogs</span><span class="o">.</span><span class="n">ClientLoginDialog</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
    <span class="n">login_dialog</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;connected&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_connect_success</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.lutris.LutrisService.match_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.lutris.LutrisService.match_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Matching lutris games is much simpler... No API call needed.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Matching lutris games is much simpler... No API call needed.&quot;&quot;&quot;</span>
    <span class="n">service_games</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]):</span> <span class="n">game</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_for_service</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">lutris_game</span> <span class="ow">in</span> <span class="n">get_games</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">match_game</span><span class="p">(</span><span class="n">service_games</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">lutris_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]),</span> <span class="n">lutris_game</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.lutris.LutrisService.on_connect_success" class="doc doc-heading">
<code class="highlight language-python"><span class="n">on_connect_success</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_widget</span><span class="p">,</span> <span class="n">_username</span><span class="p">)</span></code>


<a href="#lutris.services.lutris.LutrisService.on_connect_success" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Handles connection success</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">on_connect_success</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_widget</span><span class="p">,</span> <span class="n">_username</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Handles connection success&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.services.lutris.download_lutris_media" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_lutris_media</span><span class="p">(</span><span class="n">slug</span><span class="p">)</span></code>


<a href="#lutris.services.lutris.download_lutris_media" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Download all media types for a single lutris game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download_lutris_media</span><span class="p">(</span><span class="n">slug</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Download all media types for a single lutris game&quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SITE_URL</span> <span class="o">+</span> <span class="s2">&quot;/api/games/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">slug</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Unable to load </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">response_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span>
    <span class="n">icon_url</span> <span class="o">=</span> <span class="n">response_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;icon_url&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">icon_url</span><span class="p">:</span>
        <span class="n">download_media</span><span class="p">({</span><span class="n">slug</span><span class="p">:</span> <span class="n">icon_url</span><span class="p">},</span> <span class="n">LutrisIcon</span><span class="p">())</span>

    <span class="n">banner_url</span> <span class="o">=</span> <span class="n">response_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;banner_url&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">banner_url</span><span class="p">:</span>
        <span class="n">download_media</span><span class="p">({</span><span class="n">slug</span><span class="p">:</span> <span class="n">banner_url</span><span class="p">},</span> <span class="n">LutrisBanner</span><span class="p">())</span>

    <span class="n">cover_url</span> <span class="o">=</span> <span class="n">response_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;coverart&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cover_url</span><span class="p">:</span>
        <span class="n">download_media</span><span class="p">({</span><span class="n">slug</span><span class="p">:</span> <span class="n">cover_url</span><span class="p">},</span> <span class="n">LutrisCoverart</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.services.lutris.sync_media" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sync_media</span><span class="p">()</span></code>


<a href="#lutris.services.lutris.sync_media" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Downlad all missing media</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/lutris.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">sync_media</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Downlad all missing media&quot;&quot;&quot;</span>
    <span class="n">banners_available</span> <span class="o">=</span> <span class="p">{</span><span class="n">fn</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">BANNER_PATH</span><span class="p">)}</span>
    <span class="n">icons_available</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">fn</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;lutris_&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">ICON_PATH</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fn</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;lutris_&quot;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">covers_available</span> <span class="o">=</span> <span class="p">{</span><span class="n">fn</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">COVERART_PATH</span><span class="p">)}</span>
    <span class="n">complete_games</span> <span class="o">=</span> <span class="n">banners_available</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">icons_available</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">covers_available</span><span class="p">)</span>
    <span class="n">all_slugs</span> <span class="o">=</span> <span class="p">{</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">get_games</span><span class="p">()}</span>
    <span class="n">slugs</span> <span class="o">=</span> <span class="n">all_slugs</span> <span class="o">-</span> <span class="n">complete_games</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">slugs</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">games</span> <span class="o">=</span> <span class="n">get_api_games</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">slugs</span><span class="p">))</span>

    <span class="n">alias_map</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">api_slugs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span><span class="p">:</span>
        <span class="n">api_slugs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">alias</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">slugs</span><span class="p">:</span>
                <span class="n">alias_map</span><span class="p">[</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">alias</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span>
    <span class="n">alias_slugs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">alias_map</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="n">used_alias_slugs</span> <span class="o">=</span> <span class="n">alias_slugs</span> <span class="o">-</span> <span class="n">api_slugs</span>
    <span class="k">for</span> <span class="n">alias_slug</span> <span class="ow">in</span> <span class="n">used_alias_slugs</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">alias_slug</span> <span class="ow">in</span> <span class="p">[</span><span class="n">alias</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;aliases&quot;</span><span class="p">]]:</span>
                <span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alias_map</span><span class="p">[</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]]</span>
                <span class="k">continue</span>
    <span class="n">banner_urls</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]:</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;banner_url&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span>
        <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">banners_available</span> <span class="ow">and</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;banner_url&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">icon_urls</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]:</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;icon_url&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span>
        <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">icons_available</span> <span class="ow">and</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;icon_url&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">cover_urls</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]:</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;coverart&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span>
        <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">covers_available</span> <span class="ow">and</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;coverart&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Syncing </span><span class="si">%s</span><span class="s2"> banners, </span><span class="si">%s</span><span class="s2"> icons and </span><span class="si">%s</span><span class="s2"> covers&quot;</span><span class="p">,</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">banner_urls</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">icon_urls</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">cover_urls</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">download_media</span><span class="p">(</span><span class="n">banner_urls</span><span class="p">,</span> <span class="n">LutrisBanner</span><span class="p">())</span>
    <span class="n">download_media</span><span class="p">(</span><span class="n">icon_urls</span><span class="p">,</span> <span class="n">LutrisIcon</span><span class="p">())</span>
    <span class="n">download_media</span><span class="p">(</span><span class="n">cover_urls</span><span class="p">,</span> <span class="n">LutrisCoverart</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.mame" class="doc doc-heading">
        <code>mame</code>



<a href="#lutris.services.mame" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>MAME service
Not ready yet</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.mame.MAMEService" class="doc doc-heading">
        <code>
MAMEService            (<a class="autorefs autorefs-internal" title="lutris.services.base.BaseService" href="base/#lutris.services.base.BaseService">BaseService</a>)
        </code>



<a href="#lutris.services.mame.MAMEService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for MAME</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MAMEService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for MAME&quot;&quot;&quot;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;mame&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;MAME&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;mame&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.mame.MAMEService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.mame.MAMEService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.mame.MAMEService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.mame.MAMEService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.mame.MAMEService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.mame.MAMEService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.origin" class="doc doc-heading">
        <code>origin</code>



<a href="#lutris.services.origin" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>EA Origin service.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.origin.OriginGame" class="doc doc-heading">
        <code>
OriginGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.origin.OriginGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OriginGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;origin&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">offer</span><span class="p">):</span>
        <span class="n">origin_game</span> <span class="o">=</span> <span class="n">OriginGame</span><span class="p">()</span>
        <span class="n">origin_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">offer</span><span class="p">[</span><span class="s2">&quot;offerId&quot;</span><span class="p">]</span>
        <span class="n">origin_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">offer</span><span class="p">[</span><span class="s2">&quot;gameNameFacetKey&quot;</span><span class="p">]</span>
        <span class="n">origin_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">offer</span><span class="p">[</span><span class="s2">&quot;i18n&quot;</span><span class="p">][</span><span class="s2">&quot;displayName&quot;</span><span class="p">]</span>
        <span class="n">origin_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">offer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">origin_game</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.origin.OriginGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginGame.new_from_api" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_api</span><span class="p">(</span><span class="n">offer</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.origin.OriginGame.new_from_api" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">offer</span><span class="p">):</span>
    <span class="n">origin_game</span> <span class="o">=</span> <span class="n">OriginGame</span><span class="p">()</span>
    <span class="n">origin_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">offer</span><span class="p">[</span><span class="s2">&quot;offerId&quot;</span><span class="p">]</span>
    <span class="n">origin_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">offer</span><span class="p">[</span><span class="s2">&quot;gameNameFacetKey&quot;</span><span class="p">]</span>
    <span class="n">origin_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">offer</span><span class="p">[</span><span class="s2">&quot;i18n&quot;</span><span class="p">][</span><span class="s2">&quot;displayName&quot;</span><span class="p">]</span>
    <span class="n">origin_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">offer</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">origin_game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.origin.OriginLauncher" class="doc doc-heading">
        <code>
OriginLauncher        </code>



<a href="#lutris.services.origin.OriginLauncher" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OriginLauncher</span><span class="p">:</span>
    <span class="n">manifests_paths</span> <span class="o">=</span> <span class="s2">&quot;ProgramData/Origin/LocalContent&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix_path</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span> <span class="o">=</span> <span class="n">prefix_path</span>

    <span class="k">def</span> <span class="nf">iter_manifests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">manifests_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s1">&#39;drive_c&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifests_paths</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No directory in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">manifests_path</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">game_folder</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">manifest</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">,</span> <span class="n">game_folder</span><span class="p">)):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">manifest</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.mfst&quot;</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">,</span> <span class="n">game_folder</span><span class="p">,</span> <span class="n">manifest</span><span class="p">),</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">manifest_file</span><span class="p">:</span>
                    <span class="n">manifest_content</span> <span class="o">=</span> <span class="n">manifest_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">manifest_content</span><span class="p">)</span>
                <span class="n">parsed_data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">query</span><span class="p">))</span>
                <span class="k">yield</span> <span class="n">parsed_data</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginLauncher.manifests_paths" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifests_paths</span></code>


<a href="#lutris.services.origin.OriginLauncher.manifests_paths" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginLauncher.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.services.origin.OriginLauncher.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix_path</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span> <span class="o">=</span> <span class="n">prefix_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginLauncher.iter_manifests" class="doc doc-heading">
<code class="highlight language-python"><span class="n">iter_manifests</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginLauncher.iter_manifests" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">iter_manifests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">manifests_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s1">&#39;drive_c&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifests_paths</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No directory in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">manifests_path</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">for</span> <span class="n">game_folder</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">manifest</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">,</span> <span class="n">game_folder</span><span class="p">)):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">manifest</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.mfst&quot;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">,</span> <span class="n">game_folder</span><span class="p">,</span> <span class="n">manifest</span><span class="p">),</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">manifest_file</span><span class="p">:</span>
                <span class="n">manifest_content</span> <span class="o">=</span> <span class="n">manifest_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">manifest_content</span><span class="p">)</span>
            <span class="n">parsed_data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">query</span><span class="p">))</span>
            <span class="k">yield</span> <span class="n">parsed_data</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.origin.OriginPackArtLarge" class="doc doc-heading">
        <code>
OriginPackArtLarge            (<a class="autorefs autorefs-internal" title="lutris.services.origin.OriginPackArtSmall" href="origin/#lutris.services.origin.OriginPackArtSmall">OriginPackArtSmall</a>)
        </code>



<a href="#lutris.services.origin.OriginPackArtLarge" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OriginPackArtLarge</span><span class="p">(</span><span class="n">OriginPackArtSmall</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">231</span><span class="p">,</span> <span class="mi">326</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;origin/pack-art-large&quot;</span><span class="p">)</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;packArtLarge&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtLarge.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.origin.OriginPackArtLarge.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtLarge.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.origin.OriginPackArtLarge.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtLarge.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.origin.OriginPackArtLarge.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.origin.OriginPackArtMedium" class="doc doc-heading">
        <code>
OriginPackArtMedium            (<a class="autorefs autorefs-internal" title="lutris.services.origin.OriginPackArtSmall" href="origin/#lutris.services.origin.OriginPackArtSmall">OriginPackArtSmall</a>)
        </code>



<a href="#lutris.services.origin.OriginPackArtMedium" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OriginPackArtMedium</span><span class="p">(</span><span class="n">OriginPackArtSmall</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">142</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;origin/pack-art-medium&quot;</span><span class="p">)</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;packArtMedium&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtMedium.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.origin.OriginPackArtMedium.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtMedium.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.origin.OriginPackArtMedium.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtMedium.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.origin.OriginPackArtMedium.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.origin.OriginPackArtSmall" class="doc doc-heading">
        <code>
OriginPackArtSmall            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.origin.OriginPackArtSmall" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OriginPackArtSmall</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;origin&quot;</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">63</span><span class="p">,</span> <span class="mi">89</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;origin/pack-art-small&quot;</span><span class="p">)</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;packArtSmall&quot;</span>

    <span class="k">def</span> <span class="nf">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;imageServer&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;i18n&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtSmall.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.origin.OriginPackArtSmall.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtSmall.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.origin.OriginPackArtSmall.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtSmall.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.origin.OriginPackArtSmall.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtSmall.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.origin.OriginPackArtSmall.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginPackArtSmall.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.origin.OriginPackArtSmall.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginPackArtSmall.get_media_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginPackArtSmall.get_media_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;imageServer&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;i18n&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.origin.OriginService" class="doc doc-heading">
        <code>
OriginService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.origin.OriginService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for EA Origin</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OriginService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for EA Origin&quot;&quot;&quot;</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;origin&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Origin&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;origin&quot;</span>
    <span class="n">client_installer</span> <span class="o">=</span> <span class="s2">&quot;origin&quot;</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
    <span class="n">online</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;packArtSmall&quot;</span><span class="p">:</span> <span class="n">OriginPackArtSmall</span><span class="p">,</span>
        <span class="s2">&quot;packArtMedium&quot;</span><span class="p">:</span> <span class="n">OriginPackArtMedium</span><span class="p">,</span>
        <span class="s2">&quot;packArtLarge&quot;</span><span class="p">:</span> <span class="n">OriginPackArtLarge</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">default_format</span> <span class="o">=</span> <span class="s2">&quot;packArtMedium&quot;</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;origin/cache/&quot;</span><span class="p">)</span>
    <span class="n">cookies_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;origin/cookies&quot;</span><span class="p">)</span>
    <span class="n">token_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;origin/auth_token&quot;</span><span class="p">)</span>
    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">&quot;https://www.origin.com/views/login.html&quot;</span>
    <span class="n">login_url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;https://accounts.ea.com/connect/auth&quot;</span>
        <span class="s2">&quot;?response_type=code&amp;client_id=ORIGIN_SPA_ID&amp;display=originXWeb/login&quot;</span>
        <span class="s2">&quot;&amp;locale=en_US&amp;release_type=prod&quot;</span>
        <span class="s2">&quot;&amp;redirect_uri=</span><span class="si">%s</span><span class="s2">&quot;</span>
    <span class="p">)</span> <span class="o">%</span> <span class="n">redirect_uri</span>
    <span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_access_token</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">api_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;https://api</span><span class="si">%s</span><span class="s2">.origin.com&quot;</span> <span class="o">%</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">db_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">game</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;game-launch&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fetch_access_token</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">fetch_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">token_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_access_token</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">token_data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Failed to get access token&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
            <span class="n">token_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">token_data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_access_token</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">load_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
            <span class="n">token_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">token_file</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">token_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;access_token&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Request an access token from EA&quot;&quot;&quot;</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;https://accounts.ea.com/connect/auth&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="s2">&quot;ORIGIN_JS_SDK&quot;</span><span class="p">,</span>
                <span class="s2">&quot;response_type&quot;</span><span class="p">:</span> <span class="s2">&quot;token&quot;</span><span class="p">,</span>
                <span class="s2">&quot;redirect_uri&quot;</span><span class="p">:</span> <span class="s2">&quot;nucleus:rest&quot;</span><span class="p">,</span>
                <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
            <span class="p">},</span>
            <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">token_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">token_data</span>

    <span class="k">def</span> <span class="nf">_request_identity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;https://gateway.ea.com/proxy/identity/pids/me&quot;</span><span class="p">,</span>
            <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">(),</span>
            <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_auth_headers</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_identity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Request the user info&quot;&quot;&quot;</span>
        <span class="n">identity_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_identity</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">identity_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;invalid_access_token&quot;</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Refreshing Origin access token&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fetch_access_token</span><span class="p">()</span>
            <span class="n">identity_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_identity</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">identity_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> (Error code: </span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">identity_data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">],</span> <span class="n">identity_data</span><span class="p">[</span><span class="s2">&quot;error_number&quot;</span><span class="p">])</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="s1">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">identity_data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">identity_data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">])</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">user_id</span> <span class="o">=</span> <span class="n">identity_data</span><span class="p">[</span><span class="s2">&quot;pid&quot;</span><span class="p">][</span><span class="s2">&quot;pidId&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Can&#39;t read user ID from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">identity_data</span><span class="p">)</span>
            <span class="k">raise</span>

        <span class="n">persona_id_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/atom/users?userIds=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span><span class="p">,</span> <span class="n">user_id</span><span class="p">),</span>
            <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_auth_headers</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">persona_id_response</span><span class="o">.</span><span class="n">text</span>
        <span class="n">origin_account_info</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="n">persona_id</span> <span class="o">=</span> <span class="n">origin_account_info</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;personaId&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
        <span class="n">user_name</span> <span class="o">=</span> <span class="n">origin_account_info</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;EAID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_id</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">persona_id</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Origin games are already loading&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">user_id</span><span class="p">,</span> <span class="n">_persona_id</span><span class="p">,</span> <span class="n">_user_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_identity</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">games</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Retrieved </span><span class="si">%s</span><span class="s2"> games from Origin library&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">games</span><span class="p">))</span>
        <span class="n">origin_games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span><span class="p">:</span>
            <span class="n">origin_game</span> <span class="o">=</span> <span class="n">OriginGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
            <span class="n">origin_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">origin_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">origin_game</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">origin_games</span>

    <span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load Origin library&quot;&quot;&quot;</span>
        <span class="n">offers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">entitlement</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entitlements</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">entitlement</span><span class="p">[</span><span class="s2">&quot;offerType&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;basegame&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">offer_id</span> <span class="o">=</span> <span class="n">entitlement</span><span class="p">[</span><span class="s2">&quot;offerId&quot;</span><span class="p">]</span>
            <span class="n">offer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_offer</span><span class="p">(</span><span class="n">offer_id</span><span class="p">)</span>
            <span class="n">offers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">offer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">offers</span>

    <span class="k">def</span> <span class="nf">get_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load offer details from Origin&quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/ecommerce2/public/supercat/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">,</span> <span class="s2">&quot;en_US&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_auth_headers</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_entitlements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Request the user&#39;s entitlements&quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">/ecommerce2/consolidatedentitlements/</span><span class="si">%s</span><span class="s2">?machine_hash=1&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">api_url</span><span class="p">,</span>
            <span class="n">user_id</span>
        <span class="p">)</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_auth_headers</span><span class="p">()</span>
        <span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Accept&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;application/vnd.origin.v3+json; x-cache/force-write&quot;</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;entitlements&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_auth_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return headers needed to authenticate HTTP requests&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;User not authenticated to Origin&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">,</span>
            <span class="s2">&quot;AuthToken&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">,</span>
            <span class="s2">&quot;X-AuthToken&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">origin_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="s2">&quot;origin&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">origin_game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Origin is not installed&quot;</span><span class="p">)</span>
        <span class="n">origin_prefix</span> <span class="o">=</span> <span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;drive_c&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">origin_prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c&quot;</span><span class="p">)):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid install of Origin at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">origin_prefix</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">origin_launcher</span> <span class="o">=</span> <span class="n">OriginLauncher</span><span class="p">(</span><span class="n">origin_prefix</span><span class="p">)</span>
        <span class="n">installed_games</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">manifest</span> <span class="ow">in</span> <span class="n">origin_launcher</span><span class="o">.</span><span class="n">iter_manifests</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">install_from_origin</span><span class="p">(</span><span class="n">origin_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">)</span>
            <span class="n">installed_games</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installed </span><span class="si">%s</span><span class="s2"> Origin games&quot;</span><span class="p">,</span> <span class="n">installed_games</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">install_from_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">):</span>
        <span class="n">offer_id</span> <span class="o">=</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing Origin game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">)</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="s2">&quot;origin&quot;</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Aborting install, </span><span class="si">%s</span><span class="s2"> is not present in the game library.&quot;</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">lutris_game_id</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
        <span class="n">existing_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">game_config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">game_config_id</span><span class="o">=</span><span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;configpath&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">game_level</span>
        <span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;args&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="n">game_config</span><span class="p">)</span>
        <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">runner</span><span class="o">=</span><span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;runner&quot;</span><span class="p">],</span>
            <span class="n">slug</span><span class="o">=</span><span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="n">directory</span><span class="o">=</span><span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">],</span>
            <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">installer_slug</span><span class="o">=</span><span class="n">lutris_game_id</span><span class="p">,</span>
            <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">service_id</span><span class="o">=</span><span class="n">offer_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">game_id</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">origin_db_game</span><span class="p">):</span>
        <span class="n">origin_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">origin_db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">origin_exe</span> <span class="o">=</span> <span class="n">origin_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">origin_exe</span><span class="p">):</span>
            <span class="n">origin_exe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">origin_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span> <span class="n">origin_exe</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
            <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;requires&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]),</span>
                <span class="p">},</span>
                <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">origin_exe</span><span class="p">,</span>
                        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span> <span class="s2">&quot;download&quot;</span><span class="p">),</span>
                        <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">origin_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="p">(</span>
                            <span class="s2">&quot;Origin will now open and install </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="p">}}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">origin_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">origin_game</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;installed&quot;</span><span class="p">]:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Installing the Origin client&quot;</span><span class="p">)</span>
            <span class="n">installers</span> <span class="o">=</span> <span class="n">get_installers</span><span class="p">(</span><span class="n">game_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">)</span>
            <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">installers</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="n">origin_game</span><span class="p">)],</span>
                <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">appid</span><span class="o">=</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.api_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_url</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.origin.OriginService.api_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_path</span></code>


<a href="#lutris.services.origin.OriginService.cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.client_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client_installer</span></code>


<a href="#lutris.services.origin.OriginService.client_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.cookies_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cookies_path</span></code>


<a href="#lutris.services.origin.OriginService.cookies_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.default_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_format</span></code>


<a href="#lutris.services.origin.OriginService.default_format" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.origin.OriginService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.origin.OriginService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.is_loading" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_loading</span></code>


<a href="#lutris.services.origin.OriginService.is_loading" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.login_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_url</span></code>


<a href="#lutris.services.origin.OriginService.login_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.origin.OriginService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.origin.OriginService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.online" class="doc doc-heading">
<code class="highlight language-python"><span class="n">online</span></code>


<a href="#lutris.services.origin.OriginService.online" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.redirect_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">redirect_uri</span></code>


<a href="#lutris.services.origin.OriginService.redirect_uri" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.origin.OriginService.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.origin.OriginService.token_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">token_path</span></code>


<a href="#lutris.services.origin.OriginService.token_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.services.origin.OriginService.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_access_token</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.add_installed_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.add_installed_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Services can implement this method to scan for locally
installed games and add them to lutris.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">origin_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="s2">&quot;origin&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">origin_game</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Origin is not installed&quot;</span><span class="p">)</span>
    <span class="n">origin_prefix</span> <span class="o">=</span> <span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;drive_c&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">origin_prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c&quot;</span><span class="p">)):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid install of Origin at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">origin_prefix</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">origin_launcher</span> <span class="o">=</span> <span class="n">OriginLauncher</span><span class="p">(</span><span class="n">origin_prefix</span><span class="p">)</span>
    <span class="n">installed_games</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">manifest</span> <span class="ow">in</span> <span class="n">origin_launcher</span><span class="o">.</span><span class="n">iter_manifests</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">install_from_origin</span><span class="p">(</span><span class="n">origin_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">)</span>
        <span class="n">installed_games</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installed </span><span class="si">%s</span><span class="s2"> Origin games&quot;</span><span class="p">,</span> <span class="n">installed_games</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.fetch_access_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fetch_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.fetch_access_token" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fetch_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">token_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_access_token</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">token_data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Failed to get access token&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
        <span class="n">token_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">token_data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_access_token</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">origin_db_game</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used to generate an installer from the data returned from the services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">origin_db_game</span><span class="p">):</span>
    <span class="n">origin_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">origin_db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
    <span class="n">origin_exe</span> <span class="o">=</span> <span class="n">origin_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">origin_exe</span><span class="p">):</span>
        <span class="n">origin_exe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">origin_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span> <span class="n">origin_exe</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
        <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;requires&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]),</span>
            <span class="p">},</span>
            <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">origin_exe</span><span class="p">,</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span> <span class="s2">&quot;download&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">origin_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="p">(</span>
                        <span class="s2">&quot;Origin will now open and install </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="p">}}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.get_access_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.get_access_token" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Request an access token from EA</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Request an access token from EA&quot;&quot;&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;https://accounts.ea.com/connect/auth&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="s2">&quot;ORIGIN_JS_SDK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;response_type&quot;</span><span class="p">:</span> <span class="s2">&quot;token&quot;</span><span class="p">,</span>
            <span class="s2">&quot;redirect_uri&quot;</span><span class="p">:</span> <span class="s2">&quot;nucleus:rest&quot;</span><span class="p">,</span>
            <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
        <span class="p">},</span>
        <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">load_cookies</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="n">token_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">token_data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.get_auth_headers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_auth_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.get_auth_headers" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return headers needed to authenticate HTTP requests</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_auth_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return headers needed to authenticate HTTP requests&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;User not authenticated to Origin&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">,</span>
        <span class="s2">&quot;AuthToken&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">,</span>
        <span class="s2">&quot;X-AuthToken&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_token</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.get_entitlements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_entitlements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.get_entitlements" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Request the user's entitlements</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_entitlements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Request the user&#39;s entitlements&quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">/ecommerce2/consolidatedentitlements/</span><span class="si">%s</span><span class="s2">?machine_hash=1&quot;</span> <span class="o">%</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">api_url</span><span class="p">,</span>
        <span class="n">user_id</span>
    <span class="p">)</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_auth_headers</span><span class="p">()</span>
    <span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Accept&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;application/vnd.origin.v3+json; x-cache/force-write&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;entitlements&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.get_identity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_identity</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.get_identity" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Request the user info</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_identity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Request the user info&quot;&quot;&quot;</span>
    <span class="n">identity_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_identity</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">identity_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;invalid_access_token&quot;</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Refreshing Origin access token&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fetch_access_token</span><span class="p">()</span>
        <span class="n">identity_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request_identity</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">identity_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> (Error code: </span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">identity_data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">],</span> <span class="n">identity_data</span><span class="p">[</span><span class="s2">&quot;error_number&quot;</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">identity_data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">identity_data</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">])</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">user_id</span> <span class="o">=</span> <span class="n">identity_data</span><span class="p">[</span><span class="s2">&quot;pid&quot;</span><span class="p">][</span><span class="s2">&quot;pidId&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Can&#39;t read user ID from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">identity_data</span><span class="p">)</span>
        <span class="k">raise</span>

    <span class="n">persona_id_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/atom/users?userIds=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span><span class="p">,</span> <span class="n">user_id</span><span class="p">),</span>
        <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_auth_headers</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">persona_id_response</span><span class="o">.</span><span class="n">text</span>
    <span class="n">origin_account_info</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="n">persona_id</span> <span class="o">=</span> <span class="n">origin_account_info</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;personaId&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="n">user_name</span> <span class="o">=</span> <span class="n">origin_account_info</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;EAID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_id</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">persona_id</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.get_library" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.get_library" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Load Origin library</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_library</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load Origin library&quot;&quot;&quot;</span>
    <span class="n">offers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">entitlement</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entitlements</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">entitlement</span><span class="p">[</span><span class="s2">&quot;offerType&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;basegame&quot;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">offer_id</span> <span class="o">=</span> <span class="n">entitlement</span><span class="p">[</span><span class="s2">&quot;offerId&quot;</span><span class="p">]</span>
        <span class="n">offer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_offer</span><span class="p">(</span><span class="n">offer_id</span><span class="p">)</span>
        <span class="n">offers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">offer</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">offers</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.get_offer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.get_offer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Load offer details from Origin</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load offer details from Origin&quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/ecommerce2/public/supercat/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_url</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">,</span> <span class="s2">&quot;en_US&quot;</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_auth_headers</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install a service game, or starts the installer of the game.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>db_game</code></td>
        <td><code>dict or str</code></td>
        <td><p>Database fields of the game to add, or (for Lutris service only
the slug of the game.)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The slug of the game that was installed, to be run. None if the game should not be
    run now. Many installers start from here, but continue running after this returns;
    they return None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">origin_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">origin_game</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;installed&quot;</span><span class="p">]:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Installing the Origin client&quot;</span><span class="p">)</span>
        <span class="n">installers</span> <span class="o">=</span> <span class="n">get_installers</span><span class="p">(</span><span class="n">game_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">)</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">installers</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="n">origin_game</span><span class="p">)],</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">appid</span><span class="o">=</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.install_from_origin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install_from_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.install_from_origin" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install_from_origin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">origin_game</span><span class="p">,</span> <span class="n">manifest</span><span class="p">):</span>
    <span class="n">offer_id</span> <span class="o">=</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing Origin game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">)</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="s2">&quot;origin&quot;</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">service_game</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Aborting install, </span><span class="si">%s</span><span class="s2"> is not present in the game library.&quot;</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">lutris_game_id</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
    <span class="n">existing_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">game_config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">game_config_id</span><span class="o">=</span><span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;configpath&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">game_level</span>
    <span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;args&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
    <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="n">game_config</span><span class="p">)</span>
    <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="n">runner</span><span class="o">=</span><span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;runner&quot;</span><span class="p">],</span>
        <span class="n">slug</span><span class="o">=</span><span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="n">directory</span><span class="o">=</span><span class="n">origin_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">],</span>
        <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">installer_slug</span><span class="o">=</span><span class="n">lutris_game_id</span><span class="p">,</span>
        <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">service_id</span><span class="o">=</span><span class="n">offer_id</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">game_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.is_connected" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.is_connected" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">access_token</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.is_launchable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.is_launchable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Origin games are already loading&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">user_id</span><span class="p">,</span> <span class="n">_persona_id</span><span class="p">,</span> <span class="n">_user_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_identity</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">games</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Retrieved </span><span class="si">%s</span><span class="s2"> games from Origin library&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">games</span><span class="p">))</span>
    <span class="n">origin_games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span><span class="p">:</span>
        <span class="n">origin_game</span> <span class="o">=</span> <span class="n">OriginGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
        <span class="n">origin_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">origin_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">origin_game</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">origin_games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.load_access_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.load_access_token" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">token_file</span><span class="p">:</span>
        <span class="n">token_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">token_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;access_token&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.login_callback" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.login_callback" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fetch_access_token</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.origin.OriginService.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.origin.OriginService.run" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Override this method to run a launcher</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">db_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
    <span class="n">game</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;game-launch&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.services.origin.get_launch_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_launch_arguments</span><span class="p">(</span><span class="n">offer_id</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;launch&#39;</span><span class="p">)</span></code>


<a href="#lutris.services.origin.get_launch_arguments" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/origin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_launch_arguments</span><span class="p">(</span><span class="n">offer_id</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;launch&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s2">&quot;launch&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;origin2://game/launch?offerIds=</span><span class="si">%s</span><span class="s2">&amp;autoDownload=1&quot;</span> <span class="o">%</span> <span class="n">offer_id</span>
    <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s2">&quot;download&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;origin2://game/download?offerId=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">offer_id</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.scummvm" class="doc doc-heading">
        <code>scummvm</code>



<a href="#lutris.services.scummvm" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Legacy ScummVM 'service', has to be ported to the current architecture</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.scummvm.ICON" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ICON</span></code>


<a href="#lutris.services.scummvm.ICON" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.scummvm.NAME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">NAME</span></code>


<a href="#lutris.services.scummvm.NAME" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.scummvm.ONLINE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ONLINE</span></code>


<a href="#lutris.services.scummvm.ONLINE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.scummvm.SCUMMVM_CONFIG_FILE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SCUMMVM_CONFIG_FILE</span></code>


<a href="#lutris.services.scummvm.SCUMMVM_CONFIG_FILE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h3 id="lutris.services.scummvm.get_scummvm_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_scummvm_games</span><span class="p">()</span></code>


<a href="#lutris.services.scummvm.get_scummvm_games" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the available ScummVM games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/scummvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_scummvm_games</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the available ScummVM games&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">SCUMMVM_CONFIG_FILE</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No ScummVM config found&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="p">()</span>
    <span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">SCUMMVM_CONFIG_FILE</span><span class="p">)</span>
    <span class="n">config_sections</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">sections</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">config_sections</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">section</span> <span class="o">==</span> <span class="s2">&quot;scummvm&quot;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">scummvm_id</span> <span class="o">=</span> <span class="n">section</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot; \(.*\)$&quot;</span><span class="p">,</span> <span class="n">config</span><span class="p">[</span><span class="n">section</span><span class="p">][</span><span class="s2">&quot;description&quot;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="n">section</span><span class="p">][</span><span class="s2">&quot;path&quot;</span><span class="p">]</span>
        <span class="k">yield</span> <span class="p">(</span><span class="n">scummvm_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.service_game" class="doc doc-heading">
        <code>service_game</code>



<a href="#lutris.services.service_game" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Service game module</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.service_game.PGA_DB" class="doc doc-heading">
<code class="highlight language-python"><span class="n">PGA_DB</span></code>


<a href="#lutris.services.service_game.PGA_DB" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.services.service_game.ServiceGame" class="doc doc-heading">
        <code>
ServiceGame        </code>



<a href="#lutris.services.service_game.ServiceGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Representation of a game from a 3rd party service</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/service_game.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceGame</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Representation of a game from a 3rd party service&quot;&quot;&quot;</span>

    <span class="n">service</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">installer_slug</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">(</span><span class="n">ServiceMedia</span><span class="p">,</span> <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># External ID of the game on the 3rd party service</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_id</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Internal Lutris ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Name of the runner</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Game slug</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lutris_slug</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Slug used by the lutris website</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logo</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Game logo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Game icon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Additional details for the game</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Save this game to database&quot;&quot;&quot;</span>
        <span class="n">game_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span>
            <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span>
            <span class="s2">&quot;lutris_slug&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">lutris_slug</span><span class="p">,</span>
            <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
            <span class="s2">&quot;logo&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">logo</span><span class="p">,</span>
            <span class="s2">&quot;details&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">details</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="n">existing_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
            <span class="n">sql</span><span class="o">.</span><span class="n">db_update</span><span class="p">(</span><span class="n">PGA_DB</span><span class="p">,</span> <span class="s2">&quot;service_games&quot;</span><span class="p">,</span> <span class="n">game_data</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">existing_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sql</span><span class="o">.</span><span class="n">db_insert</span><span class="p">(</span><span class="n">PGA_DB</span><span class="p">,</span> <span class="s2">&quot;service_games&quot;</span><span class="p">,</span> <span class="n">game_data</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_game.ServiceGame.installer_slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">installer_slug</span></code>


<a href="#lutris.services.service_game.ServiceGame.installer_slug" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_game.ServiceGame.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.service_game.ServiceGame.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_game.ServiceGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.service_game.ServiceGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_game.ServiceGame.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.services.service_game.ServiceGame.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/service_game.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># External ID of the game on the 3rd party service</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">game_id</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Internal Lutris ID</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Name of the runner</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Game slug</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lutris_slug</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Slug used by the lutris website</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logo</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Game logo</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Game icon</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Additional details for the game</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_game.ServiceGame.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.service_game.ServiceGame.save" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Save this game to database</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/service_game.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Save this game to database&quot;&quot;&quot;</span>
    <span class="n">game_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span>
        <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span>
        <span class="s2">&quot;lutris_slug&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">lutris_slug</span><span class="p">,</span>
        <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">icon</span><span class="p">,</span>
        <span class="s2">&quot;logo&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">logo</span><span class="p">,</span>
        <span class="s2">&quot;details&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">details</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="n">existing_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
        <span class="n">sql</span><span class="o">.</span><span class="n">db_update</span><span class="p">(</span><span class="n">PGA_DB</span><span class="p">,</span> <span class="s2">&quot;service_games&quot;</span><span class="p">,</span> <span class="n">game_data</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">existing_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sql</span><span class="o">.</span><span class="n">db_insert</span><span class="p">(</span><span class="n">PGA_DB</span><span class="p">,</span> <span class="s2">&quot;service_games&quot;</span><span class="p">,</span> <span class="n">game_data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.service_media" class="doc doc-heading">
        <code>service_media</code>



<a href="#lutris.services.service_media" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.service_media.PGA_DB" class="doc doc-heading">
<code class="highlight language-python"><span class="n">PGA_DB</span></code>


<a href="#lutris.services.service_media.PGA_DB" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.services.service_media.ServiceMedia" class="doc doc-heading">
        <code>
ServiceMedia        </code>



<a href="#lutris.services.service_media.ServiceMedia" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Information about the service's media format</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceMedia</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Information about the service&#39;s media format&quot;&quot;&quot;</span>

    <span class="n">service</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">size</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;remote&quot;</span>  <span class="c1"># set to local if the files don&#39;t need to be downloaded</span>
    <span class="n">visible</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># This media should be displayed as an option in the UI</span>
    <span class="n">small_size</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">url_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_pattern</span> <span class="o">%</span> <span class="n">slug</span>

    <span class="k">def</span> <span class="nf">get_absolute_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the abolute path of a local media&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(</span><span class="n">slug</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Whether the icon for the specified slug exists locally&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="n">slug</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">get_pixbuf_for_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">is_installed</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">image_abspath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="n">slug</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">get_pixbuf</span><span class="p">(</span><span class="n">image_abspath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="n">get_default_icon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">),</span> <span class="n">is_installed</span><span class="o">=</span><span class="n">is_installed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No field &#39;</span><span class="si">%s</span><span class="s2">&#39; in API game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">,</span> <span class="n">details</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">details</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">]:</span>
            <span class="k">return</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_pattern</span> <span class="o">%</span> <span class="n">details</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_media_urls</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return URLs for icons and logos from a service&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="n">service_games</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_for_service</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">)</span>
        <span class="n">medias</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">service_games</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">]:</span>
                <span class="k">continue</span>
            <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
            <span class="n">media_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_media_url</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">media_url</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">medias</span><span class="p">[</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">media_url</span>
        <span class="k">return</span> <span class="n">medias</span>

    <span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Downloads the banner if not present&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(</span><span class="n">slug</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">cache_path</span><span class="p">,</span> <span class="n">exclude_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">cache_path</span><span class="p">):</span>
            <span class="n">cache_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">cache_path</span><span class="p">)</span>
            <span class="c1"># Empty files have a life time between 1 and 2 weeks, retry them after</span>
            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">cache_stats</span><span class="o">.</span><span class="n">st_mtime</span> <span class="o">&lt;</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">15</span><span class="p">)):</span>
                <span class="k">return</span> <span class="n">cache_path</span>
            <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">cache_path</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cache_path</span><span class="p">,</span> <span class="n">raise_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to download </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Used if the media requires extra processing&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.service_media.ServiceMedia.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.service_media.ServiceMedia.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.service_media.ServiceMedia.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.service_media.ServiceMedia.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.service_media.ServiceMedia.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.small_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">small_size</span></code>


<a href="#lutris.services.service_media.ServiceMedia.small_size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source</span></code>


<a href="#lutris.services.service_media.ServiceMedia.source" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.url_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url_pattern</span></code>


<a href="#lutris.services.service_media.ServiceMedia.url_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.service_media.ServiceMedia.visible" class="doc doc-heading">
<code class="highlight language-python"><span class="n">visible</span></code>


<a href="#lutris.services.service_media.ServiceMedia.visible" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.services.service_media.ServiceMedia.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.download" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>


<a href="#lutris.services.service_media.ServiceMedia.download" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Downloads the banner if not present</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Downloads the banner if not present&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(</span><span class="n">slug</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">cache_path</span><span class="p">,</span> <span class="n">exclude_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">cache_path</span><span class="p">):</span>
        <span class="n">cache_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">cache_path</span><span class="p">)</span>
        <span class="c1"># Empty files have a life time between 1 and 2 weeks, retry them after</span>
        <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">cache_stats</span><span class="o">.</span><span class="n">st_mtime</span> <span class="o">&lt;</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">15</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">cache_path</span>
        <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">cache_path</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cache_path</span><span class="p">,</span> <span class="n">raise_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to download </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span></code>


<a href="#lutris.services.service_media.ServiceMedia.exists" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Whether the icon for the specified slug exists locally</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Whether the icon for the specified slug exists locally&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="n">slug</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.get_absolute_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_absolute_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span></code>


<a href="#lutris.services.service_media.ServiceMedia.get_absolute_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the abolute path of a local media</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_absolute_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the abolute path of a local media&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(</span><span class="n">slug</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.get_filename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span></code>


<a href="#lutris.services.service_media.ServiceMedia.get_filename" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_pattern</span> <span class="o">%</span> <span class="n">slug</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.get_media_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">)</span></code>


<a href="#lutris.services.service_media.ServiceMedia.get_media_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No field &#39;</span><span class="si">%s</span><span class="s2">&#39; in API game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">,</span> <span class="n">details</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">details</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">]:</span>
        <span class="k">return</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_pattern</span> <span class="o">%</span> <span class="n">details</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">api_field</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.get_media_urls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_media_urls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.service_media.ServiceMedia.get_media_urls" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return URLs for icons and logos from a service</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_media_urls</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return URLs for icons and logos from a service&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">==</span> <span class="s2">&quot;local&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="n">service_games</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_for_service</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">)</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">service_games</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">]:</span>
            <span class="k">continue</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
        <span class="n">media_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_media_url</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">media_url</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">medias</span><span class="p">[</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">media_url</span>
    <span class="k">return</span> <span class="n">medias</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.get_pixbuf_for_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pixbuf_for_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">is_installed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.services.service_media.ServiceMedia.get_pixbuf_for_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pixbuf_for_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">is_installed</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">image_abspath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="n">slug</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">get_pixbuf</span><span class="p">(</span><span class="n">image_abspath</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="n">get_default_icon</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">),</span> <span class="n">is_installed</span><span class="o">=</span><span class="n">is_installed</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.service_media.ServiceMedia.render" class="doc doc-heading">
<code class="highlight language-python"><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.service_media.ServiceMedia.render" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used if the media requires extra processing</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/service_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Used if the media requires extra processing&quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.steam" class="doc doc-heading">
        <code>steam</code>



<a href="#lutris.services.steam" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Steam service</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.steam.SteamBanner" class="doc doc-heading">
        <code>
SteamBanner            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.steam.SteamBanner" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamBanner</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">184</span><span class="p">,</span> <span class="mi">69</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;steam/banners&quot;</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;appid&quot;</span>
    <span class="n">url_pattern</span> <span class="o">=</span> <span class="s2">&quot;http://cdn.akamai.steamstatic.com/steam/apps/</span><span class="si">%s</span><span class="s2">/capsule_184x69.jpg&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBanner.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.steam.SteamBanner.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBanner.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.steam.SteamBanner.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBanner.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.steam.SteamBanner.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBanner.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.steam.SteamBanner.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBanner.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.steam.SteamBanner.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBanner.url_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url_pattern</span></code>


<a href="#lutris.services.steam.SteamBanner.url_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.steam.SteamBannerLarge" class="doc doc-heading">
        <code>
SteamBannerLarge            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.steam.SteamBannerLarge" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamBannerLarge</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">460</span><span class="p">,</span> <span class="mi">215</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;steam/header&quot;</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;appid&quot;</span>
    <span class="n">url_pattern</span> <span class="o">=</span> <span class="s2">&quot;https://cdn.cloudflare.steamstatic.com/steam/apps/</span><span class="si">%s</span><span class="s2">/header.jpg&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBannerLarge.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.steam.SteamBannerLarge.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBannerLarge.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.steam.SteamBannerLarge.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBannerLarge.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.steam.SteamBannerLarge.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBannerLarge.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.steam.SteamBannerLarge.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBannerLarge.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.steam.SteamBannerLarge.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamBannerLarge.url_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url_pattern</span></code>


<a href="#lutris.services.steam.SteamBannerLarge.url_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.steam.SteamCover" class="doc doc-heading">
        <code>
SteamCover            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.steam.SteamCover" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamCover</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;steam/covers&quot;</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;appid&quot;</span>
    <span class="n">url_pattern</span> <span class="o">=</span> <span class="s2">&quot;http://cdn.steamstatic.com/steam/apps/</span><span class="si">%s</span><span class="s2">/library_600x900.jpg&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamCover.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.steam.SteamCover.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamCover.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.steam.SteamCover.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamCover.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.steam.SteamCover.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamCover.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.steam.SteamCover.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamCover.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.steam.SteamCover.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamCover.url_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url_pattern</span></code>


<a href="#lutris.services.steam.SteamCover.url_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.steam.SteamGame" class="doc doc-heading">
        <code>
SteamGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.steam.SteamGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>ServiceGame for Steam games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;ServiceGame for Steam games&quot;&quot;&quot;</span>

    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">installer_slug</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_steam_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a Steam game instance from an AppManifest&quot;&quot;&quot;</span>
        <span class="n">game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
        <span class="n">game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="n">game</span><span class="o">.</span><span class="n">game_id</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="n">game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
        <span class="n">game</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">runner</span>
        <span class="n">game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">steam_game</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">game</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamGame.installer_slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">installer_slug</span></code>


<a href="#lutris.services.steam.SteamGame.installer_slug" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamGame.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.steam.SteamGame.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.steam.SteamGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steam.SteamGame.new_from_steam_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_steam_game</span><span class="p">(</span><span class="n">steam_game</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.steam.SteamGame.new_from_steam_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a Steam game instance from an AppManifest</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_steam_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a Steam game instance from an AppManifest&quot;&quot;&quot;</span>
    <span class="n">game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
    <span class="n">game</span><span class="o">.</span><span class="n">game_id</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
    <span class="n">game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="n">game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
    <span class="n">game</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">runner</span>
    <span class="n">game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">steam_game</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.steam.SteamService" class="doc doc-heading">
        <code>
SteamService            (<a class="autorefs autorefs-internal" title="lutris.services.base.BaseService" href="base/#lutris.services.base.BaseService">BaseService</a>)
        </code>



<a href="#lutris.services.steam.SteamService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Steam&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;steam-client&quot;</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;banner&quot;</span><span class="p">:</span> <span class="n">SteamBanner</span><span class="p">,</span>
        <span class="s2">&quot;banner_large&quot;</span><span class="p">:</span> <span class="n">SteamBannerLarge</span><span class="p">,</span>
        <span class="s2">&quot;cover&quot;</span><span class="p">:</span> <span class="n">SteamCover</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">default_format</span> <span class="o">=</span> <span class="s2">&quot;banner&quot;</span>
    <span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">excluded_appids</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;221410&quot;</span><span class="p">,</span>  <span class="c1"># Steam for Linux</span>
        <span class="s2">&quot;228980&quot;</span><span class="p">,</span>  <span class="c1"># Steamworks Common Redistributables</span>
        <span class="s2">&quot;1070560&quot;</span><span class="p">,</span>  <span class="c1"># Steam Linux Runtime</span>
    <span class="p">]</span>
    <span class="n">game_class</span> <span class="o">=</span> <span class="n">SteamGame</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return importable Steam games&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Steam games are already loading&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">steamid</span> <span class="o">=</span> <span class="n">get_user_steam_id</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">steamid</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to find SteamID from Steam config&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">steam_games</span> <span class="o">=</span> <span class="n">get_steam_library</span><span class="p">(</span><span class="n">steamid</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_games</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Failed to load games. Check that your profile is set to public during the sync.&quot;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">steam_game</span> <span class="ow">in</span> <span class="n">steam_games</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">excluded_appids</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_class</span><span class="o">.</span><span class="n">new_from_steam_game</span><span class="p">(</span><span class="n">steam_game</span><span class="p">)</span>
            <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">match_games</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">steam_games</span>

    <span class="k">def</span> <span class="nf">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">):</span>
        <span class="n">steam_uri</span> <span class="o">=</span> <span class="s2">&quot;$STEAM:</span><span class="si">%s</span><span class="s2">:.&quot;</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">script</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;appid&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">InstallerFile</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">game_slug</span><span class="p">,</span> <span class="s2">&quot;steam_game&quot;</span><span class="p">,</span> <span class="p">{</span>
                <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">steam_uri</span> <span class="o">%</span> <span class="n">appid</span><span class="p">,</span>
                <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">appid</span>
            <span class="p">})</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">install_from_steam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manifest</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new Lutris game based on an existing Steam install&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">manifest</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
            <span class="k">return</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">steamid</span>
        <span class="k">if</span> <span class="n">appid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">excluded_appids</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_game</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">lutris_game_id</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
        <span class="n">existing_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">game_config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">()</span><span class="o">.</span><span class="n">game_level</span>
        <span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">appid</span>
        <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="n">game_config</span><span class="p">)</span>
        <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">runner</span><span class="o">=</span><span class="s2">&quot;steam&quot;</span><span class="p">,</span>
            <span class="n">slug</span><span class="o">=</span><span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">installer_slug</span><span class="o">=</span><span class="n">lutris_game_id</span><span class="p">,</span>
            <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
            <span class="n">platform</span><span class="o">=</span><span class="s2">&quot;Linux&quot;</span><span class="p">,</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">service_id</span><span class="o">=</span><span class="n">appid</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">game_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">steamapps_paths</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_steamapps_paths</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Syncs installed Steam games with Lutris&quot;&quot;&quot;</span>
        <span class="n">installed_appids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">steamapps_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steamapps_paths</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">appmanifest_file</span> <span class="ow">in</span> <span class="n">get_appmanifests</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">):</span>
                <span class="n">app_manifest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">appmanifest_file</span><span class="p">)</span>
                <span class="n">app_manifest</span> <span class="o">=</span> <span class="n">AppManifest</span><span class="p">(</span><span class="n">app_manifest_path</span><span class="p">)</span>
                <span class="n">installed_appids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">app_manifest</span><span class="o">.</span><span class="n">steamid</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">install_from_steam</span><span class="p">(</span><span class="n">app_manifest</span><span class="p">)</span>

        <span class="n">db_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;steam&quot;</span><span class="p">})</span>
        <span class="k">for</span> <span class="n">db_game</span> <span class="ow">in</span> <span class="n">db_games</span><span class="p">:</span>
            <span class="n">steam_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">appid</span> <span class="o">=</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_level</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Steam game </span><span class="si">%s</span><span class="s2"> has no AppID&quot;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">appid</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">installed_appids</span><span class="p">:</span>
                <span class="n">steam_game</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">no_signal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">db_appids</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="n">db_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="s2">&quot;steam&quot;</span><span class="p">})</span>
        <span class="k">for</span> <span class="n">db_game</span> <span class="ow">in</span> <span class="n">db_games</span><span class="p">:</span>
            <span class="n">db_appids</span><span class="p">[</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;service_id&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">appid</span> <span class="ow">in</span> <span class="n">db_appids</span><span class="p">:</span>
            <span class="n">game_ids</span> <span class="o">=</span> <span class="n">db_appids</span><span class="p">[</span><span class="n">appid</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">game_ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">for</span> <span class="n">game_id</span> <span class="ow">in</span> <span class="n">game_ids</span><span class="p">:</span>
                <span class="n">steam_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">game_id</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">playtime</span><span class="p">:</span>
                    <span class="n">steam_game</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">no_signal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">steam_game</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Generate a basic Steam installer&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
            <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]}</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="n">db_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service_id&quot;</span><span class="p">:</span> <span class="n">appid</span><span class="p">,</span> <span class="s2">&quot;installed&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="n">existing_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">match_existing_game</span><span class="p">(</span><span class="n">db_games</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Found steam game: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">existing_game</span><span class="p">)</span>
            <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">existing_game</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="n">service_installers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_installers_from_api</span><span class="p">(</span><span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_installers</span><span class="p">:</span>
            <span class="n">service_installers</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">)]</span>
        <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">service_installers</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="o">=</span><span class="n">appid</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.default_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_format</span></code>


<a href="#lutris.services.steam.SteamService.default_format" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.excluded_appids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">excluded_appids</span></code>


<a href="#lutris.services.steam.SteamService.excluded_appids" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.steam.SteamService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.steam.SteamService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.is_loading" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_loading</span></code>


<a href="#lutris.services.steam.SteamService.is_loading" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.steam.SteamService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.steam.SteamService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.steam.SteamService.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steam.SteamService.steamapps_paths" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steamapps_paths</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.steam.SteamService.steamapps_paths" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h4 id="lutris.services.steam.SteamService.game_class" class="doc doc-heading">
        <code>
game_class            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.steam.SteamService.game_class" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>ServiceGame for Steam games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;ServiceGame for Steam games&quot;&quot;&quot;</span>

    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">installer_slug</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_steam_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a Steam game instance from an AppManifest&quot;&quot;&quot;</span>
        <span class="n">game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
        <span class="n">game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="n">game</span><span class="o">.</span><span class="n">game_id</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="n">game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
        <span class="n">game</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">runner</span>
        <span class="n">game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">steam_game</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">game</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.services.steam.SteamService.game_class.installer_slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">installer_slug</span></code>


<a href="#lutris.services.steam.SteamService.game_class.installer_slug" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.services.steam.SteamService.game_class.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.steam.SteamService.game_class.runner" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.services.steam.SteamService.game_class.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.steam.SteamService.game_class.service" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.services.steam.SteamService.game_class.new_from_steam_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_steam_game</span><span class="p">(</span><span class="n">steam_game</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.steam.SteamService.game_class.new_from_steam_game" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return a Steam game instance from an AppManifest</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_steam_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a Steam game instance from an AppManifest&quot;&quot;&quot;</span>
    <span class="n">game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
    <span class="n">game</span><span class="o">.</span><span class="n">game_id</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
    <span class="n">game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="n">game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
    <span class="n">game</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">runner</span>
    <span class="n">game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">steam_game</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steam.SteamService.add_installed_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.steam.SteamService.add_installed_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Syncs installed Steam games with Lutris</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Syncs installed Steam games with Lutris&quot;&quot;&quot;</span>
    <span class="n">installed_appids</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">steamapps_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steamapps_paths</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">appmanifest_file</span> <span class="ow">in</span> <span class="n">get_appmanifests</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">):</span>
            <span class="n">app_manifest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">appmanifest_file</span><span class="p">)</span>
            <span class="n">app_manifest</span> <span class="o">=</span> <span class="n">AppManifest</span><span class="p">(</span><span class="n">app_manifest_path</span><span class="p">)</span>
            <span class="n">installed_appids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">app_manifest</span><span class="o">.</span><span class="n">steamid</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">install_from_steam</span><span class="p">(</span><span class="n">app_manifest</span><span class="p">)</span>

    <span class="n">db_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;steam&quot;</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">db_game</span> <span class="ow">in</span> <span class="n">db_games</span><span class="p">:</span>
        <span class="n">steam_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">appid</span> <span class="o">=</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_level</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Steam game </span><span class="si">%s</span><span class="s2"> has no AppID&quot;</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">appid</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">installed_appids</span><span class="p">:</span>
            <span class="n">steam_game</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">no_signal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">db_appids</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">db_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="s2">&quot;steam&quot;</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">db_game</span> <span class="ow">in</span> <span class="n">db_games</span><span class="p">:</span>
        <span class="n">db_appids</span><span class="p">[</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;service_id&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">appid</span> <span class="ow">in</span> <span class="n">db_appids</span><span class="p">:</span>
        <span class="n">game_ids</span> <span class="o">=</span> <span class="n">db_appids</span><span class="p">[</span><span class="n">appid</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">game_ids</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">game_id</span> <span class="ow">in</span> <span class="n">game_ids</span><span class="p">:</span>
            <span class="n">steam_game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">game_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">playtime</span><span class="p">:</span>
                <span class="n">steam_game</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">no_signal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">steam_game</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steam.SteamService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.steam.SteamService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Generate a basic Steam installer</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generate a basic Steam installer&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
        <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steam.SteamService.get_installer_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">)</span></code>


<a href="#lutris.services.steam.SteamService.get_installer_files" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_installer_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">,</span> <span class="n">installer_file_id</span><span class="p">):</span>
    <span class="n">steam_uri</span> <span class="o">=</span> <span class="s2">&quot;$STEAM:</span><span class="si">%s</span><span class="s2">:.&quot;</span>
    <span class="n">appid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">script</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;appid&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">InstallerFile</span><span class="p">(</span><span class="n">installer</span><span class="o">.</span><span class="n">game_slug</span><span class="p">,</span> <span class="s2">&quot;steam_game&quot;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">steam_uri</span> <span class="o">%</span> <span class="n">appid</span><span class="p">,</span>
            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">appid</span>
        <span class="p">})</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steam.SteamService.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.steam.SteamService.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install a service game, or starts the installer of the game.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>db_game</code></td>
        <td><code>dict or str</code></td>
        <td><p>Database fields of the game to add, or (for Lutris service only
the slug of the game.)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The slug of the game that was installed, to be run. None if the game should not be
    run now. Many installers start from here, but continue running after this returns;
    they return None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
    <span class="n">db_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service_id&quot;</span><span class="p">:</span> <span class="n">appid</span><span class="p">,</span> <span class="s2">&quot;installed&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
    <span class="n">existing_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">match_existing_game</span><span class="p">(</span><span class="n">db_games</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Found steam game: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">existing_game</span><span class="p">)</span>
        <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">existing_game</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span>
    <span class="n">service_installers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_installers_from_api</span><span class="p">(</span><span class="n">appid</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">service_installers</span><span class="p">:</span>
        <span class="n">service_installers</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">)]</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">service_installers</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="o">=</span><span class="n">appid</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steam.SteamService.install_from_steam" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install_from_steam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manifest</span><span class="p">)</span></code>


<a href="#lutris.services.steam.SteamService.install_from_steam" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a new Lutris game based on an existing Steam install</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install_from_steam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manifest</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a new Lutris game based on an existing Steam install&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">manifest</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
        <span class="k">return</span>
    <span class="n">appid</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">steamid</span>
    <span class="k">if</span> <span class="n">appid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">excluded_appids</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_game</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">service_game</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">lutris_game_id</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
    <span class="n">existing_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">game_config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">()</span><span class="o">.</span><span class="n">game_level</span>
    <span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">appid</span>
    <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="n">game_config</span><span class="p">)</span>
    <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="n">runner</span><span class="o">=</span><span class="s2">&quot;steam&quot;</span><span class="p">,</span>
        <span class="n">slug</span><span class="o">=</span><span class="n">slugify</span><span class="p">(</span><span class="n">service_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">installer_slug</span><span class="o">=</span><span class="n">lutris_game_id</span><span class="p">,</span>
        <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
        <span class="n">platform</span><span class="o">=</span><span class="s2">&quot;Linux&quot;</span><span class="p">,</span>
        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">service_id</span><span class="o">=</span><span class="n">appid</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">game_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steam.SteamService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.steam.SteamService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return importable Steam games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return importable Steam games&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Steam games are already loading&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">steamid</span> <span class="o">=</span> <span class="n">get_user_steam_id</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">steamid</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to find SteamID from Steam config&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">steam_games</span> <span class="o">=</span> <span class="n">get_steam_library</span><span class="p">(</span><span class="n">steamid</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_games</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Failed to load games. Check that your profile is set to public during the sync.&quot;</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">steam_game</span> <span class="ow">in</span> <span class="n">steam_games</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">steam_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">excluded_appids</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_class</span><span class="o">.</span><span class="n">new_from_steam_game</span><span class="p">(</span><span class="n">steam_game</span><span class="p">)</span>
        <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">match_games</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">steam_games</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.steamwindows" class="doc doc-heading">
        <code>steamwindows</code>



<a href="#lutris.services.steamwindows" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.services.steamwindows.STEAM_INSTALLER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">STEAM_INSTALLER</span></code>


<a href="#lutris.services.steamwindows.STEAM_INSTALLER" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.services.steamwindows.SteamWindowsGame" class="doc doc-heading">
        <code>
SteamWindowsGame            (<a class="autorefs autorefs-internal" title="lutris.services.steam.SteamGame" href="steam/#lutris.services.steam.SteamGame">SteamGame</a>)
        </code>



<a href="#lutris.services.steamwindows.SteamWindowsGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steamwindows.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamWindowsGame</span><span class="p">(</span><span class="n">SteamGame</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;steamwindows&quot;</span>
    <span class="n">installer_slug</span> <span class="o">=</span> <span class="s2">&quot;steamwindows&quot;</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steamwindows.SteamWindowsGame.installer_slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">installer_slug</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsGame.installer_slug" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steamwindows.SteamWindowsGame.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsGame.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steamwindows.SteamWindowsGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.steamwindows.SteamWindowsService" class="doc doc-heading">
        <code>
SteamWindowsService            (<a class="autorefs autorefs-internal" title="lutris.services.steam.SteamService" href="steam/#lutris.services.steam.SteamService">SteamService</a>)
        </code>



<a href="#lutris.services.steamwindows.SteamWindowsService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steamwindows.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamWindowsService</span><span class="p">(</span><span class="n">SteamService</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;steamwindows&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Steam for Windows&quot;</span><span class="p">)</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
    <span class="n">game_class</span> <span class="o">=</span> <span class="n">SteamWindowsGame</span>
    <span class="n">client_installer</span> <span class="o">=</span> <span class="s2">&quot;steam-wine&quot;</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Generate a basic Steam installer&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
            <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;requires&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;-no-cef-sandbox -applaunch </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_steam</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">db_entry</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">db_entry</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Game</span><span class="p">(</span><span class="n">db_entry</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">steam_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steam</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_game</span><span class="p">:</span>
            <span class="n">installers</span> <span class="o">=</span> <span class="n">get_installers</span><span class="p">(</span>
                <span class="n">game_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">appid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">installers</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">)]</span>
            <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
            <span class="n">db_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service_id&quot;</span><span class="p">:</span> <span class="n">appid</span><span class="p">,</span> <span class="s2">&quot;installed&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
            <span class="n">existing_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">match_existing_game</span><span class="p">(</span><span class="n">db_games</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Found steam game: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">existing_game</span><span class="p">)</span>
                <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">existing_game</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
                <span class="k">return</span>
        <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span>
            <span class="n">installers</span><span class="p">,</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">appid</span><span class="o">=</span><span class="n">appid</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">steamapps_paths</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return steamapps paths&quot;&quot;&quot;</span>
        <span class="n">steam_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steam</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_game</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">dirs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">steam_path</span> <span class="o">=</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">]</span>
        <span class="n">steam_data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">steam_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">steam_data_dir</span><span class="p">:</span>
            <span class="n">main_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">,</span> <span class="s2">&quot;steamapps&quot;</span><span class="p">)</span>
            <span class="n">main_dir</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">main_dir</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">main_dir</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">main_dir</span><span class="p">):</span>
                <span class="n">dirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">main_dir</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">dirs</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steamwindows.SteamWindowsService.client_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client_installer</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.client_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steamwindows.SteamWindowsService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steamwindows.SteamWindowsService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steamwindows.SteamWindowsService.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.steamwindows.SteamWindowsService.steamapps_paths" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steamapps_paths</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.steamwindows.SteamWindowsService.steamapps_paths" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return steamapps paths</p>
    </div>

  </div>




  <div class="doc doc-object doc-class">



<h4 id="lutris.services.steamwindows.SteamWindowsService.game_class" class="doc doc-heading">
        <code>
game_class            (<a class="autorefs autorefs-internal" title="lutris.services.steam.SteamGame" href="steam/#lutris.services.steam.SteamGame">SteamGame</a>)
        </code>



<a href="#lutris.services.steamwindows.SteamWindowsService.game_class" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steamwindows.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamWindowsGame</span><span class="p">(</span><span class="n">SteamGame</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;steamwindows&quot;</span>
    <span class="n">installer_slug</span> <span class="o">=</span> <span class="s2">&quot;steamwindows&quot;</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.services.steamwindows.SteamWindowsService.game_class.installer_slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">installer_slug</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.game_class.installer_slug" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.services.steamwindows.SteamWindowsService.game_class.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.game_class.runner" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.services.steamwindows.SteamWindowsService.game_class.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.game_class.service" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steamwindows.SteamWindowsService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">)</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Generate a basic Steam installer</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/steamwindows.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generate a basic Steam installer&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
        <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;requires&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">],</span>
                <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;-no-cef-sandbox -applaunch </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
                <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">steam_game</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steamwindows.SteamWindowsService.get_steam" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steam</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.get_steam" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/steamwindows.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steam</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">db_entry</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">db_entry</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Game</span><span class="p">(</span><span class="n">db_entry</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.steamwindows.SteamWindowsService.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.steamwindows.SteamWindowsService.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install a service game, or starts the installer of the game.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>db_game</code></td>
        <td><code>dict or str</code></td>
        <td><p>Database fields of the game to add, or (for Lutris service only
the slug of the game.)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The slug of the game that was installed, to be run. None if the game should not be
    run now. Many installers start from here, but continue running after this returns;
    they return None.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/services/steamwindows.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">steam_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steam</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_game</span><span class="p">:</span>
        <span class="n">installers</span> <span class="o">=</span> <span class="n">get_installers</span><span class="p">(</span>
            <span class="n">game_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">installers</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="n">steam_game</span><span class="p">)]</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="n">db_games</span> <span class="o">=</span> <span class="n">get_games</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service_id&quot;</span><span class="p">:</span> <span class="n">appid</span><span class="p">,</span> <span class="s2">&quot;installed&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="n">existing_game</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">match_existing_game</span><span class="p">(</span><span class="n">db_games</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Found steam game: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">existing_game</span><span class="p">)</span>
            <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">existing_game</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span>
        <span class="n">installers</span><span class="p">,</span>
        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
        <span class="n">appid</span><span class="o">=</span><span class="n">appid</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.tosec" class="doc doc-heading">
        <code>tosec</code>



<a href="#lutris.services.tosec" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>TOSEC service
Not ready yet</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.tosec.TOSECService" class="doc doc-heading">
        <code>
TOSECService            (<a class="autorefs autorefs-internal" title="lutris.services.base.BaseService" href="base/#lutris.services.base.BaseService">BaseService</a>)
        </code>



<a href="#lutris.services.tosec.TOSECService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for TOSEC</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/tosec.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TOSECService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for TOSEC&quot;&quot;&quot;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;tosec&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;TOSEC&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;tosec&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.tosec.TOSECService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.tosec.TOSECService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.tosec.TOSECService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.tosec.TOSECService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.tosec.TOSECService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.tosec.TOSECService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.ubisoft" class="doc doc-heading">
        <code>ubisoft</code>



<a href="#lutris.services.ubisoft" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Ubisoft Connect service</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.ubisoft.UbisoftConnectService" class="doc doc-heading">
        <code>
UbisoftConnectService            (<a class="autorefs autorefs-internal" title="lutris.services.base.OnlineService" href="base/#lutris.services.base.OnlineService">OnlineService</a>)
        </code>



<a href="#lutris.services.ubisoft.UbisoftConnectService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service class for Ubisoft Connect</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UbisoftConnectService</span><span class="p">(</span><span class="n">OnlineService</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service class for Ubisoft Connect&quot;&quot;&quot;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;ubisoft&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Ubisoft Connect&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;ubisoft&quot;</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;wine&quot;</span>
    <span class="n">client_installer</span> <span class="o">=</span> <span class="s2">&quot;ubisoft-connect&quot;</span>
    <span class="n">browser_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">460</span><span class="p">,</span> <span class="mi">690</span><span class="p">)</span>
    <span class="n">cookies_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;ubisoft/.auth&quot;</span><span class="p">)</span>
    <span class="n">token_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;ubisoft/.token&quot;</span><span class="p">)</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;ubisoft/library/&quot;</span><span class="p">)</span>
    <span class="n">login_url</span> <span class="o">=</span> <span class="n">consts</span><span class="o">.</span><span class="n">LOGIN_URL</span>
    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">&quot;https://connect.ubisoft.com/change_domain/&quot;</span>
    <span class="n">scripts</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;https://connect.ubisoft.com/ready&quot;</span><span class="p">:</span> <span class="p">(</span>
            <span class="s1">&#39;window.location.replace(&quot;https://connect.ubisoft.com/change_domain/&quot;);&#39;</span>
        <span class="p">),</span>
        <span class="s2">&quot;https://connect.ubisoft.com/change_domain/&quot;</span><span class="p">:</span> <span class="p">(</span>
            <span class="s1">&#39;window.location.replace(localStorage.getItem(&quot;PRODloginData&quot;) +&quot;,&quot;+ &#39;</span>
            <span class="s1">&#39;localStorage.getItem(&quot;PRODrememberMe&quot;) +&quot;,&quot; + localStorage.getItem(&quot;PRODlastProfile&quot;));&#39;</span>
        <span class="p">)</span>
    <span class="p">}</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;cover&quot;</span><span class="p">:</span> <span class="n">UbisoftCover</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">default_format</span> <span class="o">=</span> <span class="s2">&quot;cover&quot;</span>
    <span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">UbisoftConnectClient</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">auth_lost</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-logout&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">credentials</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Called after the user has logged in successfully&quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">credentials</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;https://connect.ubisoft.com/change_domain/&quot;</span><span class="p">):]</span>
        <span class="n">unquoted_url</span> <span class="o">=</span> <span class="n">unquote</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">storage_jsons</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="n">unquoted_url</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">)</span>
        <span class="n">user_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">authorise_with_local_storage</span><span class="p">(</span><span class="n">storage_jsons</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">set_auth_lost_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_lost</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">user_data</span><span class="p">[</span><span class="s1">&#39;userId&#39;</span><span class="p">],</span> <span class="n">user_data</span><span class="p">[</span><span class="s1">&#39;username&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">db_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">game</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;game-launch&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_configurations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ubi_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="s2">&quot;ubisoft-connect&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ubi_game</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">base_dir</span> <span class="o">=</span> <span class="n">ubi_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span>
        <span class="n">configurations_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">base_dir</span><span class="p">,</span>
            <span class="s2">&quot;drive_c/Program Files (x86)/Ubisoft/Ubisoft Game Launcher/&quot;</span>
            <span class="s2">&quot;cache/configuration/configurations&quot;</span>
        <span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">configurations_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">content</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">authorise_with_stored_credentials</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_credentials</span><span class="p">())</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_club_titles</span><span class="p">()</span>
        <span class="n">games</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;viewer&#39;</span><span class="p">][</span><span class="s1">&#39;ownedGames&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nodes&#39;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">ubi_games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;ownedPlatformGroups&quot;</span> <span class="ow">in</span> <span class="n">game</span><span class="p">:</span>
                <span class="n">is_pc</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">for</span> <span class="n">platform_group</span> <span class="ow">in</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;ownedPlatformGroups&quot;</span><span class="p">]:</span>
                    <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">platform_group</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">platform</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;PC&quot;</span><span class="p">:</span>
                            <span class="n">is_pc</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">is_pc</span><span class="p">:</span>
                    <span class="k">continue</span>
            <span class="n">ubi_game</span> <span class="o">=</span> <span class="n">UbisoftGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
            <span class="n">ubi_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">ubi_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ubi_game</span><span class="p">)</span>
        <span class="n">configuration_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_configurations</span><span class="p">()</span>
        <span class="n">config_parser</span> <span class="o">=</span> <span class="n">UbisoftParser</span><span class="p">()</span>
        <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">config_parser</span><span class="o">.</span><span class="n">parse_games</span><span class="p">(</span><span class="n">configuration_data</span><span class="p">):</span>
            <span class="n">ubi_game</span> <span class="o">=</span> <span class="n">UbisoftGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
            <span class="n">ubi_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">ubi_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ubi_game</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">ubi_games</span>

    <span class="k">def</span> <span class="nf">store_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">credentials</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">auth_file</span><span class="p">:</span>
            <span class="n">auth_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">load_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">auth_file</span><span class="p">:</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">auth_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">credentials</span>

    <span class="k">def</span> <span class="nf">install_from_ubisoft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ubisoft_connect</span><span class="p">,</span> <span class="n">game</span><span class="p">):</span>
        <span class="n">app_name</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>

        <span class="n">lutris_game_id</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
        <span class="n">existing_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Ubisoft Connect game </span><span class="si">%s</span><span class="s2"> is already installed&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing Ubisoft Connect game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
        <span class="n">game_config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">game_config_id</span><span class="o">=</span><span class="n">ubisoft_connect</span><span class="p">[</span><span class="s2">&quot;configpath&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">game_level</span>
        <span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;args&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;uplay://launch/</span><span class="si">{</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;appid&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="n">game_config</span><span class="p">)</span>
        <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">runner</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
            <span class="n">slug</span><span class="o">=</span><span class="n">slugify</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="n">directory</span><span class="o">=</span><span class="n">ubisoft_connect</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">],</span>
            <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">installer_slug</span><span class="o">=</span><span class="n">lutris_game_id</span><span class="p">,</span>
            <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">service_id</span><span class="o">=</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">game_id</span>

    <span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ubisoft_connect</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ubisoft_connect</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Ubisoft Connect not installed&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">prefix_path</span> <span class="o">=</span> <span class="n">ubisoft_connect</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;drive_c&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">WinePrefixManager</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_for_service</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">):</span>
            <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
            <span class="n">install_path</span> <span class="o">=</span> <span class="n">get_ubisoft_registry</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;registryPath&quot;</span><span class="p">))</span>
            <span class="n">exe</span> <span class="o">=</span> <span class="n">get_ubisoft_registry</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;exe&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">install_path</span> <span class="ow">and</span> <span class="n">exe</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">install_from_ubisoft</span><span class="p">(</span><span class="n">ubisoft_connect</span><span class="p">,</span> <span class="n">game</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">ubi_db_game</span><span class="p">):</span>
        <span class="n">ubisoft_connect</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">ubi_db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
        <span class="n">uc_exe</span> <span class="o">=</span> <span class="n">ubisoft_connect</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">uc_exe</span><span class="p">):</span>
            <span class="n">uc_exe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ubisoft_connect</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span> <span class="n">uc_exe</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
            <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;requires&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;uplay://launch/</span><span class="si">{</span><span class="n">db_game</span><span class="p">[</span><span class="s1">&#39;appid&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">uc_exe</span><span class="p">,</span>
                        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;uplay://install/</span><span class="si">{</span><span class="n">db_game</span><span class="p">[</span><span class="s1">&#39;appid&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">ubisoft_connect</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="p">(</span>
                            <span class="s2">&quot;Ubisoft will now open and install </span><span class="si">%s</span><span class="s2">. &quot;</span>
                            <span class="s2">&quot;Close Ubisoft Connect to complete the install process.&quot;</span>
                        <span class="p">)</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                    <span class="p">}}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Install a game or Ubisoft Connect if not already installed&quot;&quot;&quot;</span>
        <span class="n">ubisoft_connect</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ubisoft_connect</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">ubisoft_connect</span><span class="p">[</span><span class="s2">&quot;installed&quot;</span><span class="p">]:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Ubisoft Connect (</span><span class="si">%s</span><span class="s2">) not installed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">)</span>
            <span class="n">installers</span> <span class="o">=</span> <span class="n">get_installers</span><span class="p">(</span><span class="n">game_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">)</span>
            <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">installers</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="n">ubisoft_connect</span><span class="p">)],</span>
                <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">appid</span><span class="o">=</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.browser_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">browser_size</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.browser_size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_path</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.client_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client_installer</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.client_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.cookies_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cookies_path</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.cookies_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.default_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_format</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.default_format" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.is_loading" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_loading</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.is_loading" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.login_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_url</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.login_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.redirect_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">redirect_uri</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.redirect_uri" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.scripts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">scripts</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.scripts" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.token_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">token_path</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.token_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.services.ubisoft.UbisoftConnectService.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">UbisoftConnectClient</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.add_installed_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.add_installed_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Services can implement this method to scan for locally
installed games and add them to lutris.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_installed_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">ubisoft_connect</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ubisoft_connect</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Ubisoft Connect not installed&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">prefix_path</span> <span class="o">=</span> <span class="n">ubisoft_connect</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;drive_c&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="n">WinePrefixManager</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">ServiceGameCollection</span><span class="o">.</span><span class="n">get_for_service</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">):</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
        <span class="n">install_path</span> <span class="o">=</span> <span class="n">get_ubisoft_registry</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;registryPath&quot;</span><span class="p">))</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="n">get_ubisoft_registry</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;exe&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">install_path</span> <span class="ow">and</span> <span class="n">exe</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">install_from_ubisoft</span><span class="p">(</span><span class="n">ubisoft_connect</span><span class="p">,</span> <span class="n">game</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.auth_lost" class="doc doc-heading">
<code class="highlight language-python"><span class="n">auth_lost</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.auth_lost" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">auth_lost</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-logout&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">ubi_db_game</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used to generate an installer from the data returned from the services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">,</span> <span class="n">ubi_db_game</span><span class="p">):</span>
    <span class="n">ubisoft_connect</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">ubi_db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
    <span class="n">uc_exe</span> <span class="o">=</span> <span class="n">ubisoft_connect</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">uc_exe</span><span class="p">):</span>
        <span class="n">uc_exe</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ubisoft_connect</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span> <span class="n">uc_exe</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
        <span class="s2">&quot;appid&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;requires&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;uplay://launch/</span><span class="si">{</span><span class="n">db_game</span><span class="p">[</span><span class="s1">&#39;appid&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;installer&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;wineexec&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;executable&quot;</span><span class="p">:</span> <span class="n">uc_exe</span><span class="p">,</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;uplay://install/</span><span class="si">{</span><span class="n">db_game</span><span class="p">[</span><span class="s1">&#39;appid&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;prefix&quot;</span><span class="p">:</span> <span class="n">ubisoft_connect</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="p">(</span>
                        <span class="s2">&quot;Ubisoft will now open and install </span><span class="si">%s</span><span class="s2">. &quot;</span>
                        <span class="s2">&quot;Close Ubisoft Connect to complete the install process.&quot;</span>
                    <span class="p">)</span> <span class="o">%</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                <span class="p">}}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.get_configurations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_configurations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.get_configurations" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_configurations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">ubi_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="s2">&quot;ubisoft-connect&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ubi_game</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="n">ubi_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span>
    <span class="n">configurations_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">base_dir</span><span class="p">,</span>
        <span class="s2">&quot;drive_c/Program Files (x86)/Ubisoft/Ubisoft Game Launcher/&quot;</span>
        <span class="s2">&quot;cache/configuration/configurations&quot;</span>
    <span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">configurations_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">config_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">content</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install a game or Ubisoft Connect if not already installed</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Install a game or Ubisoft Connect if not already installed&quot;&quot;&quot;</span>
    <span class="n">ubisoft_connect</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Application</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ubisoft_connect</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">ubisoft_connect</span><span class="p">[</span><span class="s2">&quot;installed&quot;</span><span class="p">]:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Ubisoft Connect (</span><span class="si">%s</span><span class="s2">) not installed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">)</span>
        <span class="n">installers</span> <span class="o">=</span> <span class="n">get_installers</span><span class="p">(</span><span class="n">game_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">)</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span><span class="n">installers</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">application</span><span class="o">.</span><span class="n">show_installer_window</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_installer</span><span class="p">(</span><span class="n">db_game</span><span class="p">,</span> <span class="n">ubisoft_connect</span><span class="p">)],</span>
            <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">appid</span><span class="o">=</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">]</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.install_from_ubisoft" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install_from_ubisoft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ubisoft_connect</span><span class="p">,</span> <span class="n">game</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.install_from_ubisoft" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install_from_ubisoft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ubisoft_connect</span><span class="p">,</span> <span class="n">game</span><span class="p">):</span>
    <span class="n">app_name</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>

    <span class="n">lutris_game_id</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
    <span class="n">existing_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="s2">&quot;installer_slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">existing_game</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Ubisoft Connect game </span><span class="si">%s</span><span class="s2"> is already installed&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing Ubisoft Connect game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">app_name</span><span class="p">)</span>
    <span class="n">game_config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">game_config_id</span><span class="o">=</span><span class="n">ubisoft_connect</span><span class="p">[</span><span class="s2">&quot;configpath&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">game_level</span>
    <span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;args&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;uplay://launch/</span><span class="si">{</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;appid&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">configpath</span> <span class="o">=</span> <span class="n">write_game_config</span><span class="p">(</span><span class="n">lutris_game_id</span><span class="p">,</span> <span class="n">game_config</span><span class="p">)</span>
    <span class="n">game_id</span> <span class="o">=</span> <span class="n">add_game</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="n">runner</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span>
        <span class="n">slug</span><span class="o">=</span><span class="n">slugify</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="n">directory</span><span class="o">=</span><span class="n">ubisoft_connect</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">],</span>
        <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">installer_slug</span><span class="o">=</span><span class="n">lutris_game_id</span><span class="p">,</span>
        <span class="n">configpath</span><span class="o">=</span><span class="n">configpath</span><span class="p">,</span>
        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">service_id</span><span class="o">=</span><span class="n">game</span><span class="p">[</span><span class="s2">&quot;appid&quot;</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">game_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.is_connected" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.is_connected" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_connected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.is_launchable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.is_launchable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_launchable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">authorise_with_stored_credentials</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_credentials</span><span class="p">())</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_club_titles</span><span class="p">()</span>
    <span class="n">games</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;viewer&#39;</span><span class="p">][</span><span class="s1">&#39;ownedGames&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nodes&#39;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="n">ubi_games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">games</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;ownedPlatformGroups&quot;</span> <span class="ow">in</span> <span class="n">game</span><span class="p">:</span>
            <span class="n">is_pc</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">platform_group</span> <span class="ow">in</span> <span class="n">game</span><span class="p">[</span><span class="s2">&quot;ownedPlatformGroups&quot;</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">platform_group</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">platform</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;PC&quot;</span><span class="p">:</span>
                        <span class="n">is_pc</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_pc</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="n">ubi_game</span> <span class="o">=</span> <span class="n">UbisoftGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
        <span class="n">ubi_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">ubi_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ubi_game</span><span class="p">)</span>
    <span class="n">configuration_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_configurations</span><span class="p">()</span>
    <span class="n">config_parser</span> <span class="o">=</span> <span class="n">UbisoftParser</span><span class="p">()</span>
    <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">config_parser</span><span class="o">.</span><span class="n">parse_games</span><span class="p">(</span><span class="n">configuration_data</span><span class="p">):</span>
        <span class="n">ubi_game</span> <span class="o">=</span> <span class="n">UbisoftGame</span><span class="o">.</span><span class="n">new_from_api</span><span class="p">(</span><span class="n">game</span><span class="p">)</span>
        <span class="n">ubi_game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">ubi_games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ubi_game</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">ubi_games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.load_credentials" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.load_credentials" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">auth_file</span><span class="p">:</span>
        <span class="n">credentials</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">auth_file</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">credentials</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.login_callback" class="doc doc-heading">
<code class="highlight language-python"><span class="n">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">credentials</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.login_callback" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Called after the user has logged in successfully</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">login_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">credentials</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Called after the user has logged in successfully&quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">credentials</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;https://connect.ubisoft.com/change_domain/&quot;</span><span class="p">):]</span>
    <span class="n">unquoted_url</span> <span class="o">=</span> <span class="n">unquote</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">storage_jsons</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="n">unquoted_url</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">)</span>
    <span class="n">user_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">authorise_with_local_storage</span><span class="p">(</span><span class="n">storage_jsons</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">set_auth_lost_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_lost</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;service-login&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">user_data</span><span class="p">[</span><span class="s1">&#39;userId&#39;</span><span class="p">],</span> <span class="n">user_data</span><span class="p">[</span><span class="s1">&#39;username&#39;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.run" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Override this method to run a launcher</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">db_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_installer</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="n">game</span> <span class="o">=</span> <span class="n">Game</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
    <span class="n">game</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="s2">&quot;game-launch&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftConnectService.store_credentials" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">credentials</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftConnectService.store_credentials" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">credentials</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">token_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">auth_file</span><span class="p">:</span>
        <span class="n">auth_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.ubisoft.UbisoftCover" class="doc doc-heading">
        <code>
UbisoftCover            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.ubisoft.UbisoftCover" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Ubisoft connect cover art</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UbisoftCover</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ubisoft connect cover art&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;ubisoft&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">160</span><span class="p">,</span> <span class="mi">186</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;ubisoft/covers&quot;</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.jpg&quot;</span>
    <span class="n">api_field</span> <span class="o">=</span> <span class="s2">&quot;id&quot;</span>
    <span class="n">url_pattern</span> <span class="o">=</span> <span class="s2">&quot;https://ubiservices.cdn.ubi.com/</span><span class="si">%s</span><span class="s2">/spaceCardAsset/boxArt_mobile.jpg?imwidth=320&quot;</span>

    <span class="k">def</span> <span class="nf">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_field</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_media_url</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;thumbImage&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">slug</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.jpg&quot;</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">ubi_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="s2">&quot;ubisoft-connect&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ubi_game</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">base_dir</span> <span class="o">=</span> <span class="n">ubi_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span>
        <span class="n">asset_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">base_dir</span><span class="p">,</span>
            <span class="s2">&quot;drive_c/Program Files (x86)/Ubisoft/Ubisoft Game Launcher/cache/assets&quot;</span><span class="p">,</span>
            <span class="n">url</span>
        <span class="p">)</span>
        <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(</span><span class="n">slug</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">asset_file</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">asset_file</span><span class="p">,</span> <span class="n">cache_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No thumbnail in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">asset_file</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftCover.api_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">api_field</span></code>


<a href="#lutris.services.ubisoft.UbisoftCover.api_field" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftCover.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.ubisoft.UbisoftCover.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftCover.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.ubisoft.UbisoftCover.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftCover.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.ubisoft.UbisoftCover.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftCover.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.ubisoft.UbisoftCover.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftCover.url_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url_pattern</span></code>


<a href="#lutris.services.ubisoft.UbisoftCover.url_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftCover.download" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftCover.download" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Downloads the banner if not present</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">slug</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.jpg&quot;</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="n">ubi_game</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="s2">&quot;ubisoft-connect&quot;</span><span class="p">,</span> <span class="s2">&quot;slug&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ubi_game</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="n">ubi_game</span><span class="p">[</span><span class="s2">&quot;directory&quot;</span><span class="p">]</span>
    <span class="n">asset_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">base_dir</span><span class="p">,</span>
        <span class="s2">&quot;drive_c/Program Files (x86)/Ubisoft/Ubisoft Game Launcher/cache/assets&quot;</span><span class="p">,</span>
        <span class="n">url</span>
    <span class="p">)</span>
    <span class="n">cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filename</span><span class="p">(</span><span class="n">slug</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">asset_file</span><span class="p">):</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">asset_file</span><span class="p">,</span> <span class="n">cache_path</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No thumbnail in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">asset_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftCover.get_media_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">)</span></code>


<a href="#lutris.services.ubisoft.UbisoftCover.get_media_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_media_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_field</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_media_url</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;thumbImage&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.ubisoft.UbisoftGame" class="doc doc-heading">
        <code>
UbisoftGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.ubisoft.UbisoftGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Service game for games from Ubisoft connect</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UbisoftGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Service game for games from Ubisoft connect&quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;ubisoft&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">payload</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert an Ubisoft game to a service game&quot;&quot;&quot;</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;spaceId&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;installId&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.ubisoft.UbisoftGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.ubisoft.UbisoftGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.ubisoft.UbisoftGame.new_from_api" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_api</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.ubisoft.UbisoftGame.new_from_api" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Convert an Ubisoft game to a service game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/ubisoft.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_api</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">payload</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert an Ubisoft game to a service game&quot;&quot;&quot;</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;spaceId&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;installId&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.services.xdg" class="doc doc-heading">
        <code>xdg</code>



<a href="#lutris.services.xdg" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>XDG applications service</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.services.xdg.XDGGame" class="doc doc-heading">
        <code>
XDGGame            (<a class="autorefs autorefs-internal" title="lutris.services.service_game.ServiceGame" href="service_game/#lutris.services.service_game.ServiceGame">ServiceGame</a>)
        </code>



<a href="#lutris.services.xdg.XDGGame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>XDG game (Linux game with a desktop launcher)</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">XDGGame</span><span class="p">(</span><span class="n">ServiceGame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;XDG game (Linux game with a desktop launcher)&quot;&quot;&quot;</span>

    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;xdg&quot;</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="s2">&quot;linux&quot;</span>
    <span class="n">installer_slug</span> <span class="o">=</span> <span class="s2">&quot;desktopapp&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_app_icon</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of the icon for an XDG app if one if set&quot;&quot;&quot;</span>
        <span class="n">icon</span> <span class="o">=</span> <span class="n">xdg_app</span><span class="o">.</span><span class="n">get_icon</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">icon</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="n">icon</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_xdg_app</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">xdg_app</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a service game from a XDG entry&quot;&quot;&quot;</span>
        <span class="n">service_game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">xdg_app</span><span class="o">.</span><span class="n">get_display_name</span><span class="p">()</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_app_icon</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">get_appid</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_slug</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span>
        <span class="n">exe</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_command_args</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span>
        <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">exe</span><span class="p">,</span>
            <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">,</span>
        <span class="p">})</span>
        <span class="k">return</span> <span class="n">service_game</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_command_args</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple with absolute command path and an argument string&quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">get_commandline</span><span class="p">())</span>
        <span class="c1"># remove %U etc. and change %% to % in arguments</span>
        <span class="n">args</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">arg</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;%[^%]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%%</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">),</span> <span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">exe</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">exe</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">exe</span><span class="p">,</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">list2cmdline</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_slug</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the slug from the game name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">slugify</span><span class="p">(</span><span class="n">xdg_app</span><span class="o">.</span><span class="n">get_display_name</span><span class="p">())</span> <span class="ow">or</span> <span class="n">slugify</span><span class="p">(</span><span class="n">get_appid</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGGame.installer_slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">installer_slug</span></code>


<a href="#lutris.services.xdg.XDGGame.installer_slug" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGGame.runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner</span></code>


<a href="#lutris.services.xdg.XDGGame.runner" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGGame.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.xdg.XDGGame.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGGame.get_app_icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_app_icon</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.services.xdg.XDGGame.get_app_icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the name of the icon for an XDG app if one if set</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_app_icon</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the name of the icon for an XDG app if one if set&quot;&quot;&quot;</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="n">xdg_app</span><span class="o">.</span><span class="n">get_icon</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">icon</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="n">icon</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGGame.get_command_args" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_command_args</span><span class="p">(</span><span class="n">app</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.services.xdg.XDGGame.get_command_args" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a tuple with absolute command path and an argument string</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_command_args</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a tuple with absolute command path and an argument string&quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">get_commandline</span><span class="p">())</span>
    <span class="c1"># remove %U etc. and change %% to % in arguments</span>
    <span class="n">args</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">arg</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;%[^%]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%%</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">),</span> <span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
    <span class="n">exe</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exe</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">exe</span><span class="p">,</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">list2cmdline</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGGame.get_slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_slug</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.services.xdg.XDGGame.get_slug" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Get the slug from the game name</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_slug</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the slug from the game name&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">slugify</span><span class="p">(</span><span class="n">xdg_app</span><span class="o">.</span><span class="n">get_display_name</span><span class="p">())</span> <span class="ow">or</span> <span class="n">slugify</span><span class="p">(</span><span class="n">get_appid</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGGame.new_from_xdg_app" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_xdg_app</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.xdg.XDGGame.new_from_xdg_app" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a service game from a XDG entry</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_xdg_app</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">xdg_app</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a service game from a XDG entry&quot;&quot;&quot;</span>
    <span class="n">service_game</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">xdg_app</span><span class="o">.</span><span class="n">get_display_name</span><span class="p">()</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">icon</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_app_icon</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">appid</span> <span class="o">=</span> <span class="n">get_appid</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">slug</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_slug</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span>
    <span class="n">exe</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_command_args</span><span class="p">(</span><span class="n">xdg_app</span><span class="p">)</span>
    <span class="n">service_game</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
        <span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">exe</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">,</span>
    <span class="p">})</span>
    <span class="k">return</span> <span class="n">service_game</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.xdg.XDGMedia" class="doc doc-heading">
        <code>
XDGMedia            (<a class="autorefs autorefs-internal" title="lutris.services.service_media.ServiceMedia" href="service_media/#lutris.services.service_media.ServiceMedia">ServiceMedia</a>)
        </code>



<a href="#lutris.services.xdg.XDGMedia" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">XDGMedia</span><span class="p">(</span><span class="n">ServiceMedia</span><span class="p">):</span>
    <span class="n">service</span> <span class="o">=</span> <span class="s2">&quot;xdg&quot;</span>
    <span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;local&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
    <span class="n">dest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;xdg/icons&quot;</span><span class="p">)</span>
    <span class="n">file_pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.png&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGMedia.dest_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dest_path</span></code>


<a href="#lutris.services.xdg.XDGMedia.dest_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGMedia.file_pattern" class="doc doc-heading">
<code class="highlight language-python"><span class="n">file_pattern</span></code>


<a href="#lutris.services.xdg.XDGMedia.file_pattern" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGMedia.service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service</span></code>


<a href="#lutris.services.xdg.XDGMedia.service" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGMedia.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span></code>


<a href="#lutris.services.xdg.XDGMedia.size" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGMedia.source" class="doc doc-heading">
<code class="highlight language-python"><span class="n">source</span></code>


<a href="#lutris.services.xdg.XDGMedia.source" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.services.xdg.XDGService" class="doc doc-heading">
        <code>
XDGService            (<a class="autorefs autorefs-internal" title="lutris.services.base.BaseService" href="base/#lutris.services.base.BaseService">BaseService</a>)
        </code>



<a href="#lutris.services.xdg.XDGService" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">XDGService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;xdg&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Local&quot;</span><span class="p">)</span>
    <span class="n">icon</span> <span class="o">=</span> <span class="s2">&quot;linux&quot;</span>
    <span class="n">online</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">local</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">medias</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="p">:</span> <span class="n">XDGMedia</span>
    <span class="p">}</span>

    <span class="n">ignored_games</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;lutris&quot;</span><span class="p">,</span> <span class="p">)</span>
    <span class="n">ignored_executables</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;lutris&quot;</span><span class="p">,</span> <span class="s2">&quot;steam&quot;</span><span class="p">)</span>
    <span class="n">ignored_categories</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Emulator&quot;</span><span class="p">,</span> <span class="s2">&quot;Development&quot;</span><span class="p">,</span> <span class="s2">&quot;Utility&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">iter_xdg_games</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Iterates through XDG games only&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">app</span> <span class="ow">in</span> <span class="n">Gio</span><span class="o">.</span><span class="n">AppInfo</span><span class="o">.</span><span class="n">get_all</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_importable</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">app</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">lutris_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Iterates through Lutris games imported from XDG&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">get_games_where</span><span class="p">(</span><span class="n">runner</span><span class="o">=</span><span class="n">XDGGame</span><span class="o">.</span><span class="n">runner</span><span class="p">,</span> <span class="n">installer_slug</span><span class="o">=</span><span class="n">XDGGame</span><span class="o">.</span><span class="n">installer_slug</span><span class="p">,</span> <span class="n">installed</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">game</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_is_importable</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns whether a XDG game is importable to Lutris&quot;&quot;&quot;</span>
        <span class="n">appid</span> <span class="o">=</span> <span class="n">get_appid</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
        <span class="n">executable</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">app</span><span class="o">.</span><span class="n">get_nodisplay</span><span class="p">()</span> <span class="ow">or</span> <span class="n">app</span><span class="o">.</span><span class="n">get_is_hidden</span><span class="p">(),</span>  <span class="c1"># App is hidden</span>
                <span class="ow">not</span> <span class="n">executable</span><span class="p">,</span>  <span class="c1"># Check app has an executable</span>
                <span class="n">appid</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;net.lutris&quot;</span><span class="p">),</span>  <span class="c1"># Skip lutris created shortcuts</span>
                <span class="n">appid</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ignored_games</span><span class="p">),</span>  <span class="c1"># game blacklisted</span>
                <span class="n">executable</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ignored_executables</span><span class="p">,</span>  <span class="c1"># exe blacklisted</span>
            <span class="p">]</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># must be in Game category</span>
        <span class="n">categories</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">get_categories</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="n">categories</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">categories</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)))</span>
        <span class="k">if</span> <span class="s2">&quot;game&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">categories</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># contains a blacklisted category</span>
        <span class="k">if</span> <span class="nb">bool</span><span class="p">([</span><span class="n">category</span> <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">categories</span> <span class="k">if</span> <span class="n">category</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ignored_categories</span><span class="p">)]):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;XDG games aren&#39;t on the lutris website&quot;&quot;&quot;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the list of games stored in the XDG menu.&quot;&quot;&quot;</span>
        <span class="n">xdg_games</span> <span class="o">=</span> <span class="p">[</span><span class="n">XDGGame</span><span class="o">.</span><span class="n">new_from_xdg_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span> <span class="k">for</span> <span class="n">app</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_xdg_games</span><span class="p">()]</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">xdg_games</span><span class="p">:</span>
            <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">xdg_games</span>

    <span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;XDG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
            <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;linux&quot;</span><span class="p">,</span>
            <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;args&quot;</span><span class="p">],</span>
                <span class="p">},</span>
                <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;disable_runtime&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Pull install location from installer&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;script&quot;</span><span class="p">][</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;exe&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.icon" class="doc doc-heading">
<code class="highlight language-python"><span class="n">icon</span></code>


<a href="#lutris.services.xdg.XDGService.icon" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>


<a href="#lutris.services.xdg.XDGService.id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.ignored_categories" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ignored_categories</span></code>


<a href="#lutris.services.xdg.XDGService.ignored_categories" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.ignored_executables" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ignored_executables</span></code>


<a href="#lutris.services.xdg.XDGService.ignored_executables" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.ignored_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ignored_games</span></code>


<a href="#lutris.services.xdg.XDGService.ignored_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.local" class="doc doc-heading">
<code class="highlight language-python"><span class="n">local</span></code>


<a href="#lutris.services.xdg.XDGService.local" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.lutris_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">lutris_games</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.services.xdg.XDGService.lutris_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Iterates through Lutris games imported from XDG</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.medias" class="doc doc-heading">
<code class="highlight language-python"><span class="n">medias</span></code>


<a href="#lutris.services.xdg.XDGService.medias" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>


<a href="#lutris.services.xdg.XDGService.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.services.xdg.XDGService.online" class="doc doc-heading">
<code class="highlight language-python"><span class="n">online</span></code>


<a href="#lutris.services.xdg.XDGService.online" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGService.generate_installer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">)</span></code>


<a href="#lutris.services.xdg.XDGService.generate_installer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Used to generate an installer from the data returned from the services</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">generate_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">db_game</span><span class="p">):</span>
    <span class="n">details</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;details&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;XDG&quot;</span><span class="p">,</span>
        <span class="s2">&quot;slug&quot;</span><span class="p">:</span> <span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;slug&quot;</span><span class="p">],</span>
        <span class="s2">&quot;game_slug&quot;</span><span class="p">:</span> <span class="n">slugify</span><span class="p">(</span><span class="n">db_game</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]),</span>
        <span class="s2">&quot;runner&quot;</span><span class="p">:</span> <span class="s2">&quot;linux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;script&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;game&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;exe&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">],</span>
                <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;args&quot;</span><span class="p">],</span>
            <span class="p">},</span>
            <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;disable_runtime&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGService.get_game_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">)</span></code>


<a href="#lutris.services.xdg.XDGService.get_game_directory" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Pull install location from installer</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">installer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pull install location from installer&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">installer</span><span class="p">[</span><span class="s2">&quot;script&quot;</span><span class="p">][</span><span class="s2">&quot;game&quot;</span><span class="p">][</span><span class="s2">&quot;exe&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGService.iter_xdg_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">iter_xdg_games</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.services.xdg.XDGService.iter_xdg_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Iterates through XDG games only</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">iter_xdg_games</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Iterates through XDG games only&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">app</span> <span class="ow">in</span> <span class="n">Gio</span><span class="o">.</span><span class="n">AppInfo</span><span class="o">.</span><span class="n">get_all</span><span class="p">():</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_importable</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">app</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGService.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.xdg.XDGService.load" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of games stored in the XDG menu.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the list of games stored in the XDG menu.&quot;&quot;&quot;</span>
    <span class="n">xdg_games</span> <span class="o">=</span> <span class="p">[</span><span class="n">XDGGame</span><span class="o">.</span><span class="n">new_from_xdg_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span> <span class="k">for</span> <span class="n">app</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_xdg_games</span><span class="p">()]</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">xdg_games</span><span class="p">:</span>
        <span class="n">game</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">xdg_games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.services.xdg.XDGService.match_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.services.xdg.XDGService.match_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>XDG games aren't on the lutris website</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">match_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;XDG games aren&#39;t on the lutris website&quot;&quot;&quot;</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.services.xdg.get_appid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_appid</span><span class="p">(</span><span class="n">app</span><span class="p">)</span></code>


<a href="#lutris.services.xdg.get_appid" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get the appid for the game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/services/xdg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_appid</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the appid for the game&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">get_id</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span>
            <span class="s2">&quot;Failed to read ID for app </span><span class="si">%s</span><span class="s2"> (non UTF-8 encoding). Reverting to executable name.&quot;</span><span class="p">,</span>
            <span class="n">app</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">app</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../scanners/retroarch/" class="md-footer__link md-footer__link--prev" aria-label="Previous: retroarch" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              retroarch
            </div>
          </div>
        </a>
      
      
        
        <a href="base/" class="md-footer__link md-footer__link--next" aria-label="Next: base" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              base
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../../../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>