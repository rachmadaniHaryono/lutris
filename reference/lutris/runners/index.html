
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lutris desktop client in Python / PyGObject.">
      
      
      
        <link rel="canonical" href="https://lutris.github.io/lutris/reference/lutris/runners/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.5">
    
    
      
        <title>Index - Lutris</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lutris.runners" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Lutris" class="md-header__button md-logo" aria-label="Lutris" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lutris
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Index
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/lutris/lutris/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lutris/lutris
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../wiki/Home/" class="md-tabs__link">
        Wiki
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Reference
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../contributing/" class="md-tabs__link">
        Development
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Lutris" class="md-nav__button md-logo" aria-label="Lutris" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Lutris
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lutris/lutris/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lutris/lutris
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../credits/" class="md-nav__link">
        Credits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Wiki
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Wiki" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Wiki
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wiki/Home/" class="md-nav__link">
        Home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Apitracing/" class="md-nav__link">
        Apitracing a game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Battle.Net/" class="md-nav__link">
        Battle.Net
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/HowToDXVK/" class="md-nav__link">
        What is DXVK?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/HowToEsync/" class="md-nav__link">
        What is Esync?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/InstallingDrivers/" class="md-nav__link">
        InstallingDrivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/LutrisRuntime/" class="md-nav__link">
        LutrisRuntime
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Origin/" class="md-nav__link">
        Origin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Overwatch/" class="md-nav__link">
        Overwatch on Linux (Wine)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Performance-Tweaks/" class="md-nav__link">
        Performance Tweaks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/PressureVesselResearch/" class="md-nav__link">
        Pressure Vessel Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/ProvidingLogs%26SystemInfo/" class="md-nav__link">
        What we need to help you (TLDR):
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/RetroArch/" class="md-nav__link">
        RetroArch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WineBuilds/" class="md-nav__link">
        Wine Builds
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WineDependencies/" class="md-nav__link">
        WineDependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WorldOfWarcraft/" class="md-nav__link">
        World of Warcraft
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/titanfall-2/" class="md-nav__link">
        Titanfall 2 on Linux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          lutris
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="lutris" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          lutris
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cache/" class="md-nav__link">
        cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../command/" class="md-nav__link">
        command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6" type="checkbox" id="__nav_3_1_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_6">
          database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="database" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_6">
          <span class="md-nav__icon md-icon"></span>
          database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/categories/" class="md-nav__link">
        categories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/games/" class="md-nav__link">
        games
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/schema/" class="md-nav__link">
        schema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/services/" class="md-nav__link">
        services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/sources/" class="md-nav__link">
        sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/sql/" class="md-nav__link">
        sql
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../discord/" class="md-nav__link">
        discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../game/" class="md-nav__link">
        game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../game_actions/" class="md-nav__link">
        game_actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11" type="checkbox" id="__nav_3_1_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11">
          gui
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="gui" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_11">
          <span class="md-nav__icon md-icon"></span>
          gui
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/addgameswindow/" class="md-nav__link">
        addgameswindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/application/" class="md-nav__link">
        application
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_4" type="checkbox" id="__nav_3_1_11_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_4">
          config
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="config" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_4">
          <span class="md-nav__icon md-icon"></span>
          config
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/add_game/" class="md-nav__link">
        add_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/base_config_box/" class="md-nav__link">
        base_config_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/boxes/" class="md-nav__link">
        boxes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/common/" class="md-nav__link">
        common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/edit_game/" class="md-nav__link">
        edit_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/preferences_box/" class="md-nav__link">
        preferences_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/preferences_dialog/" class="md-nav__link">
        preferences_dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runner/" class="md-nav__link">
        runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runner_box/" class="md-nav__link">
        runner_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runners_box/" class="md-nav__link">
        runners_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/services_box/" class="md-nav__link">
        services_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/sysinfo_box/" class="md-nav__link">
        sysinfo_box
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_5" type="checkbox" id="__nav_3_1_11_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_5">
          dialogs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="dialogs" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_5">
          <span class="md-nav__icon md-icon"></span>
          dialogs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/cache/" class="md-nav__link">
        cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/download/" class="md-nav__link">
        download
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/issue/" class="md-nav__link">
        issue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/runner_install/" class="md-nav__link">
        runner_install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/uninstall_game/" class="md-nav__link">
        uninstall_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/webconnect_dialog/" class="md-nav__link">
        webconnect_dialog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_6" type="checkbox" id="__nav_3_1_11_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_6">
          installer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="installer" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_6">
          <span class="md-nav__icon md-icon"></span>
          installer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/file_box/" class="md-nav__link">
        file_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/files_box/" class="md-nav__link">
        files_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/script_box/" class="md-nav__link">
        script_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/script_picker/" class="md-nav__link">
        script_picker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/widgets/" class="md-nav__link">
        widgets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installerwindow/" class="md-nav__link">
        installerwindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/lutriswindow/" class="md-nav__link">
        lutriswindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_9" type="checkbox" id="__nav_3_1_11_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_9">
          views
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="views" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_9">
          <span class="md-nav__icon md-icon"></span>
          views
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/grid/" class="md-nav__link">
        grid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/list/" class="md-nav__link">
        list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/media_loader/" class="md-nav__link">
        media_loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/store/" class="md-nav__link">
        store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/store_item/" class="md-nav__link">
        store_item
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_10" type="checkbox" id="__nav_3_1_11_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_10">
          widgets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="widgets" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_10">
          <span class="md-nav__icon md-icon"></span>
          widgets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/cellrenderers/" class="md-nav__link">
        cellrenderers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/common/" class="md-nav__link">
        common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/contextual_menu/" class="md-nav__link">
        contextual_menu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/download_progress_box/" class="md-nav__link">
        download_progress_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/game_bar/" class="md-nav__link">
        game_bar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/gi_composites/" class="md-nav__link">
        gi_composites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/log_text_view/" class="md-nav__link">
        log_text_view
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/notifications/" class="md-nav__link">
        notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/searchable_combobox/" class="md-nav__link">
        searchable_combobox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/sidebar/" class="md-nav__link">
        sidebar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/status_icon/" class="md-nav__link">
        status_icon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/window/" class="md-nav__link">
        window
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_12" type="checkbox" id="__nav_3_1_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_12">
          installer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="installer" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_12">
          <span class="md-nav__icon md-icon"></span>
          installer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/errors/" class="md-nav__link">
        errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/installer/" class="md-nav__link">
        installer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/installer_file/" class="md-nav__link">
        installer_file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/interpreter/" class="md-nav__link">
        interpreter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/legacy/" class="md-nav__link">
        legacy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/steam_installer/" class="md-nav__link">
        steam_installer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_13" type="checkbox" id="__nav_3_1_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_13">
          migrations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="migrations" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_13">
          <span class="md-nav__icon md-icon"></span>
          migrations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/mess_to_mame/" class="md-nav__link">
        mess_to_mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_banners/" class="md-nav__link">
        migrate_banners
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_hidden_ids/" class="md-nav__link">
        migrate_hidden_ids
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_steam_appids/" class="md-nav__link">
        migrate_steam_appids
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runner_interpreter/" class="md-nav__link">
        runner_interpreter
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_15" type="checkbox" id="__nav_3_1_15" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_15">
          runners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="runners" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_15">
          <span class="md-nav__icon md-icon"></span>
          runners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Index
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Index
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lutris.runners" class="md-nav__link">
    lutris.runners
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.ADDON_RUNNERS" class="md-nav__link">
    ADDON_RUNNERS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.RUNNER_NAMES" class="md-nav__link">
    RUNNER_NAMES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.RUNNER_PLATFORMS" class="md-nav__link">
    RUNNER_PLATFORMS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.__all__" class="md-nav__link">
    __all__
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.InvalidRunner" class="md-nav__link">
    InvalidRunner
  </a>
  
    <nav class="md-nav" aria-label="InvalidRunner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.InvalidRunner.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.NonInstallableRunnerError" class="md-nav__link">
    NonInstallableRunnerError
  </a>
  
    <nav class="md-nav" aria-label="NonInstallableRunnerError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.NonInstallableRunnerError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.RunnerInstallationError" class="md-nav__link">
    RunnerInstallationError
  </a>
  
    <nav class="md-nav" aria-label="RunnerInstallationError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.RunnerInstallationError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.get_installed" class="md-nav__link">
    get_installed()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.get_platforms" class="md-nav__link">
    get_platforms()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.get_runner_module" class="md-nav__link">
    get_runner_module()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.get_runner_names" class="md-nav__link">
    get_runner_names()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.import_runner" class="md-nav__link">
    import_runner()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.import_task" class="md-nav__link">
    import_task()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.inject_runners" class="md-nav__link">
    inject_runners()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.atari800" class="md-nav__link">
    atari800
  </a>
  
    <nav class="md-nav" aria-label="atari800">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800" class="md-nav__link">
    atari800
  </a>
  
    <nav class="md-nav" aria-label="atari800">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.bios_checksums" class="md-nav__link">
    bios_checksums
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.bios_url" class="md-nav__link">
    bios_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.find_good_bioses" class="md-nav__link">
    find_good_bioses()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.commands" class="md-nav__link">
    commands
  </a>
  
    <nav class="md-nav" aria-label="commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.dosbox" class="md-nav__link">
    dosbox
  </a>
  
    <nav class="md-nav" aria-label="dosbox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.dosbox.dosexec" class="md-nav__link">
    dosexec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.dosbox.makeconfig" class="md-nav__link">
    makeconfig()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.create_prefix" class="md-nav__link">
    create_prefix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.delete_registry_key" class="md-nav__link">
    delete_registry_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.eject_disc" class="md-nav__link">
    eject_disc()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.install_cab_component" class="md-nav__link">
    install_cab_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.open_wine_terminal" class="md-nav__link">
    open_wine_terminal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.set_regedit" class="md-nav__link">
    set_regedit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.set_regedit_file" class="md-nav__link">
    set_regedit_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.winecfg" class="md-nav__link">
    winecfg()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.wineexec" class="md-nav__link">
    wineexec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.winekill" class="md-nav__link">
    winekill()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.winetricks" class="md-nav__link">
    winetricks()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.dolphin" class="md-nav__link">
    dolphin
  </a>
  
    <nav class="md-nav" aria-label="dolphin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin" class="md-nav__link">
    dolphin
  </a>
  
    <nav class="md-nav" aria-label="dolphin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.require_libs" class="md-nav__link">
    require_libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.dosbox" class="md-nav__link">
    dosbox
  </a>
  
    <nav class="md-nav" aria-label="dosbox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox" class="md-nav__link">
    dosbox
  </a>
  
    <nav class="md-nav" aria-label="dosbox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.main_file" class="md-nav__link">
    main_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.require_libs" class="md-nav__link">
    require_libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.scaler_modes" class="md-nav__link">
    scaler_modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.make_absolute" class="md-nav__link">
    make_absolute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg" class="md-nav__link">
    easyrpg
  </a>
  
    <nav class="md-nav" aria-label="easyrpg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg" class="md-nav__link">
    easyrpg
  </a>
  
    <nav class="md-nav" aria-label="easyrpg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.download_url" class="md-nav__link">
    download_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.directory_not_found" class="md-nav__link">
    directory_not_found()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.get_env" class="md-nav__link">
    get_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.get_runner_command" class="md-nav__link">
    get_runner_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.fsuae" class="md-nav__link">
    fsuae
  </a>
  
    <nav class="md-nav" aria-label="fsuae">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae" class="md-nav__link">
    fsuae
  </a>
  
    <nav class="md-nav" aria-label="fsuae">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.cpumodel_choices" class="md-nav__link">
    cpumodel_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.flsound_choices" class="md-nav__link">
    flsound_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.flspeed_choices" class="md-nav__link">
    flspeed_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.gpucard_choices" class="md-nav__link">
    gpucard_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.gpumem_choices" class="md-nav__link">
    gpumem_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.memory_choices" class="md-nav__link">
    memory_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.model_choices" class="md-nav__link">
    model_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.zorroiii_choices" class="md-nav__link">
    zorroiii_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.get_absolute_path" class="md-nav__link">
    get_absolute_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.get_disk_param" class="md-nav__link">
    get_disk_param()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.get_params" class="md-nav__link">
    get_params()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.insert_floppies" class="md-nav__link">
    insert_floppies()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.hatari" class="md-nav__link">
    hatari
  </a>
  
    <nav class="md-nav" aria-label="hatari">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari" class="md-nav__link">
    hatari
  </a>
  
    <nav class="md-nav" aria-label="hatari">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.joystick_choices" class="md-nav__link">
    joystick_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.json" class="md-nav__link">
    json
  </a>
  
    <nav class="md-nav" aria-label="json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JSON_RUNNER_DIRS" class="md-nav__link">
    JSON_RUNNER_DIRS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JsonRunner" class="md-nav__link">
    JsonRunner
  </a>
  
    <nav class="md-nav" aria-label="JsonRunner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JsonRunner.json_path" class="md-nav__link">
    json_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JsonRunner.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JsonRunner.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.load_json_runners" class="md-nav__link">
    load_json_runners()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.jzintv" class="md-nav__link">
    jzintv
  </a>
  
    <nav class="md-nav" aria-label="jzintv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv" class="md-nav__link">
    jzintv
  </a>
  
    <nav class="md-nav" aria-label="jzintv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.libretro" class="md-nav__link">
    libretro
  </a>
  
    <nav class="md-nav" aria-label="libretro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.LIBRETRO_CORES" class="md-nav__link">
    LIBRETRO_CORES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro" class="md-nav__link">
    libretro
  </a>
  
    <nav class="md-nav" aria-label="libretro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.can_uninstall" class="md-nav__link">
    can_uninstall()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_config_file" class="md-nav__link">
    get_config_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_core_path" class="md-nav__link">
    get_core_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_runner_parameters" class="md-nav__link">
    get_runner_parameters()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_system_directory" class="md-nav__link">
    get_system_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_version" class="md-nav__link">
    get_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.is_retroarch_installed" class="md-nav__link">
    is_retroarch_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.uninstall" class="md-nav__link">
    uninstall()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.get_core_choices" class="md-nav__link">
    get_core_choices()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.get_default_config_path" class="md-nav__link">
    get_default_config_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.get_libretro_cores" class="md-nav__link">
    get_libretro_cores()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.linux" class="md-nav__link">
    linux
  </a>
  
    <nav class="md-nav" aria-label="linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux" class="md-nav__link">
    linux
  </a>
  
    <nav class="md-nav" aria-label="linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.game_exe" class="md-nav__link">
    game_exe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.nvidia_shader_cache_path" class="md-nav__link">
    nvidia_shader_cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.get_relative_exe" class="md-nav__link">
    get_relative_exe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.mame" class="md-nav__link">
    mame
  </a>
  
    <nav class="md-nav" aria-label="mame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.MAME_CACHE_DIR" class="md-nav__link">
    MAME_CACHE_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.MAME_XML_PATH" class="md-nav__link">
    MAME_XML_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame" class="md-nav__link">
    mame
  </a>
  
    <nav class="md-nav" aria-label="mame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.cache_dir" class="md-nav__link">
    cache_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.config_dir" class="md-nav__link">
    config_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.default_path" class="md-nav__link">
    default_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.xml_path" class="md-nav__link">
    xml_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.get_shader_params" class="md-nav__link">
    get_shader_params()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.write_xml_list" class="md-nav__link">
    write_xml_list()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.get_system_choices" class="md-nav__link">
    get_system_choices()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.notify_mame_xml" class="md-nav__link">
    notify_mame_xml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.write_mame_xml" class="md-nav__link">
    write_mame_xml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.mednafen" class="md-nav__link">
    mednafen
  </a>
  
    <nav class="md-nav" aria-label="mednafen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.DEFAULT_MEDNAFEN_SCALER" class="md-nav__link">
    DEFAULT_MEDNAFEN_SCALER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen" class="md-nav__link">
    mednafen
  </a>
  
    <nav class="md-nav" aria-label="mednafen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.machine_choices" class="md-nav__link">
    machine_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.find_joysticks" class="md-nav__link">
    find_joysticks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.set_joystick_controls" class="md-nav__link">
    set_joystick_controls()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus" class="md-nav__link">
    mupen64plus
  </a>
  
    <nav class="md-nav" aria-label="mupen64plus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus" class="md-nav__link">
    mupen64plus
  </a>
  
    <nav class="md-nav" aria-label="mupen64plus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.o2em" class="md-nav__link">
    o2em
  </a>
  
    <nav class="md-nav" aria-label="o2em">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em" class="md-nav__link">
    o2em
  </a>
  
    <nav class="md-nav" aria-label="o2em">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.bios_choices" class="md-nav__link">
    bios_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.bios_path" class="md-nav__link">
    bios_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.checksums" class="md-nav__link">
    checksums
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.controller_choices" class="md-nav__link">
    controller_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.openmsx" class="md-nav__link">
    openmsx
  </a>
  
    <nav class="md-nav" aria-label="openmsx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx" class="md-nav__link">
    openmsx
  </a>
  
    <nav class="md-nav" aria-label="openmsx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.osmose" class="md-nav__link">
    osmose
  </a>
  
    <nav class="md-nav" aria-label="osmose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose" class="md-nav__link">
    osmose
  </a>
  
    <nav class="md-nav" aria-label="osmose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2" class="md-nav__link">
    pcsx2
  </a>
  
    <nav class="md-nav" aria-label="pcsx2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2" class="md-nav__link">
    pcsx2
  </a>
  
    <nav class="md-nav" aria-label="pcsx2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.arch" class="md-nav__link">
    arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.require_libs" class="md-nav__link">
    require_libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.pico8" class="md-nav__link">
    pico8
  </a>
  
    <nav class="md-nav" aria-label="pico8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.DOWNLOAD_URL" class="md-nav__link">
    DOWNLOAD_URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8" class="md-nav__link">
    pico8
  </a>
  
    <nav class="md-nav" aria-label="pico8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.cart_path" class="md-nav__link">
    cart_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.engine_path" class="md-nav__link">
    engine_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.is_native" class="md-nav__link">
    is_native
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.launch_args" class="md-nav__link">
    launch_args
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.multiple_versions" class="md-nav__link">
    multiple_versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.redream" class="md-nav__link">
    redream
  </a>
  
    <nav class="md-nav" aria-label="redream">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream" class="md-nav__link">
    redream
  </a>
  
    <nav class="md-nav" aria-label="redream">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.download_url" class="md-nav__link">
    download_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.reicast" class="md-nav__link">
    reicast
  </a>
  
    <nav class="md-nav" aria-label="reicast">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast" class="md-nav__link">
    reicast
  </a>
  
    <nav class="md-nav" aria-label="reicast">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.joypads" class="md-nav__link">
    joypads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.get_joypads" class="md-nav__link">
    get_joypads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.write_config" class="md-nav__link">
    write_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.residualvm" class="md-nav__link">
    residualvm
  </a>
  
    <nav class="md-nav" aria-label="residualvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.RESIDUALVM_CONFIG_FILE" class="md-nav__link">
    RESIDUALVM_CONFIG_FILE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm" class="md-nav__link">
    residualvm
  </a>
  
    <nav class="md-nav" aria-label="residualvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.get_game_list" class="md-nav__link">
    get_game_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.get_residualvm_data_dir" class="md-nav__link">
    get_residualvm_data_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3" class="md-nav__link">
    rpcs3
  </a>
  
    <nav class="md-nav" aria-label="rpcs3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3" class="md-nav__link">
    rpcs3
  </a>
  
    <nav class="md-nav" aria-label="rpcs3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.runner" class="md-nav__link">
    runner
  </a>
  
    <nav class="md-nav" aria-label="runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner" class="md-nav__link">
    Runner
  </a>
  
    <nav class="md-nav" aria-label="Runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.arch" class="md-nav__link">
    arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.context_menu_entries" class="md-nav__link">
    context_menu_entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.default_config" class="md-nav__link">
    default_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.default_path" class="md-nav__link">
    default_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.discord_client_id" class="md-nav__link">
    discord_client_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.download_url" class="md-nav__link">
    download_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.game_config" class="md-nav__link">
    game_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.library_folders" class="md-nav__link">
    library_folders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.multiple_versions" class="md-nav__link">
    multiple_versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.nvidia_shader_cache_path" class="md-nav__link">
    nvidia_shader_cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.require_libs" class="md-nav__link">
    require_libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.runner_config" class="md-nav__link">
    runner_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.shader_cache_dir" class="md-nav__link">
    shader_cache_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.system_config" class="md-nav__link">
    system_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.__lt__" class="md-nav__link">
    __lt__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.can_uninstall" class="md-nav__link">
    can_uninstall()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.download_and_extract" class="md-nav__link">
    download_and_extract()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.extract" class="md-nav__link">
    extract()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.find_option" class="md-nav__link">
    find_option()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.force_stop_game" class="md-nav__link">
    force_stop_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_env" class="md-nav__link">
    get_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_runner_options" class="md-nav__link">
    get_runner_options()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_runner_version" class="md-nav__link">
    get_runner_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_runtime_env" class="md-nav__link">
    get_runtime_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.install_dialog" class="md-nav__link">
    install_dialog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.remove_game_data" class="md-nav__link">
    remove_game_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.uninstall" class="md-nav__link">
    uninstall()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.use_runtime" class="md-nav__link">
    use_runtime()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx" class="md-nav__link">
    ryujinx
  </a>
  
    <nav class="md-nav" aria-label="ryujinx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx" class="md-nav__link">
    ryujinx
  </a>
  
    <nav class="md-nav" aria-label="ryujinx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.download_url" class="md-nav__link">
    download_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.ryujinx_data_dir" class="md-nav__link">
    ryujinx_data_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.scummvm" class="md-nav__link">
    scummvm
  </a>
  
    <nav class="md-nav" aria-label="scummvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm" class="md-nav__link">
    scummvm
  </a>
  
    <nav class="md-nav" aria-label="scummvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.libs_dir" class="md-nav__link">
    libs_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.option_empty_map" class="md-nav__link">
    option_empty_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.option_map" class="md-nav__link">
    option_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.get_command" class="md-nav__link">
    get_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.get_game_list" class="md-nav__link">
    get_game_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.get_scummvm_data_dir" class="md-nav__link">
    get_scummvm_data_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.inject_runner_option" class="md-nav__link">
    inject_runner_option()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.snes9x" class="md-nav__link">
    snes9x
  </a>
  
    <nav class="md-nav" aria-label="snes9x">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.SNES9X_DIR" class="md-nav__link">
    SNES9X_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x" class="md-nav__link">
    snes9x
  </a>
  
    <nav class="md-nav" aria-label="snes9x">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.set_option" class="md-nav__link">
    set_option()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.steam" class="md-nav__link">
    steam
  </a>
  
    <nav class="md-nav" aria-label="steam">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam" class="md-nav__link">
    steam
  </a>
  
    <nav class="md-nav" aria-label="steam">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.appid" class="md-nav__link">
    appid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.launch_args" class="md-nav__link">
    launch_args
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.library_folders" class="md-nav__link">
    library_folders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.steam_data_dir" class="md-nav__link">
    steam_data_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_appmanifest" class="md-nav__link">
    get_appmanifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_default_steamapps_path" class="md-nav__link">
    get_default_steamapps_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_game_path_from_appid" class="md-nav__link">
    get_game_path_from_appid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_library_config" class="md-nav__link">
    get_library_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_steam_config" class="md-nav__link">
    get_steam_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_steamapps_dirs" class="md-nav__link">
    get_steamapps_dirs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.install_game" class="md-nav__link">
    install_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.remove_game_data" class="md-nav__link">
    remove_game_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.get_steam_pid" class="md-nav__link">
    get_steam_pid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.is_running" class="md-nav__link">
    is_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.kill" class="md-nav__link">
    kill()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.shutdown" class="md-nav__link">
    shutdown()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.vice" class="md-nav__link">
    vice
  </a>
  
    <nav class="md-nav" aria-label="vice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice" class="md-nav__link">
    vice
  </a>
  
    <nav class="md-nav" aria-label="vice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.machine_choices" class="md-nav__link">
    machine_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_joydevs" class="md-nav__link">
    get_joydevs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_option_prefix" class="md-nav__link">
    get_option_prefix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_rom_args" class="md-nav__link">
    get_rom_args()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_roms_path" class="md-nav__link">
    get_roms_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.web" class="md-nav__link">
    web
  </a>
  
    <nav class="md-nav" aria-label="web">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.DEFAULT_ICON" class="md-nav__link">
    DEFAULT_ICON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web" class="md-nav__link">
    web
  </a>
  
    <nav class="md-nav" aria-label="web">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.get_env" class="md-nav__link">
    get_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.DEFAULT_WINE_PREFIX" class="md-nav__link">
    DEFAULT_WINE_PREFIX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.MIN_SAFE_VERSION" class="md-nav__link">
    MIN_SAFE_VERSION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.context_menu_entries" class="md-nav__link">
    context_menu_entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.core_processes" class="md-nav__link">
    core_processes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.game_exe" class="md-nav__link">
    game_exe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.multiple_versions" class="md-nav__link">
    multiple_versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.nvidia_shader_cache_path" class="md-nav__link">
    nvidia_shader_cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.prefix_path" class="md-nav__link">
    prefix_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.reg_keys" class="md-nav__link">
    reg_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.reg_prefix" class="md-nav__link">
    reg_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.wine_arch" class="md-nav__link">
    wine_arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.force_stop_game" class="md-nav__link">
    force_stop_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_dll_overrides" class="md-nav__link">
    get_dll_overrides()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_dpi" class="md-nav__link">
    get_dpi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_env" class="md-nav__link">
    get_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_path_for_version" class="md-nav__link">
    get_path_for_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_pids" class="md-nav__link">
    get_pids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_runtime_env" class="md-nav__link">
    get_runtime_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_version" class="md-nav__link">
    get_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.msi_exec" class="md-nav__link">
    msi_exec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.parse_wine_path" class="md-nav__link">
    parse_wine_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_regedit" class="md-nav__link">
    run_regedit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_wine_terminal" class="md-nav__link">
    run_wine_terminal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_winecfg" class="md-nav__link">
    run_winecfg()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_wineconsole" class="md-nav__link">
    run_wineconsole()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_winecpl" class="md-nav__link">
    run_winecpl()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_wineexec" class="md-nav__link">
    run_wineexec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_winekill" class="md-nav__link">
    run_winekill()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_winetricks" class="md-nav__link">
    run_winetricks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.sandbox" class="md-nav__link">
    sandbox()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.set_regedit_keys" class="md-nav__link">
    set_regedit_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.setup_dlls" class="md-nav__link">
    setup_dlls()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.yuzu" class="md-nav__link">
    yuzu
  </a>
  
    <nav class="md-nav" aria-label="yuzu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu" class="md-nav__link">
    yuzu
  </a>
  
    <nav class="md-nav" aria-label="yuzu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.yuzu_data_dir" class="md-nav__link">
    yuzu_data_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.zdoom" class="md-nav__link">
    zdoom
  </a>
  
    <nav class="md-nav" aria-label="zdoom">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom" class="md-nav__link">
    zdoom
  </a>
  
    <nav class="md-nav" aria-label="zdoom">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="atari800/" class="md-nav__link">
        atari800
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_15_3" type="checkbox" id="__nav_3_1_15_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_15_3">
          commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="commands" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_15_3">
          <span class="md-nav__icon md-icon"></span>
          commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="commands/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="commands/dosbox/" class="md-nav__link">
        dosbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="commands/wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="dolphin/" class="md-nav__link">
        dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="dosbox/" class="md-nav__link">
        dosbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="easyrpg/" class="md-nav__link">
        easyrpg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="fsuae/" class="md-nav__link">
        fsuae
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="hatari/" class="md-nav__link">
        hatari
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="json/" class="md-nav__link">
        json
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="jzintv/" class="md-nav__link">
        jzintv
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="libretro/" class="md-nav__link">
        libretro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="linux/" class="md-nav__link">
        linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mame/" class="md-nav__link">
        mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mednafen/" class="md-nav__link">
        mednafen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mupen64plus/" class="md-nav__link">
        mupen64plus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="o2em/" class="md-nav__link">
        o2em
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="openmsx/" class="md-nav__link">
        openmsx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="osmose/" class="md-nav__link">
        osmose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="pcsx2/" class="md-nav__link">
        pcsx2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="pico8/" class="md-nav__link">
        pico8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="redream/" class="md-nav__link">
        redream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reicast/" class="md-nav__link">
        reicast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="residualvm/" class="md-nav__link">
        residualvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="rpcs3/" class="md-nav__link">
        rpcs3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="runner/" class="md-nav__link">
        runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ryujinx/" class="md-nav__link">
        ryujinx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="scummvm/" class="md-nav__link">
        scummvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="snes9x/" class="md-nav__link">
        snes9x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steam/" class="md-nav__link">
        steam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="vice/" class="md-nav__link">
        vice
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="web/" class="md-nav__link">
        web
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="yuzu/" class="md-nav__link">
        yuzu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="zdoom/" class="md-nav__link">
        zdoom
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/" class="md-nav__link">
        runtime
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_17" type="checkbox" id="__nav_3_1_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_17">
          scanners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="scanners" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_17">
          <span class="md-nav__icon md-icon"></span>
          scanners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/lutris/" class="md-nav__link">
        lutris
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/retroarch/" class="md-nav__link">
        retroarch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_18" type="checkbox" id="__nav_3_1_18" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_18">
          services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="services" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_18">
          <span class="md-nav__icon md-icon"></span>
          services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/battlenet/" class="md-nav__link">
        battlenet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/bethesda/" class="md-nav__link">
        bethesda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/dolphin/" class="md-nav__link">
        dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/egs/" class="md-nav__link">
        egs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/gog/" class="md-nav__link">
        gog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/humblebundle/" class="md-nav__link">
        humblebundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/itchio/" class="md-nav__link">
        itchio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/lutris/" class="md-nav__link">
        lutris
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/mame/" class="md-nav__link">
        mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/origin/" class="md-nav__link">
        origin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/scummvm/" class="md-nav__link">
        scummvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/service_game/" class="md-nav__link">
        service_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/service_media/" class="md-nav__link">
        service_media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/steam/" class="md-nav__link">
        steam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/steamwindows/" class="md-nav__link">
        steamwindows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/tosec/" class="md-nav__link">
        tosec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/ubisoft/" class="md-nav__link">
        ubisoft
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/xdg/" class="md-nav__link">
        xdg
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../startup/" class="md-nav__link">
        startup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../style_manager/" class="md-nav__link">
        style_manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sysoptions/" class="md-nav__link">
        sysoptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23" type="checkbox" id="__nav_3_1_23" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23">
          util
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="util" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_23">
          <span class="md-nav__icon md-icon"></span>
          util
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/audio/" class="md-nav__link">
        audio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/cookies/" class="md-nav__link">
        cookies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/datapath/" class="md-nav__link">
        datapath
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/display/" class="md-nav__link">
        display
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_6" type="checkbox" id="__nav_3_1_23_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_6">
          dolphin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="dolphin" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_6">
          <span class="md-nav__icon md-icon"></span>
          dolphin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/dolphin/" class="md-nav__link">
        Dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/dolphin/cache_reader/" class="md-nav__link">
        cache_reader
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/downloader/" class="md-nav__link">
        downloader
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_8" type="checkbox" id="__nav_3_1_23_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_8">
          egs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="egs" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_8">
          <span class="md-nav__icon md-icon"></span>
          egs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/egs/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/egs/egs_launcher/" class="md-nav__link">
        egs_launcher
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/extract/" class="md-nav__link">
        extract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/fileio/" class="md-nav__link">
        fileio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/game_finder/" class="md-nav__link">
        game_finder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/gamecontrollerdb/" class="md-nav__link">
        gamecontrollerdb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/gog/" class="md-nav__link">
        gog
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_14" type="checkbox" id="__nav_3_1_23_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_14">
          graphics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="graphics" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_14">
          <span class="md-nav__icon md-icon"></span>
          graphics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/displayconfig/" class="md-nav__link">
        displayconfig
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/drivers/" class="md-nav__link">
        drivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/glxinfo/" class="md-nav__link">
        glxinfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/vkquery/" class="md-nav__link">
        vkquery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/xephyr/" class="md-nav__link">
        xephyr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/graphics/xrandr/" class="md-nav__link">
        xrandr
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/http/" class="md-nav__link">
        http
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/i18n/" class="md-nav__link">
        i18n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/jobs/" class="md-nav__link">
        jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/joypad/" class="md-nav__link">
        joypad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/keyring/" class="md-nav__link">
        keyring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/libretro/" class="md-nav__link">
        libretro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/linux/" class="md-nav__link">
        linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/magic/" class="md-nav__link">
        magic
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_24" type="checkbox" id="__nav_3_1_23_24" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_24">
          mame
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="mame" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_24">
          <span class="md-nav__icon md-icon"></span>
          mame
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/mame/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/mame/database/" class="md-nav__link">
        database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/mame/ini/" class="md-nav__link">
        ini
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/nvidia/" class="md-nav__link">
        nvidia
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/process/" class="md-nav__link">
        process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/process_watcher/" class="md-nav__link">
        process_watcher
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/resources/" class="md-nav__link">
        resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_29" type="checkbox" id="__nav_3_1_23_29" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_29">
          retroarch
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="retroarch" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_29">
          <span class="md-nav__icon md-icon"></span>
          retroarch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/retroarch/core_config/" class="md-nav__link">
        core_config
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/settings/" class="md-nav__link">
        settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/shell/" class="md-nav__link">
        shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_32" type="checkbox" id="__nav_3_1_23_32" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_32">
          steam
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="steam" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_32">
          <span class="md-nav__icon md-icon"></span>
          steam
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/appmanifest/" class="md-nav__link">
        appmanifest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/vdf/" class="md-nav__link">
        vdf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/steam/watcher/" class="md-nav__link">
        watcher
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/strings/" class="md-nav__link">
        strings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/system/" class="md-nav__link">
        system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/test_config/" class="md-nav__link">
        test_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/timer/" class="md-nav__link">
        timer
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_37" type="checkbox" id="__nav_3_1_23_37" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_37">
          ubisoft
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ubisoft" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_37">
          <span class="md-nav__icon md-icon"></span>
          ubisoft
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/ubisoft/client/" class="md-nav__link">
        client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/ubisoft/consts/" class="md-nav__link">
        consts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/ubisoft/helpers/" class="md-nav__link">
        helpers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/ubisoft/parser/" class="md-nav__link">
        parser
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/update_cache/" class="md-nav__link">
        update_cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/urlhandler/" class="md-nav__link">
        urlhandler
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_40" type="checkbox" id="__nav_3_1_23_40" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_40">
          wine
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="wine" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_40">
          <span class="md-nav__icon md-icon"></span>
          wine
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/cabinstall/" class="md-nav__link">
        cabinstall
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/d3d_extras/" class="md-nav__link">
        d3d_extras
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/dgvoodoo2/" class="md-nav__link">
        dgvoodoo2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/dll_manager/" class="md-nav__link">
        dll_manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/dxvk/" class="md-nav__link">
        dxvk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/dxvk_nvapi/" class="md-nav__link">
        dxvk_nvapi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/fsync/" class="md-nav__link">
        fsync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/prefix/" class="md-nav__link">
        prefix
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/registry/" class="md-nav__link">
        registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/vkd3d/" class="md-nav__link">
        vkd3d
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/wine/wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/xdgshortcuts/" class="md-nav__link">
        xdgshortcuts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../util/yaml/" class="md-nav__link">
        yaml
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lutris.runners" class="md-nav__link">
    lutris.runners
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.ADDON_RUNNERS" class="md-nav__link">
    ADDON_RUNNERS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.RUNNER_NAMES" class="md-nav__link">
    RUNNER_NAMES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.RUNNER_PLATFORMS" class="md-nav__link">
    RUNNER_PLATFORMS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.__all__" class="md-nav__link">
    __all__
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.InvalidRunner" class="md-nav__link">
    InvalidRunner
  </a>
  
    <nav class="md-nav" aria-label="InvalidRunner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.InvalidRunner.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.NonInstallableRunnerError" class="md-nav__link">
    NonInstallableRunnerError
  </a>
  
    <nav class="md-nav" aria-label="NonInstallableRunnerError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.NonInstallableRunnerError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.RunnerInstallationError" class="md-nav__link">
    RunnerInstallationError
  </a>
  
    <nav class="md-nav" aria-label="RunnerInstallationError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.RunnerInstallationError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.get_installed" class="md-nav__link">
    get_installed()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.get_platforms" class="md-nav__link">
    get_platforms()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.get_runner_module" class="md-nav__link">
    get_runner_module()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.get_runner_names" class="md-nav__link">
    get_runner_names()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.import_runner" class="md-nav__link">
    import_runner()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.import_task" class="md-nav__link">
    import_task()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.inject_runners" class="md-nav__link">
    inject_runners()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.atari800" class="md-nav__link">
    atari800
  </a>
  
    <nav class="md-nav" aria-label="atari800">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800" class="md-nav__link">
    atari800
  </a>
  
    <nav class="md-nav" aria-label="atari800">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.bios_checksums" class="md-nav__link">
    bios_checksums
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.bios_url" class="md-nav__link">
    bios_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.find_good_bioses" class="md-nav__link">
    find_good_bioses()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.atari800.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.atari800.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.commands" class="md-nav__link">
    commands
  </a>
  
    <nav class="md-nav" aria-label="commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.dosbox" class="md-nav__link">
    dosbox
  </a>
  
    <nav class="md-nav" aria-label="dosbox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.dosbox.dosexec" class="md-nav__link">
    dosexec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.dosbox.makeconfig" class="md-nav__link">
    makeconfig()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.create_prefix" class="md-nav__link">
    create_prefix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.delete_registry_key" class="md-nav__link">
    delete_registry_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.eject_disc" class="md-nav__link">
    eject_disc()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.install_cab_component" class="md-nav__link">
    install_cab_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.open_wine_terminal" class="md-nav__link">
    open_wine_terminal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.set_regedit" class="md-nav__link">
    set_regedit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.set_regedit_file" class="md-nav__link">
    set_regedit_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.winecfg" class="md-nav__link">
    winecfg()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.wineexec" class="md-nav__link">
    wineexec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.winekill" class="md-nav__link">
    winekill()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.commands.wine.winetricks" class="md-nav__link">
    winetricks()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.dolphin" class="md-nav__link">
    dolphin
  </a>
  
    <nav class="md-nav" aria-label="dolphin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin" class="md-nav__link">
    dolphin
  </a>
  
    <nav class="md-nav" aria-label="dolphin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.require_libs" class="md-nav__link">
    require_libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dolphin.dolphin.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.dosbox" class="md-nav__link">
    dosbox
  </a>
  
    <nav class="md-nav" aria-label="dosbox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox" class="md-nav__link">
    dosbox
  </a>
  
    <nav class="md-nav" aria-label="dosbox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.main_file" class="md-nav__link">
    main_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.require_libs" class="md-nav__link">
    require_libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.scaler_modes" class="md-nav__link">
    scaler_modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.make_absolute" class="md-nav__link">
    make_absolute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.dosbox.dosbox.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg" class="md-nav__link">
    easyrpg
  </a>
  
    <nav class="md-nav" aria-label="easyrpg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg" class="md-nav__link">
    easyrpg
  </a>
  
    <nav class="md-nav" aria-label="easyrpg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.download_url" class="md-nav__link">
    download_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.directory_not_found" class="md-nav__link">
    directory_not_found()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.get_env" class="md-nav__link">
    get_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.get_runner_command" class="md-nav__link">
    get_runner_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.easyrpg.easyrpg.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.fsuae" class="md-nav__link">
    fsuae
  </a>
  
    <nav class="md-nav" aria-label="fsuae">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae" class="md-nav__link">
    fsuae
  </a>
  
    <nav class="md-nav" aria-label="fsuae">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.cpumodel_choices" class="md-nav__link">
    cpumodel_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.flsound_choices" class="md-nav__link">
    flsound_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.flspeed_choices" class="md-nav__link">
    flspeed_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.gpucard_choices" class="md-nav__link">
    gpucard_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.gpumem_choices" class="md-nav__link">
    gpumem_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.memory_choices" class="md-nav__link">
    memory_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.model_choices" class="md-nav__link">
    model_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.zorroiii_choices" class="md-nav__link">
    zorroiii_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.get_absolute_path" class="md-nav__link">
    get_absolute_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.get_disk_param" class="md-nav__link">
    get_disk_param()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.get_params" class="md-nav__link">
    get_params()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.insert_floppies" class="md-nav__link">
    insert_floppies()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.fsuae.fsuae.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.hatari" class="md-nav__link">
    hatari
  </a>
  
    <nav class="md-nav" aria-label="hatari">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari" class="md-nav__link">
    hatari
  </a>
  
    <nav class="md-nav" aria-label="hatari">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.joystick_choices" class="md-nav__link">
    joystick_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.hatari.hatari.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.json" class="md-nav__link">
    json
  </a>
  
    <nav class="md-nav" aria-label="json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JSON_RUNNER_DIRS" class="md-nav__link">
    JSON_RUNNER_DIRS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JsonRunner" class="md-nav__link">
    JsonRunner
  </a>
  
    <nav class="md-nav" aria-label="JsonRunner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JsonRunner.json_path" class="md-nav__link">
    json_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JsonRunner.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.JsonRunner.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.json.load_json_runners" class="md-nav__link">
    load_json_runners()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.jzintv" class="md-nav__link">
    jzintv
  </a>
  
    <nav class="md-nav" aria-label="jzintv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv" class="md-nav__link">
    jzintv
  </a>
  
    <nav class="md-nav" aria-label="jzintv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.jzintv.jzintv.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.libretro" class="md-nav__link">
    libretro
  </a>
  
    <nav class="md-nav" aria-label="libretro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.LIBRETRO_CORES" class="md-nav__link">
    LIBRETRO_CORES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro" class="md-nav__link">
    libretro
  </a>
  
    <nav class="md-nav" aria-label="libretro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.can_uninstall" class="md-nav__link">
    can_uninstall()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_config_file" class="md-nav__link">
    get_config_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_core_path" class="md-nav__link">
    get_core_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_runner_parameters" class="md-nav__link">
    get_runner_parameters()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_system_directory" class="md-nav__link">
    get_system_directory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.get_version" class="md-nav__link">
    get_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.is_retroarch_installed" class="md-nav__link">
    is_retroarch_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.libretro.uninstall" class="md-nav__link">
    uninstall()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.get_core_choices" class="md-nav__link">
    get_core_choices()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.get_default_config_path" class="md-nav__link">
    get_default_config_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.libretro.get_libretro_cores" class="md-nav__link">
    get_libretro_cores()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.linux" class="md-nav__link">
    linux
  </a>
  
    <nav class="md-nav" aria-label="linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux" class="md-nav__link">
    linux
  </a>
  
    <nav class="md-nav" aria-label="linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.game_exe" class="md-nav__link">
    game_exe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.nvidia_shader_cache_path" class="md-nav__link">
    nvidia_shader_cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.get_relative_exe" class="md-nav__link">
    get_relative_exe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.linux.linux.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.mame" class="md-nav__link">
    mame
  </a>
  
    <nav class="md-nav" aria-label="mame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.MAME_CACHE_DIR" class="md-nav__link">
    MAME_CACHE_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.MAME_XML_PATH" class="md-nav__link">
    MAME_XML_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame" class="md-nav__link">
    mame
  </a>
  
    <nav class="md-nav" aria-label="mame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.cache_dir" class="md-nav__link">
    cache_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.config_dir" class="md-nav__link">
    config_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.default_path" class="md-nav__link">
    default_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.xml_path" class="md-nav__link">
    xml_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.get_shader_params" class="md-nav__link">
    get_shader_params()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.mame.write_xml_list" class="md-nav__link">
    write_xml_list()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.get_system_choices" class="md-nav__link">
    get_system_choices()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.notify_mame_xml" class="md-nav__link">
    notify_mame_xml()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mame.write_mame_xml" class="md-nav__link">
    write_mame_xml()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.mednafen" class="md-nav__link">
    mednafen
  </a>
  
    <nav class="md-nav" aria-label="mednafen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.DEFAULT_MEDNAFEN_SCALER" class="md-nav__link">
    DEFAULT_MEDNAFEN_SCALER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen" class="md-nav__link">
    mednafen
  </a>
  
    <nav class="md-nav" aria-label="mednafen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.machine_choices" class="md-nav__link">
    machine_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.find_joysticks" class="md-nav__link">
    find_joysticks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mednafen.mednafen.set_joystick_controls" class="md-nav__link">
    set_joystick_controls()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus" class="md-nav__link">
    mupen64plus
  </a>
  
    <nav class="md-nav" aria-label="mupen64plus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus" class="md-nav__link">
    mupen64plus
  </a>
  
    <nav class="md-nav" aria-label="mupen64plus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.mupen64plus.mupen64plus.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.o2em" class="md-nav__link">
    o2em
  </a>
  
    <nav class="md-nav" aria-label="o2em">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em" class="md-nav__link">
    o2em
  </a>
  
    <nav class="md-nav" aria-label="o2em">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.bios_choices" class="md-nav__link">
    bios_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.bios_path" class="md-nav__link">
    bios_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.checksums" class="md-nav__link">
    checksums
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.controller_choices" class="md-nav__link">
    controller_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.o2em.o2em.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.openmsx" class="md-nav__link">
    openmsx
  </a>
  
    <nav class="md-nav" aria-label="openmsx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx" class="md-nav__link">
    openmsx
  </a>
  
    <nav class="md-nav" aria-label="openmsx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.openmsx.openmsx.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.osmose" class="md-nav__link">
    osmose
  </a>
  
    <nav class="md-nav" aria-label="osmose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose" class="md-nav__link">
    osmose
  </a>
  
    <nav class="md-nav" aria-label="osmose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.osmose.osmose.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2" class="md-nav__link">
    pcsx2
  </a>
  
    <nav class="md-nav" aria-label="pcsx2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2" class="md-nav__link">
    pcsx2
  </a>
  
    <nav class="md-nav" aria-label="pcsx2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.arch" class="md-nav__link">
    arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.require_libs" class="md-nav__link">
    require_libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pcsx2.pcsx2.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.pico8" class="md-nav__link">
    pico8
  </a>
  
    <nav class="md-nav" aria-label="pico8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.DOWNLOAD_URL" class="md-nav__link">
    DOWNLOAD_URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8" class="md-nav__link">
    pico8
  </a>
  
    <nav class="md-nav" aria-label="pico8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.cart_path" class="md-nav__link">
    cart_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.engine_path" class="md-nav__link">
    engine_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.is_native" class="md-nav__link">
    is_native
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.launch_args" class="md-nav__link">
    launch_args
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.multiple_versions" class="md-nav__link">
    multiple_versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.pico8.pico8.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.redream" class="md-nav__link">
    redream
  </a>
  
    <nav class="md-nav" aria-label="redream">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream" class="md-nav__link">
    redream
  </a>
  
    <nav class="md-nav" aria-label="redream">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.download_url" class="md-nav__link">
    download_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.redream.redream.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.reicast" class="md-nav__link">
    reicast
  </a>
  
    <nav class="md-nav" aria-label="reicast">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast" class="md-nav__link">
    reicast
  </a>
  
    <nav class="md-nav" aria-label="reicast">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.joypads" class="md-nav__link">
    joypads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.get_joypads" class="md-nav__link">
    get_joypads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.reicast.reicast.write_config" class="md-nav__link">
    write_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.residualvm" class="md-nav__link">
    residualvm
  </a>
  
    <nav class="md-nav" aria-label="residualvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.RESIDUALVM_CONFIG_FILE" class="md-nav__link">
    RESIDUALVM_CONFIG_FILE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm" class="md-nav__link">
    residualvm
  </a>
  
    <nav class="md-nav" aria-label="residualvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.get_game_list" class="md-nav__link">
    get_game_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.get_residualvm_data_dir" class="md-nav__link">
    get_residualvm_data_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.residualvm.residualvm.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3" class="md-nav__link">
    rpcs3
  </a>
  
    <nav class="md-nav" aria-label="rpcs3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3" class="md-nav__link">
    rpcs3
  </a>
  
    <nav class="md-nav" aria-label="rpcs3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.rpcs3.rpcs3.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.runner" class="md-nav__link">
    runner
  </a>
  
    <nav class="md-nav" aria-label="runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner" class="md-nav__link">
    Runner
  </a>
  
    <nav class="md-nav" aria-label="Runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.arch" class="md-nav__link">
    arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.context_menu_entries" class="md-nav__link">
    context_menu_entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.default_config" class="md-nav__link">
    default_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.default_path" class="md-nav__link">
    default_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.discord_client_id" class="md-nav__link">
    discord_client_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.download_url" class="md-nav__link">
    download_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.game_config" class="md-nav__link">
    game_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.library_folders" class="md-nav__link">
    library_folders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.multiple_versions" class="md-nav__link">
    multiple_versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.nvidia_shader_cache_path" class="md-nav__link">
    nvidia_shader_cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.require_libs" class="md-nav__link">
    require_libs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.runner_config" class="md-nav__link">
    runner_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.shader_cache_dir" class="md-nav__link">
    shader_cache_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.system_config" class="md-nav__link">
    system_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.__lt__" class="md-nav__link">
    __lt__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.can_uninstall" class="md-nav__link">
    can_uninstall()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.download_and_extract" class="md-nav__link">
    download_and_extract()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.extract" class="md-nav__link">
    extract()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.find_option" class="md-nav__link">
    find_option()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.force_stop_game" class="md-nav__link">
    force_stop_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_env" class="md-nav__link">
    get_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_runner_options" class="md-nav__link">
    get_runner_options()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_runner_version" class="md-nav__link">
    get_runner_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.get_runtime_env" class="md-nav__link">
    get_runtime_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.install_dialog" class="md-nav__link">
    install_dialog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.remove_game_data" class="md-nav__link">
    remove_game_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.uninstall" class="md-nav__link">
    uninstall()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.runner.Runner.use_runtime" class="md-nav__link">
    use_runtime()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx" class="md-nav__link">
    ryujinx
  </a>
  
    <nav class="md-nav" aria-label="ryujinx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx" class="md-nav__link">
    ryujinx
  </a>
  
    <nav class="md-nav" aria-label="ryujinx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.download_url" class="md-nav__link">
    download_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.ryujinx_data_dir" class="md-nav__link">
    ryujinx_data_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.ryujinx.ryujinx.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.scummvm" class="md-nav__link">
    scummvm
  </a>
  
    <nav class="md-nav" aria-label="scummvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm" class="md-nav__link">
    scummvm
  </a>
  
    <nav class="md-nav" aria-label="scummvm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.libs_dir" class="md-nav__link">
    libs_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.option_empty_map" class="md-nav__link">
    option_empty_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.option_map" class="md-nav__link">
    option_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.get_command" class="md-nav__link">
    get_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.get_game_list" class="md-nav__link">
    get_game_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.get_scummvm_data_dir" class="md-nav__link">
    get_scummvm_data_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.inject_runner_option" class="md-nav__link">
    inject_runner_option()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.scummvm.scummvm.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.snes9x" class="md-nav__link">
    snes9x
  </a>
  
    <nav class="md-nav" aria-label="snes9x">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.SNES9X_DIR" class="md-nav__link">
    SNES9X_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x" class="md-nav__link">
    snes9x
  </a>
  
    <nav class="md-nav" aria-label="snes9x">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.snes9x.snes9x.set_option" class="md-nav__link">
    set_option()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.steam" class="md-nav__link">
    steam
  </a>
  
    <nav class="md-nav" aria-label="steam">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam" class="md-nav__link">
    steam
  </a>
  
    <nav class="md-nav" aria-label="steam">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.appid" class="md-nav__link">
    appid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.game_path" class="md-nav__link">
    game_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.launch_args" class="md-nav__link">
    launch_args
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.library_folders" class="md-nav__link">
    library_folders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.steam_data_dir" class="md-nav__link">
    steam_data_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_appmanifest" class="md-nav__link">
    get_appmanifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_default_steamapps_path" class="md-nav__link">
    get_default_steamapps_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_game_path_from_appid" class="md-nav__link">
    get_game_path_from_appid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_library_config" class="md-nav__link">
    get_library_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_run_data" class="md-nav__link">
    get_run_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_steam_config" class="md-nav__link">
    get_steam_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.get_steamapps_dirs" class="md-nav__link">
    get_steamapps_dirs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.install_game" class="md-nav__link">
    install_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.remove_game_data" class="md-nav__link">
    remove_game_data()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.steam.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.get_steam_pid" class="md-nav__link">
    get_steam_pid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.is_running" class="md-nav__link">
    is_running()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.kill" class="md-nav__link">
    kill()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.steam.shutdown" class="md-nav__link">
    shutdown()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.vice" class="md-nav__link">
    vice
  </a>
  
    <nav class="md-nav" aria-label="vice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice" class="md-nav__link">
    vice
  </a>
  
    <nav class="md-nav" aria-label="vice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.machine_choices" class="md-nav__link">
    machine_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_joydevs" class="md-nav__link">
    get_joydevs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_option_prefix" class="md-nav__link">
    get_option_prefix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_rom_args" class="md-nav__link">
    get_rom_args()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.get_roms_path" class="md-nav__link">
    get_roms_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.vice.vice.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.web" class="md-nav__link">
    web
  </a>
  
    <nav class="md-nav" aria-label="web">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.DEFAULT_ICON" class="md-nav__link">
    DEFAULT_ICON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web" class="md-nav__link">
    web
  </a>
  
    <nav class="md-nav" aria-label="web">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.system_options_override" class="md-nav__link">
    system_options_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.get_env" class="md-nav__link">
    get_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.web.web.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.DEFAULT_WINE_PREFIX" class="md-nav__link">
    DEFAULT_WINE_PREFIX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.MIN_SAFE_VERSION" class="md-nav__link">
    MIN_SAFE_VERSION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.context_menu_entries" class="md-nav__link">
    context_menu_entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.core_processes" class="md-nav__link">
    core_processes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.entry_point_option" class="md-nav__link">
    entry_point_option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.game_exe" class="md-nav__link">
    game_exe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.multiple_versions" class="md-nav__link">
    multiple_versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.nvidia_shader_cache_path" class="md-nav__link">
    nvidia_shader_cache_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.prefix_path" class="md-nav__link">
    prefix_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.reg_keys" class="md-nav__link">
    reg_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.reg_prefix" class="md-nav__link">
    reg_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.wine_arch" class="md-nav__link">
    wine_arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.force_stop_game" class="md-nav__link">
    force_stop_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_dll_overrides" class="md-nav__link">
    get_dll_overrides()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_dpi" class="md-nav__link">
    get_dpi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_env" class="md-nav__link">
    get_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_path_for_version" class="md-nav__link">
    get_path_for_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_pids" class="md-nav__link">
    get_pids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_runtime_env" class="md-nav__link">
    get_runtime_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.get_version" class="md-nav__link">
    get_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.msi_exec" class="md-nav__link">
    msi_exec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.parse_wine_path" class="md-nav__link">
    parse_wine_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_regedit" class="md-nav__link">
    run_regedit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_wine_terminal" class="md-nav__link">
    run_wine_terminal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_winecfg" class="md-nav__link">
    run_winecfg()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_wineconsole" class="md-nav__link">
    run_wineconsole()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_winecpl" class="md-nav__link">
    run_winecpl()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_wineexec" class="md-nav__link">
    run_wineexec()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_winekill" class="md-nav__link">
    run_winekill()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.run_winetricks" class="md-nav__link">
    run_winetricks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.sandbox" class="md-nav__link">
    sandbox()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.set_regedit_keys" class="md-nav__link">
    set_regedit_keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.wine.wine.setup_dlls" class="md-nav__link">
    setup_dlls()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.yuzu" class="md-nav__link">
    yuzu
  </a>
  
    <nav class="md-nav" aria-label="yuzu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu" class="md-nav__link">
    yuzu
  </a>
  
    <nav class="md-nav" aria-label="yuzu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.runnable_alone" class="md-nav__link">
    runnable_alone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.yuzu_data_dir" class="md-nav__link">
    yuzu_data_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.yuzu.yuzu.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.runners.zdoom" class="md-nav__link">
    zdoom
  </a>
  
    <nav class="md-nav" aria-label="zdoom">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom" class="md-nav__link">
    zdoom
  </a>
  
    <nav class="md-nav" aria-label="zdoom">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.description" class="md-nav__link">
    description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.game_options" class="md-nav__link">
    game_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.human_name" class="md-nav__link">
    human_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.platforms" class="md-nav__link">
    platforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.runner_executable" class="md-nav__link">
    runner_executable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.runner_options" class="md-nav__link">
    runner_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.working_dir" class="md-nav__link">
    working_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.get_executable" class="md-nav__link">
    get_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.play" class="md-nav__link">
    play()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.runners.zdoom.zdoom.prelaunch" class="md-nav__link">
    prelaunch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/lutris/lutris/edit/master/docs/lutris/runners/__init__.py" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



  <h1>Index</h1>

<div class="doc doc-object doc-module">

<a id="lutris.runners"></a>
    <div class="doc doc-contents first">

      <p>Runner loaders</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h2 id="lutris.runners.ADDON_RUNNERS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ADDON_RUNNERS</span></code>


<a href="#lutris.runners.ADDON_RUNNERS" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h2 id="lutris.runners.RUNNER_NAMES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">RUNNER_NAMES</span></code>


<a href="#lutris.runners.RUNNER_NAMES" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h2 id="lutris.runners.RUNNER_PLATFORMS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">RUNNER_PLATFORMS</span></code>


<a href="#lutris.runners.RUNNER_PLATFORMS" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h2 id="lutris.runners.__all__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__all__</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.__all__" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h2 id="lutris.runners.InvalidRunner" class="doc doc-heading">
        <code>
InvalidRunner            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.runners.InvalidRunner" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidRunner</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="lutris.runners.InvalidRunner.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.InvalidRunner.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="lutris.runners.NonInstallableRunnerError" class="doc doc-heading">
        <code>
NonInstallableRunnerError            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.runners.NonInstallableRunnerError" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NonInstallableRunnerError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="lutris.runners.NonInstallableRunnerError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.NonInstallableRunnerError.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="lutris.runners.RunnerInstallationError" class="doc doc-heading">
        <code>
RunnerInstallationError            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.runners.RunnerInstallationError" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RunnerInstallationError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="lutris.runners.RunnerInstallationError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.RunnerInstallationError.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h2 id="lutris.runners.get_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_installed</span><span class="p">(</span><span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.runners.get_installed" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Return a list of installed runners (class instances).</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_installed</span><span class="p">(</span><span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of installed runners (class instances).&quot;&quot;&quot;</span>
    <span class="n">installed</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">runner_name</span> <span class="ow">in</span> <span class="n">__all__</span><span class="p">:</span>
        <span class="n">runner</span> <span class="o">=</span> <span class="n">import_runner</span><span class="p">(</span><span class="n">runner_name</span><span class="p">)()</span>
        <span class="k">if</span> <span class="n">runner</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
            <span class="n">installed</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">runner</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">installed</span><span class="p">)</span> <span class="k">if</span> <span class="n">sort</span> <span class="k">else</span> <span class="n">installed</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="lutris.runners.get_platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platforms</span><span class="p">()</span></code>


<a href="#lutris.runners.get_platforms" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Return a dictionary of all supported platforms with their runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platforms</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return a dictionary of all supported platforms with their runners&quot;&quot;&quot;</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">runner_name</span> <span class="ow">in</span> <span class="n">__all__</span><span class="p">:</span>
        <span class="n">runner</span> <span class="o">=</span> <span class="n">import_runner</span><span class="p">(</span><span class="n">runner_name</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">platforms</span><span class="p">:</span>
            <span class="n">platforms</span><span class="p">[</span><span class="n">platform</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">runner_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">platforms</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="lutris.runners.get_runner_module" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runner_module</span><span class="p">(</span><span class="n">runner_name</span><span class="p">)</span></code>


<a href="#lutris.runners.get_runner_module" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_runner_module</span><span class="p">(</span><span class="n">runner_name</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">runner_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">__all__</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidRunner</span><span class="p">(</span><span class="s2">&quot;Invalid runner name &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">runner_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">__import__</span><span class="p">(</span><span class="s2">&quot;lutris.runners.</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">runner_name</span><span class="p">,</span> <span class="nb">globals</span><span class="p">(),</span> <span class="nb">locals</span><span class="p">(),</span> <span class="p">[</span><span class="n">runner_name</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="lutris.runners.get_runner_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runner_names</span><span class="p">()</span></code>


<a href="#lutris.runners.get_runner_names" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_runner_names</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="n">runner</span><span class="p">:</span> <span class="n">import_runner</span><span class="p">(</span><span class="n">runner</span><span class="p">)()</span><span class="o">.</span><span class="n">human_name</span> <span class="k">for</span> <span class="n">runner</span> <span class="ow">in</span> <span class="n">__all__</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="lutris.runners.import_runner" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_runner</span><span class="p">(</span><span class="n">runner_name</span><span class="p">)</span></code>


<a href="#lutris.runners.import_runner" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Dynamically import a runner class.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">import_runner</span><span class="p">(</span><span class="n">runner_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Dynamically import a runner class.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">runner_name</span> <span class="ow">in</span> <span class="n">ADDON_RUNNERS</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ADDON_RUNNERS</span><span class="p">[</span><span class="n">runner_name</span><span class="p">]</span>

    <span class="n">runner_module</span> <span class="o">=</span> <span class="n">get_runner_module</span><span class="p">(</span><span class="n">runner_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">runner_module</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">runner_module</span><span class="p">,</span> <span class="n">runner_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="lutris.runners.import_task" class="doc doc-heading">
<code class="highlight language-python"><span class="n">import_task</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span></code>


<a href="#lutris.runners.import_task" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Return a runner task.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">import_task</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="n">task</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a runner task.&quot;&quot;&quot;</span>
    <span class="n">runner_module</span> <span class="o">=</span> <span class="n">get_runner_module</span><span class="p">(</span><span class="n">runner</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">runner_module</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">runner_module</span><span class="p">,</span> <span class="n">task</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h2 id="lutris.runners.inject_runners" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inject_runners</span><span class="p">(</span><span class="n">runners</span><span class="p">)</span></code>


<a href="#lutris.runners.inject_runners" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">inject_runners</span><span class="p">(</span><span class="n">runners</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">runner_name</span> <span class="ow">in</span> <span class="n">runners</span><span class="p">:</span>
        <span class="n">ADDON_RUNNERS</span><span class="p">[</span><span class="n">runner_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">runners</span><span class="p">[</span><span class="n">runner_name</span><span class="p">]</span>
        <span class="n">__all__</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">runner_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.atari800" class="doc doc-heading">
        <code>atari800</code>



<a href="#lutris.runners.atari800" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.atari800.atari800" class="doc doc-heading">
        <code>
atari800            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.atari800.atari800" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/atari800.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">atari800</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Atari800&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Atari 8bit computers&quot;</span><span class="p">)]</span>  <span class="c1"># FIXME try to determine the actual computer used</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;atari800/bin/atari800&quot;</span>
    <span class="n">bios_url</span> <span class="o">=</span> <span class="s2">&quot;http://kent.dl.sourceforge.net/project/atari800/ROM/Original</span><span class="si">%20X</span><span class="s2">L%20ROM/xf25.zip&quot;</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Atari 400, 800 and XL emulator&quot;</span><span class="p">)</span>
    <span class="n">bios_checksums</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;xlxe_rom&quot;</span><span class="p">:</span> <span class="s2">&quot;06daac977823773a3eea3422fd26a703&quot;</span><span class="p">,</span>
        <span class="s2">&quot;basic_rom&quot;</span><span class="p">:</span> <span class="s2">&quot;0bac0c6a50104045d902df4503a4c30b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osa_rom&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;osb_rom&quot;</span><span class="p">:</span> <span class="s2">&quot;a3e8d617c95d08031fe1b20d541434b2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;5200_rom&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The game data, commonly called a ROM image. </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Supported formats: ATR, XFD, DCM, ATR.GZ, XFD.GZ &quot;</span>
                <span class="s2">&quot;and PRO.&quot;</span>
            <span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;bios_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;BIOS location&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;A folder containing the Atari 800 BIOS files.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;They are provided by Lutris so you shouldn&#39;t have to &quot;</span>
                <span class="s2">&quot;change this.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;machine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Emulate Atari 800&quot;</span><span class="p">),</span> <span class="s2">&quot;atari&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Emulate Atari 800 XL&quot;</span><span class="p">),</span> <span class="s2">&quot;xl&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Emulate Atari 320 XE (Compy Shop)&quot;</span><span class="p">),</span> <span class="s2">&quot;320xe&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Emulate Atari 320 XE (Rambo)&quot;</span><span class="p">),</span> <span class="s2">&quot;rambo&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Emulate Atari 5200&quot;</span><span class="p">),</span> <span class="s2">&quot;5200&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="s2">&quot;atari&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Machine&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;resolution&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">get_resolutions</span><span class="p">(),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;desktop&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen resolution&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument</span>
            <span class="n">config_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.atari800&quot;</span><span class="p">)</span>
            <span class="n">bios_archive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;atari800-bioses.zip&quot;</span><span class="p">)</span>
            <span class="n">dlg</span> <span class="o">=</span> <span class="n">DownloadDialog</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bios_url</span><span class="p">,</span> <span class="n">bios_archive</span><span class="p">)</span>
            <span class="n">dlg</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">bios_archive</span><span class="p">):</span>
                <span class="n">ErrorDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Could not download Atari 800 BIOS archive&quot;</span><span class="p">))</span>
                <span class="k">return</span>
            <span class="n">extract</span><span class="o">.</span><span class="n">extract_archive</span><span class="p">(</span><span class="n">bios_archive</span><span class="p">,</span> <span class="n">config_path</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">bios_archive</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">runner_slug</span><span class="o">=</span><span class="s2">&quot;atari800&quot;</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">raw_runner_config</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;bios_path&quot;</span><span class="p">:</span> <span class="n">config_path</span><span class="p">})</span>
            <span class="n">config</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
                <span class="n">callback</span><span class="p">()</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">on_runner_installed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_good_bioses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bios_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Check for correct bios files &quot;&quot;&quot;</span>
        <span class="n">good_bios</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">bios_path</span><span class="p">):</span>
            <span class="n">real_hash</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_md5_hash</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bios_path</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">bios_file</span><span class="p">,</span> <span class="n">checksum</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bios_checksums</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">real_hash</span> <span class="o">==</span> <span class="n">checksum</span><span class="p">:</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> Checksum : OK&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                    <span class="n">good_bios</span><span class="p">[</span><span class="n">bios_file</span><span class="p">]</span> <span class="o">=</span> <span class="n">filename</span>
        <span class="k">return</span> <span class="n">good_bios</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fullscreen&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-windowed&quot;</span><span class="p">)</span>

        <span class="n">resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;resolution&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resolution</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">resolution</span> <span class="o">==</span> <span class="s2">&quot;desktop&quot;</span><span class="p">:</span>
                <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
            <span class="n">arguments</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-fs-width&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">width</span><span class="p">,</span> <span class="s2">&quot;-fs-height&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">height</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;machine&quot;</span><span class="p">])</span>

        <span class="n">bios_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bios_path&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">bios_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NO_BIOS&quot;</span><span class="p">}</span>
        <span class="n">good_bios</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_good_bioses</span><span class="p">(</span><span class="n">bios_path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">bios</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">good_bios</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">bios</span><span class="p">)</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bios_path</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>

        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.atari800.atari800.bios_checksums" class="doc doc-heading">
<code class="highlight language-python"><span class="n">bios_checksums</span></code>


<a href="#lutris.runners.atari800.atari800.bios_checksums" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.atari800.atari800.bios_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">bios_url</span></code>


<a href="#lutris.runners.atari800.atari800.bios_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.atari800.atari800.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.atari800.atari800.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.atari800.atari800.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.atari800.atari800.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.atari800.atari800.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.atari800.atari800.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.atari800.atari800.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.atari800.atari800.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.atari800.atari800.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.atari800.atari800.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.atari800.atari800.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.atari800.atari800.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.atari800.atari800.find_good_bioses" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_good_bioses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bios_path</span><span class="p">)</span></code>


<a href="#lutris.runners.atari800.atari800.find_good_bioses" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Check for correct bios files </p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/atari800.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_good_bioses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bios_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Check for correct bios files &quot;&quot;&quot;</span>
    <span class="n">good_bios</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">bios_path</span><span class="p">):</span>
        <span class="n">real_hash</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_md5_hash</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bios_path</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">bios_file</span><span class="p">,</span> <span class="n">checksum</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bios_checksums</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">real_hash</span> <span class="o">==</span> <span class="n">checksum</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> Checksum : OK&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                <span class="n">good_bios</span><span class="p">[</span><span class="n">bios_file</span><span class="p">]</span> <span class="o">=</span> <span class="n">filename</span>
    <span class="k">return</span> <span class="n">good_bios</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.atari800.atari800.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.atari800.atari800.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/atari800.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument</span>
        <span class="n">config_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.atari800&quot;</span><span class="p">)</span>
        <span class="n">bios_archive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;atari800-bioses.zip&quot;</span><span class="p">)</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">DownloadDialog</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bios_url</span><span class="p">,</span> <span class="n">bios_archive</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">bios_archive</span><span class="p">):</span>
            <span class="n">ErrorDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Could not download Atari 800 BIOS archive&quot;</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="n">extract</span><span class="o">.</span><span class="n">extract_archive</span><span class="p">(</span><span class="n">bios_archive</span><span class="p">,</span> <span class="n">config_path</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">bios_archive</span><span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">runner_slug</span><span class="o">=</span><span class="s2">&quot;atari800&quot;</span><span class="p">)</span>
        <span class="n">config</span><span class="o">.</span><span class="n">raw_runner_config</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;bios_path&quot;</span><span class="p">:</span> <span class="n">config_path</span><span class="p">})</span>
        <span class="n">config</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">()</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">on_runner_installed</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.atari800.atari800.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.atari800.atari800.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/atari800.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fullscreen&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-windowed&quot;</span><span class="p">)</span>

    <span class="n">resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;resolution&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">resolution</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">resolution</span> <span class="o">==</span> <span class="s2">&quot;desktop&quot;</span><span class="p">:</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
        <span class="n">arguments</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-fs-width&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">width</span><span class="p">,</span> <span class="s2">&quot;-fs-height&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">height</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;machine&quot;</span><span class="p">])</span>

    <span class="n">bios_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bios_path&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">bios_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NO_BIOS&quot;</span><span class="p">}</span>
    <span class="n">good_bios</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_good_bioses</span><span class="p">(</span><span class="n">bios_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">bios</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">good_bios</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">bios</span><span class="p">)</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bios_path</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>

    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.atari800.get_resolutions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_resolutions</span><span class="p">()</span></code>


<a href="#lutris.runners.atari800.get_resolutions" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/atari800.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_resolutions</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">screen_resolutions</span> <span class="o">=</span> <span class="p">[(</span><span class="n">resolution</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span> <span class="k">for</span> <span class="n">resolution</span> <span class="ow">in</span> <span class="n">display</span><span class="o">.</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_resolutions</span><span class="p">()]</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="n">screen_resolutions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">screen_resolutions</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Desktop resolution&quot;</span><span class="p">),</span> <span class="s2">&quot;desktop&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">screen_resolutions</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.commands" class="doc doc-heading">
        <code>commands</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.commands" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="lutris.runners.commands.dosbox" class="doc doc-heading">
        <code>dosbox</code>



<a href="#lutris.runners.commands.dosbox" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>DOSBox installer commands</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.dosbox.dosexec" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dosexec</span><span class="p">(</span><span class="n">config_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">close_on_exit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.dosbox.dosexec" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute Dosbox with given config_file.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/dosbox.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dosexec</span><span class="p">(</span><span class="n">config_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">executable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">close_on_exit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute Dosbox with given config_file.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">config_file</span><span class="p">:</span>
        <span class="n">run_with</span> <span class="o">=</span> <span class="s2">&quot;config </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">working_dir</span><span class="p">:</span>
            <span class="n">working_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">executable</span><span class="p">:</span>
        <span class="n">run_with</span> <span class="o">=</span> <span class="s2">&quot;executable </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">executable</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">working_dir</span><span class="p">:</span>
            <span class="n">working_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">executable</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Neither a config file or an executable were provided&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Running dosbox with </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">run_with</span><span class="p">)</span>
    <span class="n">working_dir</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="n">working_dir</span><span class="p">)</span>
    <span class="n">dosbox</span> <span class="o">=</span> <span class="n">import_runner</span><span class="p">(</span><span class="s2">&quot;dosbox&quot;</span><span class="p">)</span>
    <span class="n">dosbox_runner</span> <span class="o">=</span> <span class="n">dosbox</span><span class="p">()</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">dosbox_runner</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="k">if</span> <span class="n">config_file</span><span class="p">:</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-conf&quot;</span><span class="p">,</span> <span class="n">config_file</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">executable</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">executable</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t find file </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">executable</span><span class="p">))</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="n">executable</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="n">args</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">close_on_exit</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-exit&quot;</span><span class="p">)</span>
    <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.dosbox.makeconfig" class="doc doc-heading">
<code class="highlight language-python"><span class="n">makeconfig</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">drives</span><span class="p">,</span> <span class="n">commands</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.dosbox.makeconfig" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/dosbox.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">makeconfig</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">drives</span><span class="p">,</span> <span class="n">commands</span><span class="p">):</span>
    <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
        <span class="n">config_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;[autoexec]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">drive</span> <span class="ow">in</span> <span class="n">drives</span><span class="p">:</span>
            <span class="n">config_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;mount </span><span class="si">{}</span><span class="s1"> &quot;</span><span class="si">{}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">drive</span><span class="p">,</span> <span class="n">drives</span><span class="p">[</span><span class="n">drive</span><span class="p">]))</span>
        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="n">commands</span><span class="p">:</span>
            <span class="n">config_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">command</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.runners.commands.wine" class="doc doc-heading">
        <code>wine</code>



<a href="#lutris.runners.commands.wine" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Wine commands for installers</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.create_prefix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s1">&#39;win64&#39;</span><span class="p">,</span> <span class="n">overrides</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">install_gecko</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">install_mono</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.create_prefix" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a new Wine prefix.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_prefix</span><span class="p">(</span>  <span class="c1"># noqa: C901</span>
    <span class="n">prefix</span><span class="p">,</span>
    <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">arch</span><span class="o">=</span><span class="n">WINE_DEFAULT_ARCH</span><span class="p">,</span>
    <span class="n">overrides</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">install_gecko</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">install_mono</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a new Wine prefix.&quot;&quot;&quot;</span>
    <span class="c1"># pylint: disable=too-many-locals</span>
    <span class="k">if</span> <span class="n">overrides</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">overrides</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">prefix</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No Wine prefix path given&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating a </span><span class="si">%s</span><span class="s2"> prefix in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>

    <span class="c1"># Follow symlinks, don&#39;t delete existing ones as it would break some setups</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">readlink</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

    <span class="c1"># Avoid issue of 64bit Wine refusing to create win32 prefix</span>
    <span class="c1"># over an existing empty folder.</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="n">wine</span> <span class="o">=</span> <span class="n">import_runner</span><span class="p">(</span><span class="s2">&quot;wine&quot;</span><span class="p">)</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="n">wine</span><span class="p">()</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Wine not found, can&#39;t create prefix&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">wineboot_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">),</span> <span class="s2">&quot;wineboot&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wineboot_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;No wineboot executable found in </span><span class="si">%s</span><span class="s2">, &quot;</span>
            <span class="s2">&quot;your wine installation is most likely broken&quot;</span><span class="p">,</span>
            <span class="n">wine_path</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="n">wineenv</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;WINEARCH&quot;</span><span class="p">:</span> <span class="n">arch</span><span class="p">,</span>
        <span class="s2">&quot;WINEPREFIX&quot;</span><span class="p">:</span> <span class="n">prefix</span><span class="p">,</span>
        <span class="s2">&quot;WINEDLLOVERRIDES&quot;</span><span class="p">:</span> <span class="n">get_overrides_env</span><span class="p">(</span><span class="n">overrides</span><span class="p">),</span>
        <span class="s2">&quot;WINE_MONO_CACHE_DIR&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)),</span> <span class="s2">&quot;mono&quot;</span><span class="p">),</span>
        <span class="s2">&quot;WINE_GECKO_CACHE_DIR&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)),</span> <span class="s2">&quot;gecko&quot;</span><span class="p">),</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">install_gecko</span> <span class="o">==</span> <span class="s2">&quot;False&quot;</span><span class="p">:</span>
        <span class="n">wineenv</span><span class="p">[</span><span class="s2">&quot;WINE_SKIP_GECKO_INSTALLATION&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
        <span class="n">overrides</span><span class="p">[</span><span class="s2">&quot;mshtml&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;disabled&quot;</span>
    <span class="k">if</span> <span class="n">install_mono</span> <span class="o">==</span> <span class="s2">&quot;False&quot;</span><span class="p">:</span>
        <span class="n">wineenv</span><span class="p">[</span><span class="s2">&quot;WINE_SKIP_MONO_INSTALLATION&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
        <span class="n">overrides</span><span class="p">[</span><span class="s2">&quot;mscoree&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;disabled&quot;</span>

    <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">([</span><span class="n">wineboot_path</span><span class="p">],</span> <span class="n">env</span><span class="o">=</span><span class="n">wineenv</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">loop_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;user.reg&quot;</span><span class="p">)):</span>
            <span class="k">break</span>
        <span class="k">if</span> <span class="n">loop_index</span> <span class="o">==</span> <span class="mi">60</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Wine prefix creation is taking longer than expected...&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;user.reg&quot;</span><span class="p">)):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No user.reg found after prefix creation. &quot;</span> <span class="s2">&quot;Prefix might not be valid&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> Prefix created in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>
    <span class="n">prefix_manager</span> <span class="o">=</span> <span class="n">WinePrefixManager</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
    <span class="n">prefix_manager</span><span class="o">.</span><span class="n">setup_defaults</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.delete_registry_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s1">&#39;win64&#39;</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.delete_registry_key" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Deletes a registry key from a Wine prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">WINE_DEFAULT_ARCH</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deletes a registry key from a Wine prefix&quot;&quot;&quot;</span>
    <span class="n">wineexec</span><span class="p">(</span>
        <span class="s2">&quot;regedit&quot;</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="s1">&#39;/S /D &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">key</span><span class="p">,</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_path</span><span class="p">,</span>
        <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
        <span class="n">arch</span><span class="o">=</span><span class="n">arch</span><span class="p">,</span>
        <span class="n">blocking</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.eject_disc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">eject_disc</span><span class="p">(</span><span class="n">wine_path</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.eject_disc" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Use Wine to eject a drive</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">eject_disc</span><span class="p">(</span><span class="n">wine_path</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Use Wine to eject a drive&quot;&quot;&quot;</span>
    <span class="n">wineexec</span><span class="p">(</span><span class="s2">&quot;eject&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_path</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="s2">&quot;-a&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.install_cab_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install_cab_component</span><span class="p">(</span><span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.install_cab_component" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install a component from a cabfile in a prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install_cab_component</span><span class="p">(</span><span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Install a component from a cabfile in a prefix&quot;&quot;&quot;</span>
    <span class="n">cab_installer</span> <span class="o">=</span> <span class="n">CabInstaller</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_path</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">arch</span><span class="p">)</span>
    <span class="n">files</span> <span class="o">=</span> <span class="n">cab_installer</span><span class="o">.</span><span class="n">extract_from_cab</span><span class="p">(</span><span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span>
    <span class="n">registry_files</span> <span class="o">=</span> <span class="n">cab_installer</span><span class="o">.</span><span class="n">get_registry_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">registry_file</span><span class="p">,</span> <span class="n">_arch</span> <span class="ow">in</span> <span class="n">registry_files</span><span class="p">:</span>
        <span class="n">set_regedit_file</span><span class="p">(</span><span class="n">registry_file</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_path</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">_arch</span><span class="p">)</span>
    <span class="n">cab_installer</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.open_wine_terminal" class="doc doc-heading">
<code class="highlight language-python"><span class="n">open_wine_terminal</span><span class="p">(</span><span class="n">terminal</span><span class="p">,</span> <span class="n">wine_path</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">env</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.open_wine_terminal" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">open_wine_terminal</span><span class="p">(</span><span class="n">terminal</span><span class="p">,</span> <span class="n">wine_path</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">env</span><span class="p">):</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;wine&quot;</span><span class="p">:</span> <span class="n">wine_path</span><span class="p">,</span>
        <span class="s2">&quot;winecfg&quot;</span><span class="p">:</span> <span class="n">wine_path</span> <span class="o">+</span> <span class="s2">&quot;cfg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wineserver&quot;</span><span class="p">:</span> <span class="n">wine_path</span> <span class="o">+</span> <span class="s2">&quot;server&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wineboot&quot;</span><span class="p">:</span> <span class="n">wine_path</span> <span class="o">+</span> <span class="s2">&quot;boot&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEPREFIX&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefix</span>
    <span class="n">shell_command</span> <span class="o">=</span> <span class="n">get_shell_command</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">aliases</span><span class="p">)</span>
    <span class="n">terminal</span> <span class="o">=</span> <span class="n">terminal</span> <span class="ow">or</span> <span class="n">linux</span><span class="o">.</span><span class="n">get_default_terminal</span><span class="p">()</span>
    <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">([</span><span class="n">terminal</span><span class="p">,</span> <span class="s2">&quot;-e&quot;</span><span class="p">,</span> <span class="n">shell_command</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.set_regedit" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_regedit</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;REG_SZ&#39;</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s1">&#39;win64&#39;</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.set_regedit" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Add keys to the windows registry.</p>
<p>Path is something like HKEY_CURRENT_USER/Software/Wine/Direct3D</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_regedit</span><span class="p">(</span>
    <span class="n">path</span><span class="p">,</span>
    <span class="n">key</span><span class="p">,</span>
    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;REG_SZ&quot;</span><span class="p">,</span>  <span class="c1"># pylint: disable=redefined-builtin</span>
    <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">arch</span><span class="o">=</span><span class="n">WINE_DEFAULT_ARCH</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Add keys to the windows registry.</span>

<span class="sd">    Path is something like HKEY_CURRENT_USER/Software/Wine/Direct3D</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">formatted_value</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;REG_SZ&quot;</span><span class="p">:</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">value</span><span class="p">,</span>
        <span class="s2">&quot;REG_DWORD&quot;</span><span class="p">:</span> <span class="s2">&quot;dword:&quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">,</span>
        <span class="s2">&quot;REG_BINARY&quot;</span><span class="p">:</span> <span class="s2">&quot;hex:&quot;</span> <span class="o">+</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">),</span>
        <span class="s2">&quot;REG_MULTI_SZ&quot;</span><span class="p">:</span> <span class="s2">&quot;hex(2):&quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">,</span>
        <span class="s2">&quot;REG_EXPAND_SZ&quot;</span><span class="p">:</span> <span class="s2">&quot;hex(7):&quot;</span> <span class="o">+</span> <span class="n">value</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="c1"># Make temporary reg file</span>
    <span class="n">reg_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;winekeys.reg&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">reg_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reg_file</span><span class="p">:</span>
        <span class="n">reg_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;REGEDIT4</span><span class="se">\n\n</span><span class="s1">[</span><span class="si">%s</span><span class="s1">]</span><span class="se">\n</span><span class="s1">&quot;</span><span class="si">%s</span><span class="s1">&quot;=</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">formatted_value</span><span class="p">[</span><span class="nb">type</span><span class="p">]))</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Setting [</span><span class="si">%s</span><span class="s2">]:</span><span class="si">%s</span><span class="s2">=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">formatted_value</span><span class="p">[</span><span class="nb">type</span><span class="p">])</span>
    <span class="n">set_regedit_file</span><span class="p">(</span><span class="n">reg_path</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_path</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">arch</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">reg_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.set_regedit_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_regedit_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s1">&#39;win64&#39;</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.set_regedit_file" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Apply a regedit file to the Windows registry.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_regedit_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">WINE_DEFAULT_ARCH</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Apply a regedit file to the Windows registry.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">arch</span> <span class="o">==</span> <span class="s2">&quot;win64&quot;</span> <span class="ow">and</span> <span class="n">wine_path</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_path</span> <span class="o">+</span> <span class="s2">&quot;64&quot;</span><span class="p">):</span>
        <span class="c1"># Use wine64 by default if set to a 64bit prefix. Using regular wine</span>
        <span class="c1"># will prevent some registry keys from being created. Most likely to be</span>
        <span class="c1"># a bug in Wine. see: https://github.com/lutris/lutris/issues/804</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="n">wine_path</span> <span class="o">+</span> <span class="s2">&quot;64&quot;</span>

    <span class="n">wineexec</span><span class="p">(</span>
        <span class="s2">&quot;regedit&quot;</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="s2">&quot;/S &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">filename</span><span class="p">,</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_path</span><span class="p">,</span>
        <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
        <span class="n">arch</span><span class="o">=</span><span class="n">arch</span><span class="p">,</span>
        <span class="n">blocking</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.winecfg" class="doc doc-heading">
<code class="highlight language-python"><span class="n">winecfg</span><span class="p">(</span><span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s1">&#39;win64&#39;</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.winecfg" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute winecfg.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">winecfg</span><span class="p">(</span><span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">WINE_DEFAULT_ARCH</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute winecfg.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;winecfg: Reverting to default wine&quot;</span><span class="p">)</span>
        <span class="n">wine</span> <span class="o">=</span> <span class="n">import_runner</span><span class="p">(</span><span class="s2">&quot;wine&quot;</span><span class="p">)</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="n">wine</span><span class="p">()</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>

    <span class="n">winecfg_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">),</span> <span class="s2">&quot;winecfg&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;winecfg: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">winecfg_path</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">wineexec</span><span class="p">(</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
        <span class="n">winetricks_wine</span><span class="o">=</span><span class="n">winecfg_path</span><span class="p">,</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="n">winecfg_path</span><span class="p">,</span>
        <span class="n">arch</span><span class="o">=</span><span class="n">arch</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">,</span>
        <span class="n">include_processes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;winecfg.exe&quot;</span><span class="p">],</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.wineexec" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wineexec</span><span class="p">(</span><span class="n">executable</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">winetricks_wine</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">blocking</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_processes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_processes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disable_runtime</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">overrides</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.wineexec" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute a Wine command.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>executable</code></td>
        <td><code>str</code></td>
        <td><p>wine program to run, pass None to run wine itself</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>args</code></td>
        <td><code>str</code></td>
        <td><p>program arguments</p></td>
        <td><code>&#39;&#39;</code></td>
      </tr>
      <tr>
        <td><code>wine_path</code></td>
        <td><code>str</code></td>
        <td><p>path to the wine version to use</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>prefix</code></td>
        <td><code>str</code></td>
        <td><p>path to the wine prefix to use</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>arch</code></td>
        <td><code>str</code></td>
        <td><p>wine architecture of the prefix</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>working_dir</code></td>
        <td><code>str</code></td>
        <td><p>path to the working dir for the process</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>winetricks_wine</code></td>
        <td><code>str</code></td>
        <td><p>path to the wine version used by winetricks</p></td>
        <td><code>&#39;&#39;</code></td>
      </tr>
      <tr>
        <td><code>blocking</code></td>
        <td><code>bool</code></td>
        <td><p>if true, do not run the process in a thread</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>LutrisConfig</code></td>
        <td><p>LutrisConfig object for the process context</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>watch</code></td>
        <td><code>list</code></td>
        <td><p>list of process names to monitor (even when in a ignore list)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>Process results if the process is running in blocking mode or
MonitoredCommand instance otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wineexec</span><span class="p">(</span>  <span class="c1"># noqa: C901</span>
    <span class="n">executable</span><span class="p">,</span>
    <span class="n">args</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">winetricks_wine</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">blocking</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">include_processes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">exclude_processes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">disable_runtime</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">overrides</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Execute a Wine command.</span>

<span class="sd">    Args:</span>
<span class="sd">        executable (str): wine program to run, pass None to run wine itself</span>
<span class="sd">        args (str): program arguments</span>
<span class="sd">        wine_path (str): path to the wine version to use</span>
<span class="sd">        prefix (str): path to the wine prefix to use</span>
<span class="sd">        arch (str): wine architecture of the prefix</span>
<span class="sd">        working_dir (str): path to the working dir for the process</span>
<span class="sd">        winetricks_wine (str): path to the wine version used by winetricks</span>
<span class="sd">        blocking (bool): if true, do not run the process in a thread</span>
<span class="sd">        config (LutrisConfig): LutrisConfig object for the process context</span>
<span class="sd">        watch (list): list of process names to monitor (even when in a ignore list)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Process results if the process is running in blocking mode or</span>
<span class="sd">        MonitoredCommand instance otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">env</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">env</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">exclude_processes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">exclude_processes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">include_processes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">include_processes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">executable</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">executable</span><span class="p">)</span> <span class="k">if</span> <span class="n">executable</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">include_processes</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">include_processes</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">include_processes</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exclude_processes</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">exclude_processes</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">exclude_processes</span><span class="p">)</span>

    <span class="n">wine</span> <span class="o">=</span> <span class="n">import_runner</span><span class="p">(</span><span class="s2">&quot;wine&quot;</span><span class="p">)()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="n">wine</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Wine is not installed&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">working_dir</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">executable</span><span class="p">):</span>
            <span class="n">working_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">executable</span><span class="p">)</span>

    <span class="n">executable</span><span class="p">,</span> <span class="n">_args</span><span class="p">,</span> <span class="n">working_dir</span> <span class="o">=</span> <span class="n">get_real_executable</span><span class="p">(</span><span class="n">executable</span><span class="p">,</span> <span class="n">working_dir</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_args</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> &quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">_args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="c1"># Create prefix if necessary</span>
    <span class="k">if</span> <span class="n">arch</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;win64&quot;</span><span class="p">):</span>
        <span class="n">arch</span> <span class="o">=</span> <span class="n">detect_arch</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">wine_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">detect_prefix_arch</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
        <span class="n">wine_bin</span> <span class="o">=</span> <span class="n">winetricks_wine</span> <span class="k">if</span> <span class="n">winetricks_wine</span> <span class="k">else</span> <span class="n">wine_path</span>
        <span class="n">create_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_bin</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">arch</span><span class="p">)</span>

    <span class="n">wineenv</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;WINEARCH&quot;</span><span class="p">:</span> <span class="n">arch</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">winetricks_wine</span><span class="p">:</span>
        <span class="n">wineenv</span><span class="p">[</span><span class="s2">&quot;WINE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">winetricks_wine</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">wineenv</span><span class="p">[</span><span class="s2">&quot;WINE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">wine_path</span>

    <span class="k">if</span> <span class="n">prefix</span><span class="p">:</span>
        <span class="n">wineenv</span><span class="p">[</span><span class="s2">&quot;WINEPREFIX&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefix</span>

    <span class="n">wine_system_config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">system_config</span> <span class="k">if</span> <span class="n">config</span> <span class="k">else</span> <span class="n">wine</span><span class="o">.</span><span class="n">system_config</span>
    <span class="n">disable_runtime</span> <span class="o">=</span> <span class="n">disable_runtime</span> <span class="ow">or</span> <span class="n">wine_system_config</span><span class="p">[</span><span class="s2">&quot;disable_runtime&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">use_lutris_runtime</span><span class="p">(</span><span class="n">wine_path</span><span class="o">=</span><span class="n">wineenv</span><span class="p">[</span><span class="s2">&quot;WINE&quot;</span><span class="p">],</span> <span class="n">force_disable</span><span class="o">=</span><span class="n">disable_runtime</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">WINE_DIR</span> <span class="ow">in</span> <span class="n">wine_path</span><span class="p">:</span>
            <span class="n">wine_root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">WINE_DIR</span> <span class="ow">in</span> <span class="n">winetricks_wine</span><span class="p">:</span>
            <span class="n">wine_root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">winetricks_wine</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">wine_root_path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">wineenv</span><span class="p">[</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">runtime</span><span class="o">.</span><span class="n">get_paths</span><span class="p">(</span>
                <span class="n">prefer_system_libs</span><span class="o">=</span><span class="n">wine_system_config</span><span class="p">[</span><span class="s2">&quot;prefer_system_libs&quot;</span><span class="p">],</span>
                <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_root_path</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">overrides</span><span class="p">:</span>
        <span class="n">wineenv</span><span class="p">[</span><span class="s2">&quot;WINEDLLOVERRIDES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_overrides_env</span><span class="p">(</span><span class="n">overrides</span><span class="p">)</span>

    <span class="n">baseenv</span> <span class="o">=</span> <span class="n">wine</span><span class="o">.</span><span class="n">get_env</span><span class="p">()</span>
    <span class="n">baseenv</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">wineenv</span><span class="p">)</span>
    <span class="n">baseenv</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>

    <span class="n">command_parameters</span> <span class="o">=</span> <span class="p">[</span><span class="n">wine_path</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">executable</span><span class="p">:</span>
        <span class="n">command_parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">executable</span><span class="p">)</span>
    <span class="n">command_parameters</span> <span class="o">+=</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="n">wine</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">blocking</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">command_parameters</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">wineenv</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="n">working_dir</span><span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="n">MonitoredCommand</span><span class="p">(</span>
        <span class="n">command_parameters</span><span class="p">,</span>
        <span class="n">runner</span><span class="o">=</span><span class="n">wine</span><span class="p">,</span>
        <span class="n">env</span><span class="o">=</span><span class="n">baseenv</span><span class="p">,</span>
        <span class="n">cwd</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
        <span class="n">include_processes</span><span class="o">=</span><span class="n">include_processes</span><span class="p">,</span>
        <span class="n">exclude_processes</span><span class="o">=</span><span class="n">exclude_processes</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">command</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">command</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.winekill" class="doc doc-heading">
<code class="highlight language-python"><span class="n">winekill</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s1">&#39;win64&#39;</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">initial_pids</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.winekill" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Kill processes in Wine prefix.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">winekill</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">WINE_DEFAULT_ARCH</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">initial_pids</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Kill processes in Wine prefix.&quot;&quot;&quot;</span>

    <span class="n">initial_pids</span> <span class="o">=</span> <span class="n">initial_pids</span> <span class="ow">or</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="n">wine</span> <span class="o">=</span> <span class="n">import_runner</span><span class="p">(</span><span class="s2">&quot;wine&quot;</span><span class="p">)</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="n">wine</span><span class="p">()</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="n">wine_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">env</span><span class="p">:</span>
        <span class="n">env</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;WINEARCH&quot;</span><span class="p">:</span> <span class="n">arch</span><span class="p">,</span> <span class="s2">&quot;WINEPREFIX&quot;</span><span class="p">:</span> <span class="n">prefix</span><span class="p">}</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">wine_root</span><span class="p">,</span> <span class="s2">&quot;wineserver&quot;</span><span class="p">),</span> <span class="s2">&quot;-k&quot;</span><span class="p">]</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Killing all wine processes: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Wine prefix: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Wine arch: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">initial_pids</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Initial pids: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">initial_pids</span><span class="p">)</span>

    <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Waiting for wine processes to terminate&quot;</span><span class="p">)</span>
    <span class="c1"># Wineserver needs time to terminate processes</span>
    <span class="n">num_cycles</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">num_cycles</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">running_processes</span> <span class="o">=</span> <span class="p">[</span><span class="n">pid</span> <span class="k">for</span> <span class="n">pid</span> <span class="ow">in</span> <span class="n">initial_pids</span> <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="s2">&quot;/proc/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">pid</span><span class="p">)]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">running_processes</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">if</span> <span class="n">num_cycles</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Some wine processes are still running: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">running_processes</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">break</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Done waiting.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.runners.commands.wine.winetricks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">winetricks</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">silent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">disable_runtime</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.runners.commands.wine.winetricks" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute winetricks.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/commands/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">winetricks</span><span class="p">(</span>
    <span class="n">app</span><span class="p">,</span>
    <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">silent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">disable_runtime</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute winetricks.&quot;&quot;&quot;</span>
    <span class="n">wine_config</span> <span class="o">=</span> <span class="n">config</span> <span class="ow">or</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">runner_slug</span><span class="o">=</span><span class="s2">&quot;wine&quot;</span><span class="p">)</span>
    <span class="n">winetricks_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;winetricks/winetricks&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">wine_config</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;system_winetricks&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">winetricks_path</span><span class="p">)):</span>
        <span class="n">winetricks_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;winetricks&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">winetricks_path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;No installation of winetricks found&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="n">winetricks_wine</span> <span class="o">=</span> <span class="n">wine_path</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">wine</span> <span class="o">=</span> <span class="n">import_runner</span><span class="p">(</span><span class="s2">&quot;wine&quot;</span><span class="p">)</span>
        <span class="n">winetricks_wine</span> <span class="o">=</span> <span class="n">wine</span><span class="p">()</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">arch</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;win64&quot;</span><span class="p">):</span>
        <span class="n">arch</span> <span class="o">=</span> <span class="n">detect_arch</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">winetricks_wine</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">app</span>
    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">silent</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;yes&quot;</span><span class="p">,</span> <span class="s2">&quot;on&quot;</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="s2">&quot;--unattended &quot;</span> <span class="o">+</span> <span class="n">args</span>
    <span class="k">return</span> <span class="n">wineexec</span><span class="p">(</span>
        <span class="kc">None</span><span class="p">,</span>
        <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
        <span class="n">winetricks_wine</span><span class="o">=</span><span class="n">winetricks_wine</span><span class="p">,</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="n">winetricks_path</span><span class="p">,</span>
        <span class="n">arch</span><span class="o">=</span><span class="n">arch</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">,</span>
        <span class="n">disable_runtime</span><span class="o">=</span><span class="n">disable_runtime</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.dolphin" class="doc doc-heading">
        <code>dolphin</code>



<a href="#lutris.runners.dolphin" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Dolphin runner</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.dolphin.dolphin" class="doc doc-heading">
        <code>
dolphin            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.dolphin.dolphin" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">dolphin</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;GameCube and Wii emulator&quot;</span><span class="p">)</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Dolphin&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo GameCube&quot;</span><span class="p">),</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Wii&quot;</span><span class="p">)]</span>
    <span class="n">require_libs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;libOpenGL.so.0&quot;</span><span class="p">,</span> <span class="p">]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;dolphin/dolphin-emu&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ISO file&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;platform&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Platform&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">((</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo GameCube&quot;</span><span class="p">),</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Wii&quot;</span><span class="p">),</span> <span class="s2">&quot;1&quot;</span><span class="p">)),</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;nogui&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No GUI&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable the graphical user interface.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;batch&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Batch&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Exit Dolphin with emulator.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;user_directory&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom Global User Directory&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">selected_platform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;platform&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">selected_platform</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">selected_platform</span><span class="p">)]</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Find the executable</span>
        <span class="n">executable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nogui&quot;</span><span class="p">):</span>
            <span class="n">executable</span> <span class="o">+=</span> <span class="s2">&quot;-nogui&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">executable</span><span class="p">]</span>

        <span class="c1"># Batch isn&#39;t available in nogui</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;batch&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nogui&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--batch&quot;</span><span class="p">)</span>

        <span class="c1"># Custom Global User Directory</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user_directory&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-u&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;user_directory&quot;</span><span class="p">])</span>

        <span class="c1"># Retrieve the path to the file</span>
        <span class="n">iso</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">iso</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">iso</span><span class="p">}</span>
        <span class="n">command</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;-e&quot;</span><span class="p">,</span> <span class="n">iso</span><span class="p">])</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dolphin.dolphin.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.dolphin.dolphin.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dolphin.dolphin.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.dolphin.dolphin.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dolphin.dolphin.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.dolphin.dolphin.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dolphin.dolphin.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.dolphin.dolphin.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dolphin.dolphin.require_libs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">require_libs</span></code>


<a href="#lutris.runners.dolphin.dolphin.require_libs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dolphin.dolphin.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.dolphin.dolphin.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dolphin.dolphin.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.dolphin.dolphin.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dolphin.dolphin.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.dolphin.dolphin.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.dolphin.dolphin.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.dolphin.dolphin.get_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">selected_platform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;platform&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">selected_platform</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">selected_platform</span><span class="p">)]</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.dolphin.dolphin.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.dolphin.dolphin.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/dolphin.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Find the executable</span>
    <span class="n">executable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nogui&quot;</span><span class="p">):</span>
        <span class="n">executable</span> <span class="o">+=</span> <span class="s2">&quot;-nogui&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">executable</span><span class="p">]</span>

    <span class="c1"># Batch isn&#39;t available in nogui</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;batch&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nogui&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--batch&quot;</span><span class="p">)</span>

    <span class="c1"># Custom Global User Directory</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user_directory&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-u&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;user_directory&quot;</span><span class="p">])</span>

    <span class="c1"># Retrieve the path to the file</span>
    <span class="n">iso</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">iso</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">iso</span><span class="p">}</span>
    <span class="n">command</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;-e&quot;</span><span class="p">,</span> <span class="n">iso</span><span class="p">])</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.dosbox" class="doc doc-heading">
        <code>dosbox</code>



<a href="#lutris.runners.dosbox" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.dosbox.dosbox" class="doc doc-heading">
        <code>
dosbox            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.dosbox.dosbox" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/dosbox.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">dosbox</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DOSBox&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;MS-DOS emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;MS-DOS&quot;</span><span class="p">)]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;dosbox/bin/dosbox&quot;</span>
    <span class="n">require_libs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;libopusfile.so.0&quot;</span><span class="p">,</span> <span class="p">]</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Main file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The CONF, EXE, COM or BAT file to launch.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;It can be left blank if the launch of the executable is &quot;</span>
                <span class="s2">&quot;managed in the config file.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;config_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Configuration file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Start DOSBox with the options specified in this file. </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;It can have a section in which you can put commands &quot;</span>
                <span class="s2">&quot;to execute on startup. Read DOSBox&#39;s documentation &quot;</span>
                <span class="s2">&quot;for more information.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Command line arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Command line arguments used when launching DOSBox&quot;</span><span class="p">),</span>
            <span class="s2">&quot;validator&quot;</span><span class="p">:</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;working_dir&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Working directory&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The location where the game is run from.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;By default, Lutris uses the directory of the &quot;</span>
                <span class="s2">&quot;executable.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">scaler_modes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;none&quot;</span><span class="p">),</span> <span class="s2">&quot;none&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;normal2x&quot;</span><span class="p">,</span> <span class="s2">&quot;normal2x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;normal3x&quot;</span><span class="p">,</span> <span class="s2">&quot;normal3x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;hq2x&quot;</span><span class="p">,</span> <span class="s2">&quot;hq2x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;hq3x&quot;</span><span class="p">,</span> <span class="s2">&quot;hq3x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;advmame2x&quot;</span><span class="p">,</span> <span class="s2">&quot;advmame2x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;advmame3x&quot;</span><span class="p">,</span> <span class="s2">&quot;advmame3x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;2xsai&quot;</span><span class="p">,</span> <span class="s2">&quot;2xsai&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;super2xsai&quot;</span><span class="p">,</span> <span class="s2">&quot;super2xsai&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;supereagle&quot;</span><span class="p">,</span> <span class="s2">&quot;supereagle&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;advinterp2x&quot;</span><span class="p">,</span> <span class="s2">&quot;advinterp2x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;advinterp3x&quot;</span><span class="p">,</span> <span class="s2">&quot;advinterp3x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;tv2x&quot;</span><span class="p">,</span> <span class="s2">&quot;tv2x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;tv3x&quot;</span><span class="p">,</span> <span class="s2">&quot;tv3x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;rgb2x&quot;</span><span class="p">,</span> <span class="s2">&quot;rgb2x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;rgb3x&quot;</span><span class="p">,</span> <span class="s2">&quot;rgb3x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;scan2x&quot;</span><span class="p">,</span> <span class="s2">&quot;scan2x&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;scan3x&quot;</span><span class="p">,</span> <span class="s2">&quot;scan3x&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;scaler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Graphic scaler&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span>
            <span class="n">scaler_modes</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="s2">&quot;normal3x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The algorithm used to scale up the game&#39;s base &quot;</span>
              <span class="s2">&quot;resolution, resulting in different visual styles. &quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;exit&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Exit DOSBox with the game&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Shut down DOSBox when the game is quit.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Open game in fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Tells DOSBox to launch the game in fullscreen.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">make_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a guaranteed absolute path&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">path</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;directory&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;directory&quot;</span><span class="p">),</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">main_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">working_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the working directory to use when running the game.&quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;working_dir&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_file</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">working_dir</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">main_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_file</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">main_file</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">main_file</span><span class="p">}</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="k">if</span> <span class="n">main_file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.conf&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-conf&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">main_file</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">main_file</span><span class="p">)</span>
        <span class="c1"># Options</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config_file&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-conf&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">make_absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;config_file&quot;</span><span class="p">]))</span>

        <span class="n">scaler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scaler&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">scaler</span> <span class="ow">and</span> <span class="n">scaler</span> <span class="o">!=</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-scaler&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;scaler&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fullscreen&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;exit&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-exit&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.dosbox.dosbox.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.dosbox.dosbox.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.dosbox.dosbox.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.main_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">main_file</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.dosbox.dosbox.main_file" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.dosbox.dosbox.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.require_libs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">require_libs</span></code>


<a href="#lutris.runners.dosbox.dosbox.require_libs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.dosbox.dosbox.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.dosbox.dosbox.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.dosbox.dosbox.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.scaler_modes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">scaler_modes</span></code>


<a href="#lutris.runners.dosbox.dosbox.scaler_modes" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.dosbox.dosbox.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.dosbox.dosbox.working_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the working directory to use when running the game.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.dosbox.dosbox.make_absolute" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.runners.dosbox.dosbox.make_absolute" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a guaranteed absolute path</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/dosbox.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">make_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a guaranteed absolute path&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;directory&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;directory&quot;</span><span class="p">),</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.dosbox.dosbox.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.dosbox.dosbox.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/dosbox.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">main_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_file</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">main_file</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">main_file</span><span class="p">}</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="k">if</span> <span class="n">main_file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.conf&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-conf&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">main_file</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">main_file</span><span class="p">)</span>
    <span class="c1"># Options</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config_file&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-conf&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">make_absolute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;config_file&quot;</span><span class="p">]))</span>

    <span class="n">scaler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scaler&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">scaler</span> <span class="ow">and</span> <span class="n">scaler</span> <span class="o">!=</span> <span class="s2">&quot;none&quot;</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-scaler&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;scaler&quot;</span><span class="p">])</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fullscreen&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;exit&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-exit&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.easyrpg" class="doc doc-heading">
        <code>easyrpg</code>



<a href="#lutris.runners.easyrpg" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.easyrpg.easyrpg" class="doc doc-heading">
        <code>
easyrpg            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.easyrpg.easyrpg" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/easyrpg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">easyrpg</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;EasyRPG Player&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Runs RPG Maker 2000/2003 games&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">)]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">entry_point_option</span> <span class="o">=</span> <span class="s2">&quot;project_path&quot;</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;easyrpg/easyrpg-player&quot;</span>
    <span class="n">download_url</span> <span class="o">=</span> <span class="s2">&quot;https://easyrpg.org/downloads/player/0.7.0/easyrpg-player-0.7.0-linux.tar.gz&quot;</span>

    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;project_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game directory&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Select the directory of the game. (required)&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;encoding&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Encoding&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Instead of auto detecting the encoding or using the &quot;</span>
                <span class="s2">&quot;one in RPG_RT.ini, the specified encoding is used. &quot;</span>
                <span class="s2">&quot;Use &#39;auto&#39; for automatic detection.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;engine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Engine&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable auto detection of the simulated engine.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Auto&quot;</span><span class="p">),</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPG Maker 2000 engine (v1.00 - v1.10)&quot;</span><span class="p">),</span> <span class="s2">&quot;rpg2k&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPG Maker 2000 engine (v1.50 - v1.51)&quot;</span><span class="p">),</span> <span class="s2">&quot;rpg2kv150&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPG Maker 2000 (English release) engine&quot;</span><span class="p">),</span> <span class="s2">&quot;rpg2ke&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPG Maker 2003 engine (v1.00 - v1.04)&quot;</span><span class="p">),</span> <span class="s2">&quot;rpg2k3&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPG Maker 2003 engine (v1.05 - v1.09a)&quot;</span><span class="p">),</span> <span class="s2">&quot;rpg2k3v105&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPG Maker 2003 (English release) engine&quot;</span><span class="p">),</span> <span class="s2">&quot;rpg2k3e&quot;</span><span class="p">)</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;save_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Save path&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Instead of storing save files in the game directory they &quot;</span>
                <span class="s2">&quot;are stored in the specified path. The directory must exist.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;new_game&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;New game&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Skip the title scene and start a new game directly.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;load_game_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;range&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Load game ID&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Skip the title scene and load SaveXX.lsd. &quot;</span>
                <span class="s2">&quot;Set to &#39;0&#39; to disable.&quot;</span>
            <span class="p">),</span>
            <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;start_map_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;range&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start map ID&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Overwrite the map used for new games and use &quot;</span>
                <span class="s2">&quot;MapXXXX.lmu instead. Set to &#39;0&#39; to disable. &quot;</span>
                <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Incompatible with &#39;Load game ID&#39;.&quot;</span>
            <span class="p">),</span>
            <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">9999</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;start_position&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start position&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Overwrite the party start position and &quot;</span>
                <span class="s2">&quot;move the party to the specified position. &quot;</span>
                <span class="s2">&quot;Provide two numbers separated by a space. &quot;</span>
                <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Incompatible with &#39;Load game ID&#39;.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;start_party&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start party&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Overwrite the starting party members with &quot;</span>
                <span class="s2">&quot;the actors with the specified IDs. Provide &quot;</span>
                <span class="s2">&quot;one to four numbers separated by spaces. &quot;</span>
                <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Incompatible with &#39;Load game ID&#39;.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;battle_test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Monster party&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start a battle test with the specified monster party.&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;record_input&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Record input&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Records all button input to the specified log file.&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;replay_input&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Replay input&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Replays button input from the specified log file, &quot;</span>
                <span class="s2">&quot;as generated by &#39;Record input&#39;. If the RNG seed &quot;</span>
                <span class="s2">&quot;and the state of the save file directory is also &quot;</span>
                <span class="s2">&quot;the same as it was when the log was recorded, this &quot;</span>
                <span class="s2">&quot;should reproduce an identical run to the one recorded.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start in fullscreen mode.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;audio&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable audio&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Switch off to disable audio &quot;</span>
                <span class="s2">&quot;(in case you prefer your own music).&quot;</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable mouse&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Use mouse click for decision and scroll wheel for lists.&quot;</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;touch&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable touch&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use one/two finger tap for decision/cancel.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;hide_title&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hide title&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Hide the title background image and center the command menu.&quot;</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;vsync&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable VSync&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Switch off to disable VSync and use the FPS limit. &quot;</span>
                <span class="s2">&quot;VSync may or may not be supported on all platforms.&quot;</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fps_limit&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;FPS limit&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Set a custom frames per second limit. If unspecified, &quot;</span>
                <span class="s2">&quot;the default is 60 FPS. Set to &#39;0&#39; to disable the frame &quot;</span>
                <span class="s2">&quot;limiter. This option may not be supported on all platforms.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;show_fps&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Show FPS&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable frames per second counter.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disabled&quot;</span><span class="p">),</span> <span class="s2">&quot;off&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen &amp; title bar&quot;</span><span class="p">),</span> <span class="s2">&quot;on&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen, title bar &amp; window&quot;</span><span class="p">),</span> <span class="s2">&quot;full&quot;</span><span class="p">)</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;off&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;seed&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;RNG seed&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Seeds the random number generator&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;test_play&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Test play&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable TestPlay mode.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;rtp&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable RTP&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Switch off to disable support for the Runtime Package (RTP).&quot;</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;rpg2k_rtp_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPG2000 RTP location&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Full path to a directory containing an &quot;</span>
                <span class="s2">&quot;extracted RPG Maker 2000 Run-Time-Package (RTP).&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;rpg2k3_rtp_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPG2003 RTP location&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Full path to a directory containing an &quot;</span>
                <span class="s2">&quot;extracted RPG Maker 2003 Run-Time-Package (RTP).&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;rpg_rtp_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fallback RTP location&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Full path to a directory containing a combined RTP.&quot;</span><span class="p">)</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">game_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">game_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">game_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">game_path</span>

        <span class="c1"># Default to the directory of the entry point</span>
        <span class="n">entry_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_point_option</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">entry_point</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">entry_point</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">env</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="p">)</span>

        <span class="n">rpg2k_rtp_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rpg2k_rtp_path&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rpg2k_rtp_path</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;RPG2K_RTP_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rpg2k_rtp_path</span>

        <span class="n">rpg2k3_rtp_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rpg2k3_rtp_path&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rpg2k3_rtp_path</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;RPG2K3_RTP_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rpg2k3_rtp_path</span>

        <span class="n">rpg_rtp_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rpg_rtp_path&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rpg_rtp_path</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;RPG_RTP_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rpg_rtp_path</span>

        <span class="k">return</span> <span class="n">env</span>

    <span class="k">def</span> <span class="nf">get_runner_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">]:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--window&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;audio&quot;</span><span class="p">]:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--disable-audio&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;mouse&quot;</span><span class="p">]:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--enable-mouse&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;touch&quot;</span><span class="p">]:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--enable-touch&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;hide_title&quot;</span><span class="p">]:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--hide-title&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;vsync&quot;</span><span class="p">]:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-vsync&quot;</span><span class="p">)</span>

        <span class="n">fps_limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fps_limit&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fps_limit</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--fps-limit&quot;</span><span class="p">,</span> <span class="n">fps_limit</span><span class="p">))</span>

        <span class="n">show_fps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_fps&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_fps</span> <span class="o">!=</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--show-fps&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_fps</span> <span class="o">==</span> <span class="s2">&quot;full&quot;</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fps-render-window&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;test_play&quot;</span><span class="p">]:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--test-play&quot;</span><span class="p">)</span>

        <span class="n">seed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seed&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">seed</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--seed&quot;</span><span class="p">,</span> <span class="n">seed</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;rtp&quot;</span><span class="p">]:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--disable-rtp&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cmd</span>

    <span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_command</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_path</span><span class="p">:</span>
            <span class="n">game_path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_path</span><span class="p">)</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--project-path&quot;</span><span class="p">,</span> <span class="n">game_path</span><span class="p">))</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">cmd</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">()}</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No game directory provided&quot;</span><span class="p">)}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory_not_found</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">)</span>

        <span class="n">cmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_command</span><span class="p">()</span>

        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--project-path&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">))</span>

        <span class="n">encoding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">encoding</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--encoding&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="p">))</span>

        <span class="n">engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">engine</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--engine&quot;</span><span class="p">,</span> <span class="n">engine</span><span class="p">))</span>

        <span class="n">save_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;save_path&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">save_path</span><span class="p">:</span>
            <span class="n">save_path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">save_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">save_path</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory_not_found</span><span class="p">(</span><span class="n">save_path</span><span class="p">)</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--save-path&quot;</span><span class="p">,</span> <span class="n">save_path</span><span class="p">))</span>

        <span class="n">record_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;record_input&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">record_input</span><span class="p">:</span>
            <span class="n">record_input</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">record_input</span><span class="p">)</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--record-input&quot;</span><span class="p">,</span> <span class="n">record_input</span><span class="p">))</span>

        <span class="n">replay_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;replay_input&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">replay_input</span><span class="p">:</span>
            <span class="n">replay_input</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">replay_input</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">replay_input</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">replay_input</span><span class="p">}</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--replay-input&quot;</span><span class="p">,</span> <span class="n">replay_input</span><span class="p">))</span>

        <span class="n">load_game_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;load_game_id&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">load_game_id</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--load-game-id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">load_game_id</span><span class="p">)))</span>

        <span class="n">start_map_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_map_id&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start_map_id</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--start-map-id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">start_map_id</span><span class="p">)))</span>

        <span class="n">start_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_position&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start_position</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--start-position&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">start_position</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>

        <span class="n">start_party</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_party&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start_party</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--start-party&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">start_party</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>

        <span class="n">battle_test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;battle_test&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">battle_test</span><span class="p">:</span>
            <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--battle-test&quot;</span><span class="p">,</span> <span class="n">battle_test</span><span class="p">))</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">cmd</span><span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">directory_not_found</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;The directory </span><span class="si">{}</span><span class="s2"> could not be found&quot;</span>
        <span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">directory</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s2">&quot;&amp;amp;&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">error</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.download_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_url</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.download_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.entry_point_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entry_point_option</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.entry_point_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.game_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.easyrpg.easyrpg.game_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the directory where the game is installed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.easyrpg.easyrpg.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.easyrpg.easyrpg.directory_not_found" class="doc doc-heading">
<code class="highlight language-python"><span class="n">directory_not_found</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.easyrpg.easyrpg.directory_not_found" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/easyrpg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">directory_not_found</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
    <span class="n">error</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span>
        <span class="s2">&quot;The directory </span><span class="si">{}</span><span class="s2"> could not be found&quot;</span>
    <span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">directory</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s2">&quot;&amp;amp;&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">error</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.easyrpg.easyrpg.get_env" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.get_env" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return environment variables used for a game.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/easyrpg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">env</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="p">)</span>

    <span class="n">rpg2k_rtp_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rpg2k_rtp_path&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">rpg2k_rtp_path</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;RPG2K_RTP_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rpg2k_rtp_path</span>

    <span class="n">rpg2k3_rtp_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rpg2k3_rtp_path&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">rpg2k3_rtp_path</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;RPG2K3_RTP_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rpg2k3_rtp_path</span>

    <span class="n">rpg_rtp_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rpg_rtp_path&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">rpg_rtp_path</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;RPG_RTP_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rpg_rtp_path</span>

    <span class="k">return</span> <span class="n">env</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.easyrpg.easyrpg.get_run_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.get_run_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return dict with command (exe &amp; args list) and env vars (dict).</p>
<p>Reimplement in derived runner if need be.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/easyrpg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_command</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_path</span><span class="p">:</span>
        <span class="n">game_path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_path</span><span class="p">)</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--project-path&quot;</span><span class="p">,</span> <span class="n">game_path</span><span class="p">))</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">cmd</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.easyrpg.easyrpg.get_runner_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runner_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.get_runner_command" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/easyrpg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_runner_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">]:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--window&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;audio&quot;</span><span class="p">]:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--disable-audio&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;mouse&quot;</span><span class="p">]:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--enable-mouse&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;touch&quot;</span><span class="p">]:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--enable-touch&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;hide_title&quot;</span><span class="p">]:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--hide-title&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;vsync&quot;</span><span class="p">]:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-vsync&quot;</span><span class="p">)</span>

    <span class="n">fps_limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fps_limit&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fps_limit</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--fps-limit&quot;</span><span class="p">,</span> <span class="n">fps_limit</span><span class="p">))</span>

    <span class="n">show_fps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_fps&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_fps</span> <span class="o">!=</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--show-fps&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_fps</span> <span class="o">==</span> <span class="s2">&quot;full&quot;</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fps-render-window&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;test_play&quot;</span><span class="p">]:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--test-play&quot;</span><span class="p">)</span>

    <span class="n">seed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;seed&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">seed</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--seed&quot;</span><span class="p">,</span> <span class="n">seed</span><span class="p">))</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;rtp&quot;</span><span class="p">]:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--disable-rtp&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">cmd</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.easyrpg.easyrpg.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.easyrpg.easyrpg.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/easyrpg.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No game directory provided&quot;</span><span class="p">)}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory_not_found</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">)</span>

    <span class="n">cmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_command</span><span class="p">()</span>

    <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--project-path&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">))</span>

    <span class="n">encoding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;encoding&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">encoding</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--encoding&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="p">))</span>

    <span class="n">engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">engine</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--engine&quot;</span><span class="p">,</span> <span class="n">engine</span><span class="p">))</span>

    <span class="n">save_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;save_path&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">save_path</span><span class="p">:</span>
        <span class="n">save_path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">save_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">save_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">directory_not_found</span><span class="p">(</span><span class="n">save_path</span><span class="p">)</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--save-path&quot;</span><span class="p">,</span> <span class="n">save_path</span><span class="p">))</span>

    <span class="n">record_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;record_input&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">record_input</span><span class="p">:</span>
        <span class="n">record_input</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">record_input</span><span class="p">)</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--record-input&quot;</span><span class="p">,</span> <span class="n">record_input</span><span class="p">))</span>

    <span class="n">replay_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;replay_input&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">replay_input</span><span class="p">:</span>
        <span class="n">replay_input</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">replay_input</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">replay_input</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">replay_input</span><span class="p">}</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--replay-input&quot;</span><span class="p">,</span> <span class="n">replay_input</span><span class="p">))</span>

    <span class="n">load_game_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;load_game_id&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">load_game_id</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--load-game-id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">load_game_id</span><span class="p">)))</span>

    <span class="n">start_map_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_map_id&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">start_map_id</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--start-map-id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">start_map_id</span><span class="p">)))</span>

    <span class="n">start_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_position&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">start_position</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--start-position&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">start_position</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>

    <span class="n">start_party</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_party&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">start_party</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--start-party&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">start_party</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span>

    <span class="n">battle_test</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;battle_test&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">battle_test</span><span class="p">:</span>
        <span class="n">cmd</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;--battle-test&quot;</span><span class="p">,</span> <span class="n">battle_test</span><span class="p">))</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">cmd</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.fsuae" class="doc doc-heading">
        <code>fsuae</code>



<a href="#lutris.runners.fsuae" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.fsuae.fsuae" class="doc doc-heading">
        <code>
fsuae            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.fsuae.fsuae" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/fsuae.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">fsuae</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;FS-UAE&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 500&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 500+&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 600&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 1000&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 1200&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 1200&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 4000&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga CD32&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore CDTV&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">model_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 500&quot;</span><span class="p">),</span> <span class="s2">&quot;A500&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 500+ with 1 MB chip RAM&quot;</span><span class="p">),</span> <span class="s2">&quot;A500+&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 600 with 1 MB chip RAM&quot;</span><span class="p">),</span> <span class="s2">&quot;A600&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 1000 with 512 KB chip RAM&quot;</span><span class="p">),</span> <span class="s2">&quot;A1000&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 1200 with 2 MB chip RAM&quot;</span><span class="p">),</span> <span class="s2">&quot;A1200&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 1200 but with 68020 processor&quot;</span><span class="p">),</span> <span class="s2">&quot;A1200/020&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga 4000 with 2 MB chip RAM and a 68040&quot;</span><span class="p">),</span> <span class="s2">&quot;A4000/040&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga CD32&quot;</span><span class="p">),</span> <span class="s2">&quot;CD32&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore CDTV&quot;</span><span class="p">),</span> <span class="s2">&quot;CDTV&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">cpumodel_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68000&quot;</span><span class="p">),</span> <span class="s2">&quot;68000&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68010&quot;</span><span class="p">),</span> <span class="s2">&quot;68010&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68020 with 24-bit addressing&quot;</span><span class="p">),</span> <span class="s2">&quot;68EC020&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68020&quot;</span><span class="p">),</span> <span class="s2">&quot;68020&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68030 without internal MMU&quot;</span><span class="p">),</span> <span class="s2">&quot;68EC030&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68030&quot;</span><span class="p">),</span> <span class="s2">&quot;68030&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68040 without internal FPU and MMU&quot;</span><span class="p">),</span> <span class="s2">&quot;68EC040&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68040 without internal FPU&quot;</span><span class="p">),</span> <span class="s2">&quot;68LC040&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68040 without internal MMU&quot;</span><span class="p">),</span> <span class="s2">&quot;68040-NOMMU&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68040&quot;</span><span class="p">),</span> <span class="s2">&quot;68040&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68060 without internal FPU and MMU&quot;</span><span class="p">),</span> <span class="s2">&quot;68EC060&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68060 without internal FPU&quot;</span><span class="p">),</span> <span class="s2">&quot;68LC060&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68060 without internal MMU&quot;</span><span class="p">),</span> <span class="s2">&quot;68060-NOMMU&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;68060&quot;</span><span class="p">),</span> <span class="s2">&quot;68060&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Auto&quot;</span><span class="p">),</span> <span class="s2">&quot;auto&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">memory_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">),</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;1 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;1024&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;2 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;2048&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;4 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;4096&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;8 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;8192&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">zorroiii_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">),</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;1 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;1024&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;2 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;2048&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;4 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;4096&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;8 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;8192&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;16 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;16384&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;32 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;32768&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;64 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;65536&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;128 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;131072&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;256 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;262144&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;384 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;393216&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;512 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;524288&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;768 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;786432&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;1 GB&quot;</span><span class="p">),</span> <span class="s2">&quot;1048576&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">flsound_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;25&quot;</span><span class="p">,</span> <span class="s2">&quot;25&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="s2">&quot;50&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;75&quot;</span><span class="p">,</span> <span class="s2">&quot;75&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;100&quot;</span><span class="p">,</span> <span class="s2">&quot;100&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">gpucard_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">,</span> <span class="s2">&quot;None&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;UAEGFX&quot;</span><span class="p">,</span> <span class="s2">&quot;uaegfx&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;UAEGFX Zorro II&quot;</span><span class="p">,</span> <span class="s2">&quot;uaegfx-z2&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;UAEGFX Zorro III&quot;</span><span class="p">,</span> <span class="s2">&quot;uaegfx-z3&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Picasso II Zorro II&quot;</span><span class="p">,</span> <span class="s2">&quot;picasso-ii&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Picasso II+ Zorro II&quot;</span><span class="p">,</span> <span class="s2">&quot;picasso-ii+&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Picasso IV&quot;</span><span class="p">,</span> <span class="s2">&quot;picasso-iv&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Picasso IV Zorro II&quot;</span><span class="p">,</span> <span class="s2">&quot;picasso-iv-z2&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Picasso IV Zorro III&quot;</span><span class="p">,</span> <span class="s2">&quot;picasso-iv-z3&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">gpumem_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">),</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;1 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;1024&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;2 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;2048&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;4 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;4096&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;8 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;8192&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;16 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;16384&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;32 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;32768&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;64 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;65536&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;128 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;131072&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;256 MB&quot;</span><span class="p">),</span> <span class="s2">&quot;262144&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">flspeed_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Turbo&quot;</span><span class="p">),</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;100%&quot;</span><span class="p">,</span> <span class="s2">&quot;100&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;200%&quot;</span><span class="p">,</span> <span class="s2">&quot;200&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;400%&quot;</span><span class="p">,</span> <span class="s2">&quot;400&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;800%&quot;</span><span class="p">,</span> <span class="s2">&quot;800&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;fs-uae/fs-uae&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Boot disk&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The main floppy disk file with the game data. </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;FS-UAE supports floppy images in multiple file formats: &quot;</span>
                <span class="s2">&quot;ADF, IPF, DMS are the most common. ADZ (compressed ADF) &quot;</span>
                <span class="s2">&quot;and ADFs in zip files are a also supported.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Files ending in .hdf will be mounted as hard drives and &quot;</span>
                <span class="s2">&quot;ISOs can be used for Amiga CD32 and CDTV models.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;disks&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;multiple&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Additionnal floppies&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The additional floppy disk image(s).&quot;</span><span class="p">),</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;cdrom_image&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;CD-ROM image&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;CD-ROM image to use on non CD32/CDTV models&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;model&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Amiga model&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">model_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;A500&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Specify the Amiga model you want to emulate.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;kickstart_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Kickstart ROMs location&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Choose the folder containing original Amiga Kickstart &quot;</span>
                <span class="s2">&quot;ROMs. Refer to FS-UAE documentation to find how to &quot;</span>
                <span class="s2">&quot;acquire them. Without these, FS-UAE uses a bundled &quot;</span>
                <span class="s2">&quot;replacement ROM which is less compatible with Amiga &quot;</span>
                <span class="s2">&quot;software.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;kickstart_ext_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Extended Kickstart location&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Location of extended Kickstart used for CD32&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;gfx_fullscreen_amiga&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen (F12 + S to switch)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;scanlines&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Scanlines display style&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Activates a display filter adding scanlines to imitate &quot;</span>
                      <span class="s2">&quot;the displays of yesteryear.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;cpumodel&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;CPU&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">cpumodel_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use this option to override the CPU model in the emulated Amiga. All Amiga &quot;</span>
                      <span class="s2">&quot;models imply a default CPU model, so you only need to use this option if you &quot;</span>
                      <span class="s2">&quot;want to use another CPU.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fmemory&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fast Memory&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">memory_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Specify how much Fast Memory the Amiga model should have.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;ziiimem&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Zorro III RAM&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">zorroiii_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Override the amount of Zorro III Fast memory, specified in KB. Must be a &quot;</span>
                      <span class="s2">&quot;multiple of 1024. The default value depends on [amiga_model]. Requires a &quot;</span>
                      <span class="s2">&quot;processor with 32-bit address bus, (use for example the A1200/020 model).&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fdvolume&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy Drive Volume&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">flsound_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Set volume to 0 to disable floppy drive clicks &quot;</span>
                      <span class="s2">&quot;when the drive is empty. Max volume is 100.&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fdspeed&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy Drive Speed&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">flspeed_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;100&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Set the speed of the emulated floppy drives, in percent. &quot;</span>
                <span class="s2">&quot;For example, you can specify 800 to get an 8x increase in &quot;</span>
                <span class="s2">&quot;speed. Use 0 to specify turbo mode. Turbo mode means that &quot;</span>
                <span class="s2">&quot;all floppy operations complete immediately. The default is 100 for most models.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;grafixcard&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Graphics Card&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">gpucard_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;None&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Use this option to enable a graphics card. This option is none by default, in &quot;</span>
                <span class="s2">&quot;which case only chipset graphics (OCS/ECS/AGA) support is available.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;grafixmemory&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Graphics Card RAM&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">gpumem_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Override the amount of graphics memory on the graphics card. The 0 MB option is &quot;</span>
                <span class="s2">&quot;not really valid, but exists for user interface reasons.&quot;</span>
            <span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;jitcompiler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;JIT Compiler&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;gamemode&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Feral GameMode&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Automatically uses Feral GameMode daemon if available. &quot;</span>
                      <span class="s2">&quot;Set to true to disable the feature.&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;govwarning&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;CPU governor warning&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Warn if running with a CPU governor other than performance. &quot;</span>
              <span class="s2">&quot;Set to true to disable the warning.&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;bsdsocket&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;UAE bsdsocket.library&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">model</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">machine</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_choices</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">machine</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">model</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_absolute_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the absolute path for a file&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">path</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert_floppies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">disks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">main_disk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">main_disk</span><span class="p">:</span>
            <span class="n">disks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">main_disk</span><span class="p">)</span>

        <span class="n">game_disks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;disks&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">disk</span> <span class="ow">in</span> <span class="n">game_disks</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">disk</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">disks</span><span class="p">:</span>
                <span class="n">disks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">disk</span><span class="p">)</span>
        <span class="c1"># Make all paths absolute</span>
        <span class="n">disks</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="n">disk</span><span class="p">)</span> <span class="k">for</span> <span class="n">disk</span> <span class="ow">in</span> <span class="n">disks</span><span class="p">]</span>
        <span class="n">drives</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">floppy_images</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">drive</span><span class="p">,</span> <span class="n">disk_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">disks</span><span class="p">):</span>
            <span class="n">disk_param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_disk_param</span><span class="p">(</span><span class="n">disk_path</span><span class="p">)</span>
            <span class="n">drives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--</span><span class="si">%s</span><span class="s2">_</span><span class="si">%d</span><span class="s2">=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">disk_param</span><span class="p">,</span> <span class="n">drive</span><span class="p">,</span> <span class="n">disk_path</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">disk_param</span> <span class="o">==</span> <span class="s2">&quot;floppy_drive&quot;</span><span class="p">:</span>
                <span class="n">floppy_images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--floppy_image_</span><span class="si">%d</span><span class="s2">=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">drive</span><span class="p">,</span> <span class="n">disk_path</span><span class="p">))</span>
        <span class="n">cdrom_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cdrom_image&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cdrom_image</span><span class="p">:</span>
            <span class="n">drives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--cdrom_drive_0=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="n">cdrom_image</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">drives</span> <span class="o">+</span> <span class="n">floppy_images</span>

    <span class="k">def</span> <span class="nf">get_disk_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">disk_path</span><span class="p">):</span>
        <span class="n">amiga_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">amiga_model</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;CD32&quot;</span><span class="p">,</span> <span class="s2">&quot;CDTV&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;cdrom_drive&quot;</span>
        <span class="k">if</span> <span class="n">disk_path</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.hdf&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;hard_drive&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;floppy_drive&quot;</span>

    <span class="k">def</span> <span class="nf">get_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-branches</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">option_params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;kickstart_file&quot;</span><span class="p">:</span> <span class="s2">&quot;--kickstart_file=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kickstart_ext_file&quot;</span><span class="p">:</span> <span class="s2">&quot;--kickstart_ext_file=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;--amiga_model=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cpumodel&quot;</span><span class="p">:</span> <span class="s2">&quot;--cpu=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fmemory&quot;</span><span class="p">:</span> <span class="s2">&quot;--fast_memory=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ziiimem&quot;</span><span class="p">:</span> <span class="s2">&quot;--zorro_iii_memory=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fdvolume&quot;</span><span class="p">:</span> <span class="s2">&quot;--floppy_drive_volume=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fdspeed&quot;</span><span class="p">:</span> <span class="s2">&quot;--floppy_drive_speed=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grafixcard&quot;</span><span class="p">:</span> <span class="s2">&quot;--graphics_card=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grafixmemory&quot;</span><span class="p">:</span> <span class="s2">&quot;--graphics_memory=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">option</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">option_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">option_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">option_value</span><span class="p">:</span>
                <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param</span> <span class="o">%</span> <span class="n">option_value</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gfx_fullscreen_amiga&quot;</span><span class="p">):</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
            <span class="c1"># params.append(&quot;--fullscreen_mode=fullscreen-window&quot;)</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen_mode=fullscreen&quot;</span><span class="p">)</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen_width=</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">width</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jitcompiler&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--jit_compiler=1&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bsdsocket&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--bsdsocket_library=1&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gamemode&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--game_mode=0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;govwarning&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--governor_warning=0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scanlines&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--scanlines=1&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">params</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_params</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_floppies</span><span class="p">()}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.cpumodel_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cpumodel_choices</span></code>


<a href="#lutris.runners.fsuae.fsuae.cpumodel_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.fsuae.fsuae.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.flsound_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flsound_choices</span></code>


<a href="#lutris.runners.fsuae.fsuae.flsound_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.flspeed_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flspeed_choices</span></code>


<a href="#lutris.runners.fsuae.fsuae.flspeed_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.fsuae.fsuae.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.gpucard_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">gpucard_choices</span></code>


<a href="#lutris.runners.fsuae.fsuae.gpucard_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.gpumem_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">gpumem_choices</span></code>


<a href="#lutris.runners.fsuae.fsuae.gpumem_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.fsuae.fsuae.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.memory_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">memory_choices</span></code>


<a href="#lutris.runners.fsuae.fsuae.memory_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.model_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_choices</span></code>


<a href="#lutris.runners.fsuae.fsuae.model_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.fsuae.fsuae.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.fsuae.fsuae.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.fsuae.fsuae.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.fsuae.fsuae.zorroiii_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">zorroiii_choices</span></code>


<a href="#lutris.runners.fsuae.fsuae.zorroiii_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.fsuae.fsuae.get_absolute_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_absolute_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.runners.fsuae.fsuae.get_absolute_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the absolute path for a file</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/fsuae.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_absolute_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the absolute path for a file&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">path</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.fsuae.fsuae.get_disk_param" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_disk_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">disk_path</span><span class="p">)</span></code>


<a href="#lutris.runners.fsuae.fsuae.get_disk_param" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/fsuae.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_disk_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">disk_path</span><span class="p">):</span>
    <span class="n">amiga_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">amiga_model</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;CD32&quot;</span><span class="p">,</span> <span class="s2">&quot;CDTV&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;cdrom_drive&quot;</span>
    <span class="k">if</span> <span class="n">disk_path</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.hdf&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;hard_drive&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;floppy_drive&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.fsuae.fsuae.get_params" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_params</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.fsuae.fsuae.get_params" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/fsuae.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-branches</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">option_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;kickstart_file&quot;</span><span class="p">:</span> <span class="s2">&quot;--kickstart_file=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kickstart_ext_file&quot;</span><span class="p">:</span> <span class="s2">&quot;--kickstart_ext_file=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;--amiga_model=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cpumodel&quot;</span><span class="p">:</span> <span class="s2">&quot;--cpu=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fmemory&quot;</span><span class="p">:</span> <span class="s2">&quot;--fast_memory=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ziiimem&quot;</span><span class="p">:</span> <span class="s2">&quot;--zorro_iii_memory=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fdvolume&quot;</span><span class="p">:</span> <span class="s2">&quot;--floppy_drive_volume=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fdspeed&quot;</span><span class="p">:</span> <span class="s2">&quot;--floppy_drive_speed=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grafixcard&quot;</span><span class="p">:</span> <span class="s2">&quot;--graphics_card=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grafixmemory&quot;</span><span class="p">:</span> <span class="s2">&quot;--graphics_memory=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">option</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">option_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">option_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">option_value</span><span class="p">:</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param</span> <span class="o">%</span> <span class="n">option_value</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gfx_fullscreen_amiga&quot;</span><span class="p">):</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
        <span class="c1"># params.append(&quot;--fullscreen_mode=fullscreen-window&quot;)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen_mode=fullscreen&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen_width=</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">width</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;jitcompiler&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--jit_compiler=1&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bsdsocket&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--bsdsocket_library=1&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;gamemode&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--game_mode=0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;govwarning&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--governor_warning=0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scanlines&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--scanlines=1&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">params</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.fsuae.fsuae.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.fsuae.fsuae.get_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/fsuae.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">model</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">machine</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_choices</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">machine</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">model</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.fsuae.fsuae.insert_floppies" class="doc doc-heading">
<code class="highlight language-python"><span class="n">insert_floppies</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.fsuae.fsuae.insert_floppies" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/fsuae.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">insert_floppies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">disks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">main_disk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">main_disk</span><span class="p">:</span>
        <span class="n">disks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">main_disk</span><span class="p">)</span>

    <span class="n">game_disks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;disks&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">disk</span> <span class="ow">in</span> <span class="n">game_disks</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">disk</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">disks</span><span class="p">:</span>
            <span class="n">disks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">disk</span><span class="p">)</span>
    <span class="c1"># Make all paths absolute</span>
    <span class="n">disks</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="n">disk</span><span class="p">)</span> <span class="k">for</span> <span class="n">disk</span> <span class="ow">in</span> <span class="n">disks</span><span class="p">]</span>
    <span class="n">drives</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">floppy_images</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">drive</span><span class="p">,</span> <span class="n">disk_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">disks</span><span class="p">):</span>
        <span class="n">disk_param</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_disk_param</span><span class="p">(</span><span class="n">disk_path</span><span class="p">)</span>
        <span class="n">drives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--</span><span class="si">%s</span><span class="s2">_</span><span class="si">%d</span><span class="s2">=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">disk_param</span><span class="p">,</span> <span class="n">drive</span><span class="p">,</span> <span class="n">disk_path</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">disk_param</span> <span class="o">==</span> <span class="s2">&quot;floppy_drive&quot;</span><span class="p">:</span>
            <span class="n">floppy_images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--floppy_image_</span><span class="si">%d</span><span class="s2">=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">drive</span><span class="p">,</span> <span class="n">disk_path</span><span class="p">))</span>
    <span class="n">cdrom_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cdrom_image&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cdrom_image</span><span class="p">:</span>
        <span class="n">drives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--cdrom_drive_0=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_absolute_path</span><span class="p">(</span><span class="n">cdrom_image</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">drives</span> <span class="o">+</span> <span class="n">floppy_images</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.fsuae.fsuae.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.fsuae.fsuae.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/fsuae.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_params</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_floppies</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.hatari" class="doc doc-heading">
        <code>hatari</code>



<a href="#lutris.runners.hatari" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.hatari.hatari" class="doc doc-heading">
        <code>
hatari            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.hatari.hatari" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/hatari.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">hatari</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hatari&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Atari ST computers emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Atari ST&quot;</span><span class="p">)]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;hatari/bin/hatari&quot;</span>
    <span class="n">entry_point_option</span> <span class="o">=</span> <span class="s2">&quot;disk-a&quot;</span>

    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;disk-a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy Disk A&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Hatari supports floppy disk images in the following &quot;</span>
                <span class="s2">&quot;formats: ST, DIM, MSA, STX, IPF, RAW and CRT. The last &quot;</span>
                <span class="s2">&quot;three require the caps library (capslib). ZIP is &quot;</span>
                <span class="s2">&quot;supported, you don&#39;t need to uncompress the file.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;disk-b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy Disk B&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Hatari supports floppy disk images in the following &quot;</span>
                <span class="s2">&quot;formats: ST, DIM, MSA, STX, IPF, RAW and CRT. The last &quot;</span>
                <span class="s2">&quot;three require the caps library (capslib). ZIP is &quot;</span>
                <span class="s2">&quot;supported, you don&#39;t need to uncompress the file.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">joystick_choices</span> <span class="o">=</span> <span class="p">[(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">),</span> <span class="s2">&quot;none&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Keyboard&quot;</span><span class="p">),</span> <span class="s2">&quot;keys&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Joystick&quot;</span><span class="p">),</span> <span class="s2">&quot;real&quot;</span><span class="p">)]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;bios_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Bios file (TOS)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;TOS is the operating system of the Atari ST &quot;</span>
                <span class="s2">&quot;and is necessary to run applications with the best &quot;</span>
                <span class="s2">&quot;fidelity, minimizing risks of issues.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;TOS 1.02 is recommended for games.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;zoom&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Scale up display by 2 (Atari ST/STE)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Double the screen size in windowed mode.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;borders&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Add borders to display&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Useful for some games and demos using the overscan &quot;</span>
                <span class="s2">&quot;technique. The Atari ST displayed borders around the &quot;</span>
                <span class="s2">&quot;screen because it was not powerful enough to display &quot;</span>
                <span class="s2">&quot;graphics in fullscreen. But people from the demo scene &quot;</span>
                <span class="s2">&quot;were able to remove them and some games made use of &quot;</span>
                <span class="s2">&quot;this technique.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;status&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Display status bar&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Displays a status bar with some useful information, &quot;</span>
                <span class="s2">&quot;like green leds lighting up when the floppy disks are &quot;</span>
                <span class="s2">&quot;read.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;joy0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Joystick 1&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">joystick_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;joy1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Joystick 2&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">joystick_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="n">bios_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.hatari/bios&quot;</span><span class="p">)</span>
            <span class="n">dlg</span> <span class="o">=</span> <span class="n">QuestionDialog</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Do you want to select an Atari ST BIOS file?&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use BIOS file?&quot;</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">result</span> <span class="o">==</span> <span class="n">dlg</span><span class="o">.</span><span class="n">YES</span><span class="p">:</span>
                <span class="n">bios_dlg</span> <span class="o">=</span> <span class="n">FileDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Select a BIOS file&quot;</span><span class="p">))</span>
                <span class="n">bios_filename</span> <span class="o">=</span> <span class="n">bios_dlg</span><span class="o">.</span><span class="n">filename</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">bios_filename</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">bios_filename</span><span class="p">,</span> <span class="n">bios_path</span><span class="p">)</span>
                <span class="n">bios_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bios_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">bios_filename</span><span class="p">))</span>
                <span class="n">config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">runner_slug</span><span class="o">=</span><span class="s2">&quot;hatari&quot;</span><span class="p">)</span>
                <span class="n">config</span><span class="o">.</span><span class="n">raw_runner_config</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;bios_file&quot;</span><span class="p">:</span> <span class="n">bios_path</span><span class="p">})</span>
                <span class="n">config</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
                <span class="n">callback</span><span class="p">()</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">on_runner_installed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-branches</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--window&quot;</span><span class="p">)</span>

        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--zoom&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;zoom&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>

        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--borders&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;borders&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;true&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;false&quot;</span><span class="p">)</span>

        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--statusbar&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;true&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;false&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;joy0&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--joy0&quot;</span><span class="p">)</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;joy0&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;joy1&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--joy1&quot;</span><span class="p">)</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;joy1&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bios_file&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--tos&quot;</span><span class="p">)</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;bios_file&quot;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NO_BIOS&quot;</span><span class="p">}</span>
        <span class="n">diska</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;disk-a&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">diska</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">diska</span><span class="p">}</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--disk-a&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">diska</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">params</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.hatari.hatari.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.entry_point_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entry_point_option</span></code>


<a href="#lutris.runners.hatari.hatari.entry_point_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.hatari.hatari.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.hatari.hatari.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.joystick_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">joystick_choices</span></code>


<a href="#lutris.runners.hatari.hatari.joystick_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.hatari.hatari.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.hatari.hatari.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.hatari.hatari.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.hatari.hatari.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.hatari.hatari.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.hatari.hatari.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.hatari.hatari.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/hatari.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">bios_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.hatari/bios&quot;</span><span class="p">)</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">QuestionDialog</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Do you want to select an Atari ST BIOS file?&quot;</span><span class="p">),</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use BIOS file?&quot;</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">result</span> <span class="o">==</span> <span class="n">dlg</span><span class="o">.</span><span class="n">YES</span><span class="p">:</span>
            <span class="n">bios_dlg</span> <span class="o">=</span> <span class="n">FileDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Select a BIOS file&quot;</span><span class="p">))</span>
            <span class="n">bios_filename</span> <span class="o">=</span> <span class="n">bios_dlg</span><span class="o">.</span><span class="n">filename</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">bios_filename</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">bios_filename</span><span class="p">,</span> <span class="n">bios_path</span><span class="p">)</span>
            <span class="n">bios_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bios_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">bios_filename</span><span class="p">))</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">runner_slug</span><span class="o">=</span><span class="s2">&quot;hatari&quot;</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">raw_runner_config</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;bios_file&quot;</span><span class="p">:</span> <span class="n">bios_path</span><span class="p">})</span>
            <span class="n">config</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">()</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">on_runner_installed</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.hatari.hatari.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.hatari.hatari.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/hatari.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-branches</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--window&quot;</span><span class="p">)</span>

    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--zoom&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;zoom&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>

    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--borders&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;borders&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;true&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;false&quot;</span><span class="p">)</span>

    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--statusbar&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;true&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;false&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;joy0&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--joy0&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;joy0&quot;</span><span class="p">])</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;joy1&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--joy1&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;joy1&quot;</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bios_file&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--tos&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;bios_file&quot;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NO_BIOS&quot;</span><span class="p">}</span>
    <span class="n">diska</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;disk-a&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">diska</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">diska</span><span class="p">}</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--disk-a&quot;</span><span class="p">)</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">diska</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">params</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.json" class="doc doc-heading">
        <code>json</code>



<a href="#lutris.runners.json" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Base class and utilities for JSON based runners</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.json.JSON_RUNNER_DIRS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">JSON_RUNNER_DIRS</span></code>


<a href="#lutris.runners.json.JSON_RUNNER_DIRS" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.json.JsonRunner" class="doc doc-heading">
        <code>
JsonRunner            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.json.JsonRunner" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/json.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">JsonRunner</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">json_path</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">json_path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Create subclasses of JsonRunner with the json_path attribute set&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">game_options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;game_options&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_options&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">human_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;human_name&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;platforms&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">system_options_override</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;system_options_override&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_point_option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entry_point_option&quot;</span><span class="p">,</span> <span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">download_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;download_url&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a launchable command constructed from the options&quot;&quot;&quot;</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;bool&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]):</span>
                    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;argument&quot;</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;choice&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span>
                    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;argument&quot;</span><span class="p">])</span>
                    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unhandled type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">])</span>
        <span class="n">main_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_point_option</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">main_file</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">main_file</span><span class="p">}</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">main_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.json.JsonRunner.json_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json_path</span></code>


<a href="#lutris.runners.json.JsonRunner.json_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.json.JsonRunner.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.json.JsonRunner.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/json.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">json_path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Create subclasses of JsonRunner with the json_path attribute set&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">game_options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;game_options&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_options&quot;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">human_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;human_name&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;platforms&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="p">[</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">system_options_override</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;system_options_override&quot;</span><span class="p">,</span> <span class="p">[])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">entry_point_option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entry_point_option&quot;</span><span class="p">,</span> <span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">download_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;download_url&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.json.JsonRunner.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.json.JsonRunner.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a launchable command constructed from the options</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/json.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a launchable command constructed from the options&quot;&quot;&quot;</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;bool&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]):</span>
                <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;argument&quot;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;choice&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span>
                <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;argument&quot;</span><span class="p">])</span>
                <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unhandled type </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">option</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">])</span>
    <span class="n">main_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_point_option</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">main_file</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">main_file</span><span class="p">}</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">main_file</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.json.load_json_runners" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_json_runners</span><span class="p">()</span></code>


<a href="#lutris.runners.json.load_json_runners" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/json.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_json_runners</span><span class="p">():</span>
    <span class="n">json_runners</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">json_dir</span> <span class="ow">in</span> <span class="n">JSON_RUNNER_DIRS</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">json_dir</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">json_path</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">json_dir</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">json_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.json&quot;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">runner_name</span> <span class="o">=</span> <span class="n">json_path</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
            <span class="n">runner_class</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span>
                <span class="n">runner_name</span><span class="p">,</span>
                <span class="p">(</span><span class="n">JsonRunner</span><span class="p">,</span> <span class="p">),</span>
                <span class="p">{</span><span class="s1">&#39;json_path&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">json_dir</span><span class="p">,</span> <span class="n">json_path</span><span class="p">)}</span>
            <span class="p">)</span>
            <span class="n">json_runners</span><span class="p">[</span><span class="n">runner_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">runner_class</span>
    <span class="k">return</span> <span class="n">json_runners</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.jzintv" class="doc doc-heading">
        <code>jzintv</code>



<a href="#lutris.runners.jzintv" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.jzintv.jzintv" class="doc doc-heading">
        <code>
jzintv            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.jzintv.jzintv" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/jzintv.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">jzintv</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;jzIntv&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Intellivision Emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Intellivision&quot;</span><span class="p">)]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;jzintv/bin/jzintv&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The game data, commonly called a ROM image. </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Supported formats: ROM, BIN+CFG, INT, ITV </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;The file extension must be lower-case.&quot;</span>
            <span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;bios_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Bios location&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Choose the folder containing the Intellivision BIOS &quot;</span>
                <span class="s2">&quot;files (exec.bin and grom.bin).</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;These files contain code from the original hardware &quot;</span>
                <span class="s2">&quot;necessary to the emulation.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;resolution&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Resolution&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="p">(</span><span class="s2">&quot;320 x 200&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;640 x 480&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;800 x 400&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;800 x 600&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;1024 x 768&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;1680 x 1050&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;1600 x 1200&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run Intellivision game&quot;&quot;&quot;</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="n">selected_resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;resolution&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">selected_resolution</span><span class="p">:</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="n">arguments</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;-z</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">selected_resolution</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="n">arguments</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;-f&quot;</span><span class="p">]</span>

        <span class="n">bios_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bios_path&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">bios_path</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--execimg=</span><span class="si">%s</span><span class="s2">/exec.bin&quot;</span> <span class="o">%</span> <span class="n">bios_path</span><span class="p">)</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--gromimg=</span><span class="si">%s</span><span class="s2">/grom.bin&quot;</span> <span class="o">%</span> <span class="n">bios_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NO_BIOS&quot;</span><span class="p">}</span>
        <span class="n">rom_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom_path</span><span class="p">}</span>
        <span class="n">romdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">rom_path</span><span class="p">)</span>
        <span class="n">romfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">rom_path</span><span class="p">)</span>
        <span class="n">arguments</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;--rom-path=</span><span class="si">%s</span><span class="s2">/&quot;</span> <span class="o">%</span> <span class="n">romdir</span><span class="p">]</span>
        <span class="n">arguments</span> <span class="o">+=</span> <span class="p">[</span><span class="n">romfile</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.jzintv.jzintv.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.jzintv.jzintv.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.jzintv.jzintv.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.jzintv.jzintv.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.jzintv.jzintv.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.jzintv.jzintv.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.jzintv.jzintv.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.jzintv.jzintv.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.jzintv.jzintv.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.jzintv.jzintv.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.jzintv.jzintv.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.jzintv.jzintv.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.jzintv.jzintv.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.jzintv.jzintv.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run Intellivision game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/jzintv.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run Intellivision game&quot;&quot;&quot;</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="n">selected_resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;resolution&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">selected_resolution</span><span class="p">:</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">arguments</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;-z</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">selected_resolution</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">arguments</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;-f&quot;</span><span class="p">]</span>

    <span class="n">bios_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bios_path&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">bios_path</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--execimg=</span><span class="si">%s</span><span class="s2">/exec.bin&quot;</span> <span class="o">%</span> <span class="n">bios_path</span><span class="p">)</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--gromimg=</span><span class="si">%s</span><span class="s2">/grom.bin&quot;</span> <span class="o">%</span> <span class="n">bios_path</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NO_BIOS&quot;</span><span class="p">}</span>
    <span class="n">rom_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom_path</span><span class="p">}</span>
    <span class="n">romdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">rom_path</span><span class="p">)</span>
    <span class="n">romfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">rom_path</span><span class="p">)</span>
    <span class="n">arguments</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;--rom-path=</span><span class="si">%s</span><span class="s2">/&quot;</span> <span class="o">%</span> <span class="n">romdir</span><span class="p">]</span>
    <span class="n">arguments</span> <span class="o">+=</span> <span class="p">[</span><span class="n">romfile</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.libretro" class="doc doc-heading">
        <code>libretro</code>



<a href="#lutris.runners.libretro" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>libretro runner</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.libretro.LIBRETRO_CORES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">LIBRETRO_CORES</span></code>


<a href="#lutris.runners.libretro.LIBRETRO_CORES" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.libretro.libretro" class="doc doc-heading">
        <code>
libretro            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.libretro.libretro" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">libretro</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Libretro&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Multi-system emulator&quot;</span><span class="p">)</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;retroarch/retroarch&quot;</span>

    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;core&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Core&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">get_core_choices</span><span class="p">(),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;config_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Config file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;retroarch.cfg&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;verbose&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Verbose logging&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">platforms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">core</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">core</span> <span class="ow">in</span> <span class="n">LIBRETRO_CORES</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">game_core</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">game_core</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Game don&#39;t have a core set&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">core</span> <span class="ow">in</span> <span class="n">LIBRETRO_CORES</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">core</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">game_core</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">core</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; not found in Libretro cores&quot;</span><span class="p">,</span> <span class="n">game_core</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_core_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the path of a core, prioritizing Retroarch cores&quot;&quot;&quot;</span>
        <span class="n">lutris_cores_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;retroarch&quot;</span><span class="p">,</span> <span class="s2">&quot;cores&quot;</span><span class="p">)</span>
        <span class="n">retroarch_core_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.config/retroarch/cores&quot;</span><span class="p">))</span>
        <span class="n">core_filename</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_libretro.so&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">core</span><span class="p">)</span>
        <span class="n">retroarch_core</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">retroarch_core_folder</span><span class="p">,</span> <span class="n">core_filename</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">retroarch_core</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">retroarch_core</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lutris_cores_folder</span><span class="p">,</span> <span class="n">core_filename</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_default</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;core&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">is_retroarch_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">core</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">):</span>
            <span class="n">core</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;core&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">core</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_retroarch_installed</span><span class="p">()</span>
        <span class="n">is_core_installed</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_core_path</span><span class="p">(</span><span class="n">core</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_retroarch_installed</span><span class="p">()</span> <span class="ow">and</span> <span class="n">is_core_installed</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">captured_super</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span>  <span class="c1"># super() does not work inside install_core()</span>

        <span class="k">def</span> <span class="nf">install_core</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
                    <span class="n">callback</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">captured_super</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_retroarch_installed</span><span class="p">():</span>
            <span class="n">captured_super</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">install_core</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">captured_super</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_parameters</span><span class="p">(),</span>
            <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;retroarch.cfg&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_system_directory</span><span class="p">(</span><span class="n">retro_config</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the system directory used for storing BIOS and firmwares.&quot;&quot;&quot;</span>
        <span class="n">system_directory</span> <span class="o">=</span> <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;system_directory&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system_directory</span> <span class="ow">or</span> <span class="n">system_directory</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="n">system_directory</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;system&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">system_directory</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># pylint: disable=too-many-locals,too-many-branches,too-many-statements</span>
        <span class="n">config_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_file</span><span class="p">()</span>
        <span class="c1"># TODO: review later</span>
        <span class="c1"># Create retroarch.cfg if it doesn&#39;t exist.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;# Lutris RetroArch Configuration&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="c1"># Build the default config settings.</span>
            <span class="n">retro_config</span> <span class="o">=</span> <span class="n">RetroConfig</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;libretro_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;cores&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;libretro_info_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;content_database_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;database/rdb&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;cheat_database_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;database/cht&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;cursor_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;database/cursors&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;screenshot_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;screenshots&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;input_remapping_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;remaps&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;video_shader_dir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;shaders&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;core_assets_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;downloads&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;thumbnails_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;thumbnails&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;playlist_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;playlists&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;joypad_autoconfig_dir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;autoconfig&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;rgui_config_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;overlay_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;overlay&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;assets_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;assets&quot;</span><span class="p">)</span>
            <span class="n">retro_config</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">retro_config</span> <span class="o">=</span> <span class="n">RetroConfig</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

        <span class="n">core</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">)</span>
        <span class="n">info_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">),</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_libretro.info&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">core</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">info_file</span><span class="p">):</span>
            <span class="n">retro_config</span> <span class="o">=</span> <span class="n">RetroConfig</span><span class="p">(</span><span class="n">info_file</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">firmware_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;firmware_count&quot;</span><span class="p">])</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">firmware_count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">system_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system_directory</span><span class="p">(</span><span class="n">retro_config</span><span class="p">)</span>
            <span class="n">notes</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;notes&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">checksums</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">notes</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Suggested md5sums:&quot;</span><span class="p">):</span>
                <span class="n">parts</span> <span class="o">=</span> <span class="n">notes</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">checksum</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; = &quot;</span><span class="p">)</span>
                    <span class="n">checksums</span><span class="p">[</span><span class="n">filename</span><span class="p">]</span> <span class="o">=</span> <span class="n">checksum</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">firmware_count</span><span class="p">):</span>
                <span class="n">firmware_filename</span> <span class="o">=</span> <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;firmware</span><span class="si">%d</span><span class="s2">_path&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">]</span>
                <span class="n">firmware_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_path</span><span class="p">,</span> <span class="n">firmware_filename</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">firmware_path</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">firmware_filename</span> <span class="ow">in</span> <span class="n">checksums</span><span class="p">:</span>
                        <span class="n">checksum</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_md5_hash</span><span class="p">(</span><span class="n">firmware_path</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">checksum</span> <span class="o">==</span> <span class="n">checksums</span><span class="p">[</span><span class="n">firmware_filename</span><span class="p">]:</span>
                            <span class="n">checksum_status</span> <span class="o">=</span> <span class="s2">&quot;Checksum good&quot;</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">checksum_status</span> <span class="o">=</span> <span class="s2">&quot;Checksum failed&quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">checksum_status</span> <span class="o">=</span> <span class="s2">&quot;No checksum info&quot;</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Firmware &#39;</span><span class="si">%s</span><span class="s2">&#39; found (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">firmware_filename</span><span class="p">,</span> <span class="n">checksum_status</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Firmware &#39;</span><span class="si">%s</span><span class="s2">&#39; not found!&quot;</span><span class="p">,</span> <span class="n">firmware_filename</span><span class="p">)</span>

                <span class="c1"># Before closing issue #431</span>
                <span class="c1"># TODO check for firmware*_opt and display an error message if</span>
                <span class="c1"># firmware is missing</span>
                <span class="c1"># TODO Add dialog for copying the firmware in the correct</span>
                <span class="c1"># location</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get_runner_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Fullscreen</span>
        <span class="n">fullscreen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fullscreen</span><span class="p">:</span>
            <span class="n">parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>

        <span class="c1"># Verbose</span>
        <span class="n">verbose</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="n">parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--verbose&quot;</span><span class="p">)</span>

        <span class="n">parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--config=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_file</span><span class="p">()))</span>
        <span class="k">return</span> <span class="n">parameters</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="n">command</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_parameters</span><span class="p">()</span>

        <span class="c1"># Core</span>
        <span class="n">core</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">core</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No core has been selected for this game&quot;</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--libretro=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_core_path</span><span class="p">(</span><span class="n">core</span><span class="p">)))</span>

        <span class="c1"># Ensure the core is available</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">(</span><span class="n">core</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">core</span><span class="p">)</span>

        <span class="c1"># Main file</span>
        <span class="n">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No game file specified&quot;</span><span class="p">)}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">file</span><span class="p">}</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>

    <span class="c1"># Checks whether the retroarch or libretro directories can be uninstalled.</span>
    <span class="k">def</span> <span class="nf">can_uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">retroarch_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s1">&#39;retroarch&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">retroarch_path</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">can_uninstall</span><span class="p">()</span>

    <span class="c1"># Remove the `retroarch` directory.</span>
    <span class="k">def</span> <span class="nf">uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">retroarch_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s1">&#39;retroarch&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">retroarch_path</span><span class="p">):</span>
            <span class="n">system</span><span class="o">.</span><span class="n">remove_folder</span><span class="p">(</span><span class="n">retroarch_path</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">uninstall</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.libretro.libretro.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.libretro.libretro.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.libretro.libretro.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.libretro.libretro.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.libretro.libretro.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.libretro.libretro.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.libretro.libretro.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.libretro.libretro.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Built-in mutable sequence.</p>
<p>If no argument is given, the constructor creates a new empty list.
The argument must be an iterable if specified.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.libretro.libretro.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.libretro.libretro.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.libretro.libretro.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.libretro.libretro.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.libretro.libretro.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.libretro.libretro.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.can_uninstall" class="doc doc-heading">
<code class="highlight language-python"><span class="n">can_uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.can_uninstall" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">can_uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">retroarch_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s1">&#39;retroarch&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">retroarch_path</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">can_uninstall</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.get_config_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.get_config_file" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;retroarch.cfg&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.get_core_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_core_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.get_core_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the path of a core, prioritizing Retroarch cores</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_core_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the path of a core, prioritizing Retroarch cores&quot;&quot;&quot;</span>
    <span class="n">lutris_cores_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;retroarch&quot;</span><span class="p">,</span> <span class="s2">&quot;cores&quot;</span><span class="p">)</span>
    <span class="n">retroarch_core_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.config/retroarch/cores&quot;</span><span class="p">))</span>
    <span class="n">core_filename</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_libretro.so&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">core</span><span class="p">)</span>
    <span class="n">retroarch_core</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">retroarch_core_folder</span><span class="p">,</span> <span class="n">core_filename</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">retroarch_core</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">retroarch_core</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lutris_cores_folder</span><span class="p">,</span> <span class="n">core_filename</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.get_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">game_core</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">game_core</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Game don&#39;t have a core set&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">for</span> <span class="n">core</span> <span class="ow">in</span> <span class="n">LIBRETRO_CORES</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">core</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">game_core</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">core</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; not found in Libretro cores&quot;</span><span class="p">,</span> <span class="n">game_core</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.get_run_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.get_run_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return dict with command (exe &amp; args list) and env vars (dict).</p>
<p>Reimplement in derived runner if need be.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_parameters</span><span class="p">(),</span>
        <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.get_runner_parameters" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runner_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.get_runner_parameters" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_runner_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">parameters</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Fullscreen</span>
    <span class="n">fullscreen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fullscreen</span><span class="p">:</span>
        <span class="n">parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>

    <span class="c1"># Verbose</span>
    <span class="n">verbose</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
        <span class="n">parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--verbose&quot;</span><span class="p">)</span>

    <span class="n">parameters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--config=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_config_file</span><span class="p">()))</span>
    <span class="k">return</span> <span class="n">parameters</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.get_system_directory" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_system_directory</span><span class="p">(</span><span class="n">retro_config</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.libretro.libretro.get_system_directory" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the system directory used for storing BIOS and firmwares.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_system_directory</span><span class="p">(</span><span class="n">retro_config</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the system directory used for storing BIOS and firmwares.&quot;&quot;&quot;</span>
    <span class="n">system_directory</span> <span class="o">=</span> <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;system_directory&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system_directory</span> <span class="ow">or</span> <span class="n">system_directory</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
        <span class="n">system_directory</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;system&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">system_directory</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.get_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.get_version" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_default</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;core&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">captured_super</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span>  <span class="c1"># super() does not work inside install_core()</span>

    <span class="k">def</span> <span class="nf">install_core</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
                <span class="n">callback</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">captured_super</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_retroarch_installed</span><span class="p">():</span>
        <span class="n">captured_super</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">install_core</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">captured_super</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.is_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.is_installed" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return whether the runner is installed</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">core</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">):</span>
        <span class="n">core</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;core&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">core</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_retroarch_installed</span><span class="p">()</span>
    <span class="n">is_core_installed</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_core_path</span><span class="p">(</span><span class="n">core</span><span class="p">))</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_retroarch_installed</span><span class="p">()</span> <span class="ow">and</span> <span class="n">is_core_installed</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.is_retroarch_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_retroarch_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.is_retroarch_installed" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_retroarch_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="n">command</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_parameters</span><span class="p">()</span>

    <span class="c1"># Core</span>
    <span class="n">core</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">core</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span>
            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No core has been selected for this game&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--libretro=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_core_path</span><span class="p">(</span><span class="n">core</span><span class="p">)))</span>

    <span class="c1"># Ensure the core is available</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">(</span><span class="n">core</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">core</span><span class="p">)</span>

    <span class="c1"># Main file</span>
    <span class="n">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No game file specified&quot;</span><span class="p">)}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">file</span><span class="p">}</span>
    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># pylint: disable=too-many-locals,too-many-branches,too-many-statements</span>
    <span class="n">config_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_file</span><span class="p">()</span>
    <span class="c1"># TODO: review later</span>
    <span class="c1"># Create retroarch.cfg if it doesn&#39;t exist.</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;# Lutris RetroArch Configuration&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="c1"># Build the default config settings.</span>
        <span class="n">retro_config</span> <span class="o">=</span> <span class="n">RetroConfig</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;libretro_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;cores&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;libretro_info_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;content_database_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;database/rdb&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;cheat_database_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;database/cht&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;cursor_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;database/cursors&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;screenshot_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;screenshots&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;input_remapping_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;remaps&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;video_shader_dir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;shaders&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;core_assets_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;downloads&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;thumbnails_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;thumbnails&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;playlist_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;playlists&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;joypad_autoconfig_dir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;autoconfig&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;rgui_config_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;overlay_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;overlay&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;assets_directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;assets&quot;</span><span class="p">)</span>
        <span class="n">retro_config</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">retro_config</span> <span class="o">=</span> <span class="n">RetroConfig</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="n">core</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">)</span>
    <span class="n">info_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">),</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">_libretro.info&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">core</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">info_file</span><span class="p">):</span>
        <span class="n">retro_config</span> <span class="o">=</span> <span class="n">RetroConfig</span><span class="p">(</span><span class="n">info_file</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">firmware_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;firmware_count&quot;</span><span class="p">])</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">firmware_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">system_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system_directory</span><span class="p">(</span><span class="n">retro_config</span><span class="p">)</span>
        <span class="n">notes</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;notes&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">checksums</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">notes</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Suggested md5sums:&quot;</span><span class="p">):</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">notes</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">checksum</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; = &quot;</span><span class="p">)</span>
                <span class="n">checksums</span><span class="p">[</span><span class="n">filename</span><span class="p">]</span> <span class="o">=</span> <span class="n">checksum</span>
        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">firmware_count</span><span class="p">):</span>
            <span class="n">firmware_filename</span> <span class="o">=</span> <span class="n">retro_config</span><span class="p">[</span><span class="s2">&quot;firmware</span><span class="si">%d</span><span class="s2">_path&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">]</span>
            <span class="n">firmware_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_path</span><span class="p">,</span> <span class="n">firmware_filename</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">firmware_path</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">firmware_filename</span> <span class="ow">in</span> <span class="n">checksums</span><span class="p">:</span>
                    <span class="n">checksum</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_md5_hash</span><span class="p">(</span><span class="n">firmware_path</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">checksum</span> <span class="o">==</span> <span class="n">checksums</span><span class="p">[</span><span class="n">firmware_filename</span><span class="p">]:</span>
                        <span class="n">checksum_status</span> <span class="o">=</span> <span class="s2">&quot;Checksum good&quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">checksum_status</span> <span class="o">=</span> <span class="s2">&quot;Checksum failed&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">checksum_status</span> <span class="o">=</span> <span class="s2">&quot;No checksum info&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Firmware &#39;</span><span class="si">%s</span><span class="s2">&#39; found (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">firmware_filename</span><span class="p">,</span> <span class="n">checksum_status</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Firmware &#39;</span><span class="si">%s</span><span class="s2">&#39; not found!&quot;</span><span class="p">,</span> <span class="n">firmware_filename</span><span class="p">)</span>

            <span class="c1"># Before closing issue #431</span>
            <span class="c1"># TODO check for firmware*_opt and display an error message if</span>
            <span class="c1"># firmware is missing</span>
            <span class="c1"># TODO Add dialog for copying the firmware in the correct</span>
            <span class="c1"># location</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.libretro.libretro.uninstall" class="doc doc-heading">
<code class="highlight language-python"><span class="n">uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.libretro.uninstall" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">retroarch_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s1">&#39;retroarch&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">retroarch_path</span><span class="p">):</span>
        <span class="n">system</span><span class="o">.</span><span class="n">remove_folder</span><span class="p">(</span><span class="n">retroarch_path</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">uninstall</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.libretro.get_core_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_core_choices</span><span class="p">()</span></code>


<a href="#lutris.runners.libretro.get_core_choices" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_core_choices</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">core</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">core</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">core</span> <span class="ow">in</span> <span class="n">LIBRETRO_CORES</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.libretro.get_default_config_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_config_path</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>


<a href="#lutris.runners.libretro.get_default_config_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_default_config_path</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;retroarch&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.libretro.get_libretro_cores" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_libretro_cores</span><span class="p">()</span></code>


<a href="#lutris.runners.libretro.get_libretro_cores" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_libretro_cores</span><span class="p">():</span>
    <span class="n">cores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">runner_path</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">runner_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No folder at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">runner_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="c1"># Get core identifiers from info dir</span>
    <span class="n">info_path</span> <span class="o">=</span> <span class="n">get_default_config_path</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">info_path</span><span class="p">):</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://buildbot.libretro.com/assets/frontend/info.zip&quot;</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">req</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="n">requests</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>  <span class="c1"># pylint: disable=no-member</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">get_default_config_path</span><span class="p">(</span><span class="s1">&#39;info.zip&#39;</span><span class="p">),</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">info_zip</span><span class="p">:</span>
                <span class="n">info_zip</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">req</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="n">get_default_config_path</span><span class="p">(</span><span class="s1">&#39;info.zip&#39;</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">info_zip</span><span class="p">:</span>
                <span class="n">info_zip</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">info_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error retrieving libretro info archive from server: </span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">req</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">req</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
    <span class="c1"># Parse info files to fetch display name and platform/system</span>
    <span class="k">for</span> <span class="n">info_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">info_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;_libretro.info&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">info_file</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">core_identifier</span> <span class="o">=</span> <span class="n">info_file</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_libretro.info&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">core_config</span> <span class="o">=</span> <span class="n">RetroConfig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">info_path</span><span class="p">,</span> <span class="n">info_file</span><span class="p">))</span>
        <span class="k">if</span> <span class="s2">&quot;categories&quot;</span> <span class="ow">in</span> <span class="n">core_config</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="s2">&quot;Emulator&quot;</span> <span class="ow">in</span> <span class="n">core_config</span><span class="p">[</span><span class="s2">&quot;categories&quot;</span><span class="p">]:</span>
            <span class="n">core_label</span> <span class="o">=</span> <span class="n">core_config</span><span class="p">[</span><span class="s2">&quot;display_name&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
            <span class="n">core_system</span> <span class="o">=</span> <span class="n">core_config</span><span class="p">[</span><span class="s2">&quot;systemname&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
            <span class="n">cores</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">core_label</span><span class="p">,</span> <span class="n">core_identifier</span><span class="p">,</span> <span class="n">core_system</span><span class="p">))</span>
    <span class="n">cores</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">cores</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.linux" class="doc doc-heading">
        <code>linux</code>



<a href="#lutris.runners.linux" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Runner for Linux games</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.linux.linux" class="doc doc-heading">
        <code>
linux            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.linux.linux" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">linux</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Runs native games&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">)]</span>
    <span class="n">entry_point_option</span> <span class="o">=</span> <span class="s2">&quot;exe&quot;</span>

    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;exe&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Executable&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game&#39;s main executable file&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Command line arguments used when launching the game&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;working_dir&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Working directory&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The location where the game is run from.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;By default, Lutris uses the directory of the &quot;</span>
                <span class="s2">&quot;executable.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;ld_preload&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Preload library&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;A library to load before running the game&#39;s executable.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;ld_library_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Add directory to LD_LIBRARY_PATH&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span>
            <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;A directory where libraries should be searched for &quot;</span>
                <span class="s2">&quot;first, before the standard set of directories; this is &quot;</span>
                <span class="s2">&quot;useful when debugging a new library or using a &quot;</span>
                <span class="s2">&quot;nonstandard library for special purposes.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ld_preload</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">game_exe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the game&#39;s executable&#39;s path. The file may not exist, but</span>
<span class="sd">        this returns None if the exe path is not defined.&quot;&quot;&quot;</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;exe&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">exe</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">exe</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">exe</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">,</span> <span class="n">exe</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_relative_exe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a relative path if a working dir is set in the options</span>
<span class="sd">        Some games such as Unreal Gold fail to run if given the absolute path</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exe_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span>
        <span class="n">working_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;working_dir&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">exe_path</span> <span class="ow">and</span> <span class="n">working_dir</span><span class="p">:</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">exe_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">working_dir</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">exe_path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">working_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the working directory to use when running the game.&quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;working_dir&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">working_dir</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nvidia_shader_cache_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Linux programs should get individual shader caches if possible.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">shader_cache_dir</span>

    <span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Well of course Linux is installed, you&#39;re using Linux right ?&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run native game.&quot;&quot;&quot;</span>
        <span class="n">launch_info</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">}</span>

        <span class="c1"># Quit if the file is not executable</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">)</span><span class="o">.</span><span class="n">st_mode</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">mode</span> <span class="o">&amp;</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IXUSR</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NOT_EXECUTABLE&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">}</span>

        <span class="n">ld_preload</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ld_preload&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ld_preload</span><span class="p">:</span>
            <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;ld_preload&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ld_preload</span>

        <span class="n">ld_library_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ld_library_path&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ld_library_path</span><span class="p">:</span>
            <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;ld_library_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">ld_library_path</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_relative_exe</span><span class="p">()]</span>

        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="n">launch_info</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.linux.linux.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.linux.linux.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.linux.linux.entry_point_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entry_point_option</span></code>


<a href="#lutris.runners.linux.linux.entry_point_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.linux.linux.game_exe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_exe</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.linux.linux.game_exe" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the game's executable's path. The file may not exist, but
this returns None if the exe path is not defined.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.linux.linux.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.linux.linux.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.linux.linux.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.linux.linux.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.linux.linux.nvidia_shader_cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">nvidia_shader_cache_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.linux.linux.nvidia_shader_cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Linux programs should get individual shader caches if possible.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.linux.linux.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.linux.linux.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.linux.linux.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.linux.linux.working_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the working directory to use when running the game.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.linux.linux.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.linux.linux.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ld_preload</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.linux.linux.get_relative_exe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_relative_exe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.linux.linux.get_relative_exe" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a relative path if a working dir is set in the options
Some games such as Unreal Gold fail to run if given the absolute path</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_relative_exe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a relative path if a working dir is set in the options</span>
<span class="sd">    Some games such as Unreal Gold fail to run if given the absolute path</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exe_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span>
    <span class="n">working_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;working_dir&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">exe_path</span> <span class="ow">and</span> <span class="n">working_dir</span><span class="p">:</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">exe_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">working_dir</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">exe_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.linux.linux.is_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.linux.linux.is_installed" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Well of course Linux is installed, you're using Linux right ?</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Well of course Linux is installed, you&#39;re using Linux right ?&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.linux.linux.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.linux.linux.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run native game.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run native game.&quot;&quot;&quot;</span>
    <span class="n">launch_info</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">}</span>

    <span class="c1"># Quit if the file is not executable</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">)</span><span class="o">.</span><span class="n">st_mode</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">mode</span> <span class="o">&amp;</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IXUSR</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NOT_EXECUTABLE&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">}</span>

    <span class="n">ld_preload</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ld_preload&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ld_preload</span><span class="p">:</span>
        <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;ld_preload&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ld_preload</span>

    <span class="n">ld_library_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ld_library_path&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ld_library_path</span><span class="p">:</span>
        <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;ld_library_path&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">ld_library_path</span><span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_relative_exe</span><span class="p">()]</span>

    <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
    <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
    <span class="k">return</span> <span class="n">launch_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.mame" class="doc doc-heading">
        <code>mame</code>



<a href="#lutris.runners.mame" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Runner for MAME</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.mame.MAME_CACHE_DIR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAME_CACHE_DIR</span></code>


<a href="#lutris.runners.mame.MAME_CACHE_DIR" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.mame.MAME_XML_PATH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAME_XML_PATH</span></code>


<a href="#lutris.runners.mame.MAME_XML_PATH" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.mame.mame" class="doc doc-heading">
        <code>
mame            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.mame.mame" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>MAME runner</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">mame</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>  <span class="c1"># pylint: disable=invalid-name</span>

    <span class="sd">&quot;&quot;&quot;MAME runner&quot;&quot;&quot;</span>

    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;MAME&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arcade game emulator&quot;</span><span class="p">)</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;mame/mame&quot;</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">config_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.mame&quot;</span><span class="p">)</span>
    <span class="n">cache_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;mame&quot;</span><span class="p">)</span>
    <span class="n">xml_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cache_dir</span><span class="p">,</span> <span class="s2">&quot;mame.xml&quot;</span><span class="p">)</span>
    <span class="n">_platforms</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;machine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_search&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Machine&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">get_system_choices</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The emulated machine.&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Storage type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy disk&quot;</span><span class="p">),</span> <span class="s2">&quot;flop&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy drive 1&quot;</span><span class="p">),</span> <span class="s2">&quot;flop1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy drive 2&quot;</span><span class="p">),</span> <span class="s2">&quot;flop2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy drive 3&quot;</span><span class="p">),</span> <span class="s2">&quot;flop3&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Floppy drive 4&quot;</span><span class="p">),</span> <span class="s2">&quot;flop4&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cassette (tape)&quot;</span><span class="p">),</span> <span class="s2">&quot;cass&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cassette 1 (tape)&quot;</span><span class="p">),</span> <span class="s2">&quot;cass1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cassette 2 (tape)&quot;</span><span class="p">),</span> <span class="s2">&quot;cass2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cartridge&quot;</span><span class="p">),</span> <span class="s2">&quot;cart&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cartridge 1&quot;</span><span class="p">),</span> <span class="s2">&quot;cart1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cartridge 2&quot;</span><span class="p">),</span> <span class="s2">&quot;cart2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cartridge 3&quot;</span><span class="p">),</span> <span class="s2">&quot;cart3&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cartridge 4&quot;</span><span class="p">),</span> <span class="s2">&quot;cart4&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Snapshot&quot;</span><span class="p">),</span> <span class="s2">&quot;snapshot&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hard Disk&quot;</span><span class="p">),</span> <span class="s2">&quot;hard&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hard Disk 1&quot;</span><span class="p">),</span> <span class="s2">&quot;hard1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hard Disk 2&quot;</span><span class="p">),</span> <span class="s2">&quot;hard2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;CD-ROM&quot;</span><span class="p">),</span> <span class="s2">&quot;cdrm&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;CD-ROM 1&quot;</span><span class="p">),</span> <span class="s2">&quot;cdrm1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;CD-ROM 2&quot;</span><span class="p">),</span> <span class="s2">&quot;cdrm2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Snapshot&quot;</span><span class="p">),</span> <span class="s2">&quot;dump&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Quickload&quot;</span><span class="p">),</span> <span class="s2">&quot;quickload&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Memory Card&quot;</span><span class="p">),</span> <span class="s2">&quot;memc&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cylinder&quot;</span><span class="p">),</span> <span class="s2">&quot;cyln&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Punch Tape 1&quot;</span><span class="p">),</span> <span class="s2">&quot;ptap1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Punch Tape 2&quot;</span><span class="p">),</span> <span class="s2">&quot;ptap2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Print Out&quot;</span><span class="p">),</span> <span class="s2">&quot;prin&quot;</span><span class="p">),</span>
            <span class="p">],</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Command line arguments used when launching the game&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;autoboot_command&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Autoboot command&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Autotype this command when the system has started, &quot;</span>
                      <span class="s2">&quot;an enter keypress is automatically added.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;autoboot_delay&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;range&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Delay before entering autoboot command&quot;</span><span class="p">),</span>
            <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;rompath&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM/BIOS path&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Choose the folder containing ROMs and BIOS files.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;These files contain code from the original hardware &quot;</span>
                <span class="s2">&quot;necessary to the emulation.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;crt&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;CRT effect ()&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Applies a CRT effect to the screen.&quot;</span>
                      <span class="s2">&quot;Requires OpenGL renderer.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;video&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Video backend&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Auto&quot;</span><span class="p">),</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;OpenGL&quot;</span><span class="p">,</span> <span class="s2">&quot;opengl&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;BGFX&quot;</span><span class="p">,</span> <span class="s2">&quot;bgfx&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;SDL2&quot;</span><span class="p">,</span> <span class="s2">&quot;accel&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Software&quot;</span><span class="p">),</span> <span class="s2">&quot;soft&quot;</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;opengl&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;waitvsync&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wait for VSync&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable waiting for  the  start  of  vblank  before &quot;</span>
              <span class="s2">&quot;flipping  screens; reduces tearing effects.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;uimodekey&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Menu mode key&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Scroll Lock&quot;</span><span class="p">),</span> <span class="s2">&quot;SCRLOCK&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Num Lock&quot;</span><span class="p">),</span> <span class="s2">&quot;NUMLOCK&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Caps Lock&quot;</span><span class="p">),</span> <span class="s2">&quot;CAPSLOCK&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Menu&quot;</span><span class="p">),</span> <span class="s2">&quot;MENU&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Right Control&quot;</span><span class="p">),</span> <span class="s2">&quot;RCONTROL&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Left Control&quot;</span><span class="p">),</span> <span class="s2">&quot;LCONTROL&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Right Alt&quot;</span><span class="p">),</span> <span class="s2">&quot;RALT&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Left Alt&quot;</span><span class="p">),</span> <span class="s2">&quot;LALT&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Right Super&quot;</span><span class="p">),</span> <span class="s2">&quot;RWIN&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Left Super&quot;</span><span class="p">),</span> <span class="s2">&quot;LWIN&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;SCRLOCK&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Key to switch between Full Keyboard Mode and &quot;</span>
                      <span class="s2">&quot;Partial Keyboard Mode (default: Scroll Lock)&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">working_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;mame&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">platforms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_platforms</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">get_system_choices</span><span class="p">(</span><span class="n">include_year</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_platforms</span> <span class="o">+=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arcade&quot;</span><span class="p">),</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Game &amp; Watch&quot;</span><span class="p">)]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_platforms</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="n">AsyncCall</span><span class="p">(</span><span class="n">write_mame_xml</span><span class="p">,</span> <span class="n">notify_mame_xml</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">on_runner_installed</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the default path, use the runner&#39;s rompath&quot;&quot;&quot;</span>
        <span class="n">main_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">main_file</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">main_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rompath&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_xml_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Write the full game list in XML to disk&quot;&quot;&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-listxml&quot;</span><span class="p">],</span>
            <span class="n">env</span><span class="o">=</span><span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">xml_file</span><span class="p">:</span>
                <span class="n">xml_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;MAME XML list written to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t get any output for mame -listxml&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">selected_platform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;platform&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">selected_platform</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">selected_platform</span><span class="p">)]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">):</span>
            <span class="n">machine_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">get_system_choices</span><span class="p">(</span><span class="n">include_year</span><span class="o">=</span><span class="kc">False</span><span class="p">)}</span>
            <span class="k">return</span> <span class="n">machine_mapping</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;machine&quot;</span><span class="p">]]</span>
        <span class="n">rom_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">rom_file</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;gnw_&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Game &amp; Watch&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arcade&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_dir</span><span class="p">,</span> <span class="s2">&quot;mame.ini&quot;</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_dir</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-createconfig&quot;</span><span class="p">,</span> <span class="s2">&quot;-inipath&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_dir</span><span class="p">],</span>
                <span class="n">env</span><span class="o">=</span><span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
                <span class="n">cwd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">working_dir</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get_shader_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shader_dir</span><span class="p">,</span> <span class="n">shaders</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a list of CLI parameters to apply a list of shaders&quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">shader_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">working_dir</span><span class="p">,</span> <span class="s2">&quot;shaders&quot;</span><span class="p">,</span> <span class="n">shader_dir</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">shader</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">shaders</span><span class="p">):</span>
            <span class="n">params</span> <span class="o">+=</span> <span class="p">[</span>
                <span class="s2">&quot;-gl_glsl&quot;</span><span class="p">,</span>
                <span class="s2">&quot;-glsl_shader_mame</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">,</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">shader_path</span><span class="p">,</span> <span class="n">shader</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="k">return</span> <span class="n">params</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-skip_gameinfo&quot;</span><span class="p">,</span> <span class="s2">&quot;-inipath&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_dir</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;video&quot;</span><span class="p">):</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-video&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">]]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-window&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;waitvsync&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-waitvsync&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uimodekey&quot;</span><span class="p">):</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-uimodekey&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;uimodekey&quot;</span><span class="p">]]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;crt&quot;</span><span class="p">):</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_shader_params</span><span class="p">(</span><span class="s2">&quot;CRT-geom&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Gaussx&quot;</span><span class="p">,</span> <span class="s2">&quot;Gaussy&quot;</span><span class="p">,</span> <span class="s2">&quot;CRT-geom-halation&quot;</span><span class="p">])</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-nounevenstretch&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">):</span>
            <span class="n">rompath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rompath&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">rompath</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-rompath&quot;</span><span class="p">,</span> <span class="n">rompath</span><span class="p">]</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;machine&quot;</span><span class="p">])</span>
            <span class="n">device</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;device&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">device</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;No device is set for machine </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;machine&quot;</span><span class="p">]}</span>
            <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">rom</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">device</span><span class="p">,</span> <span class="n">rom</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rompath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">rompath</span><span class="p">:</span>
                <span class="n">rompath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rompath&quot;</span><span class="p">)</span>
            <span class="n">rom</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">rompath</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;PATH_NOT_SET&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;rompath&#39;</span><span class="p">}</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-rompath&quot;</span><span class="p">,</span> <span class="n">rompath</span><span class="p">,</span> <span class="n">rom</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;autoboot_command&quot;</span><span class="p">):</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-autoboot_command&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;autoboot_command&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">n&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;autoboot_delay&quot;</span><span class="p">):</span>
                <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-autoboot_delay&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;autoboot_delay&quot;</span><span class="p">])]</span>

        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.cache_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cache_dir</span></code>


<a href="#lutris.runners.mame.mame.cache_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.config_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_dir</span></code>


<a href="#lutris.runners.mame.mame.config_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.default_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.mame.mame.default_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the default path, use the runner's rompath</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.mame.mame.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.mame.mame.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.mame.mame.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.mame.mame.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Built-in mutable sequence.</p>
<p>If no argument is given, the constructor creates a new empty list.
The argument must be an iterable if specified.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.mame.mame.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.mame.mame.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.mame.mame.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.mame.mame.working_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the working directory to use when running the game.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mame.mame.xml_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">xml_path</span></code>


<a href="#lutris.runners.mame.mame.xml_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mame.mame.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.mame.get_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">selected_platform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;platform&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">selected_platform</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">selected_platform</span><span class="p">)]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">):</span>
        <span class="n">machine_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">get_system_choices</span><span class="p">(</span><span class="n">include_year</span><span class="o">=</span><span class="kc">False</span><span class="p">)}</span>
        <span class="k">return</span> <span class="n">machine_mapping</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;machine&quot;</span><span class="p">]]</span>
    <span class="n">rom_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">rom_file</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;gnw_&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Game &amp; Watch&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arcade&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mame.mame.get_shader_params" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_shader_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shader_dir</span><span class="p">,</span> <span class="n">shaders</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.mame.get_shader_params" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Returns a list of CLI parameters to apply a list of shaders</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_shader_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shader_dir</span><span class="p">,</span> <span class="n">shaders</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a list of CLI parameters to apply a list of shaders&quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">shader_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">working_dir</span><span class="p">,</span> <span class="s2">&quot;shaders&quot;</span><span class="p">,</span> <span class="n">shader_dir</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">shader</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">shaders</span><span class="p">):</span>
        <span class="n">params</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="s2">&quot;-gl_glsl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-glsl_shader_mame</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">index</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">shader_path</span><span class="p">,</span> <span class="n">shader</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="k">return</span> <span class="n">params</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mame.mame.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.mame.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">AsyncCall</span><span class="p">(</span><span class="n">write_mame_xml</span><span class="p">,</span> <span class="n">notify_mame_xml</span><span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">on_runner_installed</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mame.mame.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.mame.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-skip_gameinfo&quot;</span><span class="p">,</span> <span class="s2">&quot;-inipath&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_dir</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;video&quot;</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-video&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;video&quot;</span><span class="p">]]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-window&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;waitvsync&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-waitvsync&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;uimodekey&quot;</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-uimodekey&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;uimodekey&quot;</span><span class="p">]]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;crt&quot;</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_shader_params</span><span class="p">(</span><span class="s2">&quot;CRT-geom&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Gaussx&quot;</span><span class="p">,</span> <span class="s2">&quot;Gaussy&quot;</span><span class="p">,</span> <span class="s2">&quot;CRT-geom-halation&quot;</span><span class="p">])</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-nounevenstretch&quot;</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">):</span>
        <span class="n">rompath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rompath&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rompath</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-rompath&quot;</span><span class="p">,</span> <span class="n">rompath</span><span class="p">]</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;machine&quot;</span><span class="p">])</span>
        <span class="n">device</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;device&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">device</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;No device is set for machine </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;machine&quot;</span><span class="p">]}</span>
        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rom</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">device</span><span class="p">,</span> <span class="n">rom</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">rompath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">rompath</span><span class="p">:</span>
            <span class="n">rompath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;rompath&quot;</span><span class="p">)</span>
        <span class="n">rom</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">rompath</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;PATH_NOT_SET&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;rompath&#39;</span><span class="p">}</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-rompath&quot;</span><span class="p">,</span> <span class="n">rompath</span><span class="p">,</span> <span class="n">rom</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;autoboot_command&quot;</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-autoboot_command&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;autoboot_command&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">n&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;autoboot_delay&quot;</span><span class="p">):</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-autoboot_delay&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="p">[</span><span class="s2">&quot;autoboot_delay&quot;</span><span class="p">])]</span>

    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mame.mame.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.mame.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_dir</span><span class="p">,</span> <span class="s2">&quot;mame.ini&quot;</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_dir</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-createconfig&quot;</span><span class="p">,</span> <span class="s2">&quot;-inipath&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_dir</span><span class="p">],</span>
            <span class="n">env</span><span class="o">=</span><span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
            <span class="n">cwd</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">working_dir</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mame.mame.write_xml_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_xml_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.mame.write_xml_list" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Write the full game list in XML to disk</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_xml_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Write the full game list in XML to disk&quot;&quot;&quot;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-listxml&quot;</span><span class="p">],</span>
        <span class="n">env</span><span class="o">=</span><span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xml_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">xml_file</span><span class="p">:</span>
            <span class="n">xml_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;MAME XML list written to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xml_path</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t get any output for mame -listxml&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.mame.get_system_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_system_choices</span><span class="p">(</span><span class="n">include_year</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.get_system_choices" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return list of systems for inclusion in dropdown</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_system_choices</span><span class="p">(</span><span class="n">include_year</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return list of systems for inclusion in dropdown&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">MAME_XML_PATH</span><span class="p">,</span> <span class="n">exclude_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">mame_inst</span> <span class="o">=</span> <span class="n">mame</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">mame_inst</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
            <span class="n">AsyncCall</span><span class="p">(</span><span class="n">write_mame_xml</span><span class="p">,</span> <span class="n">notify_mame_xml</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">system_id</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span>
        <span class="n">get_supported_systems</span><span class="p">(</span><span class="n">MAME_XML_PATH</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
        <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">sys</span><span class="p">:</span> <span class="p">(</span><span class="n">sys</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;manufacturer&quot;</span><span class="p">],</span> <span class="n">sys</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;description&quot;</span><span class="p">]),</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">info</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s2">&quot;manufacturer&quot;</span><span class="p">]):</span>
            <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%(manufacturer)s</span><span class="s2"> &quot;</span>
        <span class="n">template</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">%(description)s</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">include_year</span><span class="p">:</span>
            <span class="n">template</span> <span class="o">+=</span> <span class="s2">&quot; </span><span class="si">%(year)s</span><span class="s2">&quot;</span>
        <span class="n">system_name</span> <span class="o">=</span> <span class="n">template</span> <span class="o">%</span> <span class="n">info</span>
        <span class="n">system_name</span> <span class="o">=</span> <span class="n">system_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;generic&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">yield</span> <span class="p">(</span><span class="n">system_name</span><span class="p">,</span> <span class="n">system_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.mame.notify_mame_xml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">notify_mame_xml</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.notify_mame_xml" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">notify_mame_xml</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed writing MAME XML&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished writing MAME XML&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.mame.write_mame_xml" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_mame_xml</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.runners.mame.write_mame_xml" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/mame.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_mame_xml</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">MAME_CACHE_DIR</span><span class="p">):</span>
        <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="n">MAME_CACHE_DIR</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">MAME_XML_PATH</span><span class="p">,</span> <span class="n">exclude_empty</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Writing full game list from MAME to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">MAME_XML_PATH</span><span class="p">)</span>
    <span class="n">mame_inst</span> <span class="o">=</span> <span class="n">mame</span><span class="p">()</span>
    <span class="n">mame_inst</span><span class="o">.</span><span class="n">write_xml_list</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">get_disk_size</span><span class="p">(</span><span class="n">MAME_XML_PATH</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;MAME did not write anything to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">MAME_XML_PATH</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.mednafen" class="doc doc-heading">
        <code>mednafen</code>



<a href="#lutris.runners.mednafen" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.mednafen.DEFAULT_MEDNAFEN_SCALER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT_MEDNAFEN_SCALER</span></code>


<a href="#lutris.runners.mednafen.DEFAULT_MEDNAFEN_SCALER" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.mednafen.mednafen" class="doc doc-heading">
        <code>
mednafen            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.mednafen.mednafen" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/mednafen.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">mednafen</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Mednafen&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Multi-system emulator: NES, PC Engine, PSX…&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Game Boy (Color)&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Game Boy Advance&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Game Gear&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Genesis/Mega Drive&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Atari Lynx&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Master System&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;SNK Neo Geo Pocket (Color)&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo NES&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;NEC PC Engine TurboGrafx-16&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;NEC PC-FX&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sony PlayStation&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Saturn&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo SNES&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Bandai WonderSwan&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Virtual Boy&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">machine_choices</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game Boy (Color)&quot;</span><span class="p">),</span> <span class="s2">&quot;gb&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game Boy Advance&quot;</span><span class="p">),</span> <span class="s2">&quot;gba&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game Gear&quot;</span><span class="p">),</span> <span class="s2">&quot;gg&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Genesis/Mega Drive&quot;</span><span class="p">),</span> <span class="s2">&quot;md&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Lynx&quot;</span><span class="p">),</span> <span class="s2">&quot;lynx&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Master System&quot;</span><span class="p">),</span> <span class="s2">&quot;sms&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Neo Geo Pocket (Color)&quot;</span><span class="p">),</span> <span class="s2">&quot;gnp&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;NES&quot;</span><span class="p">),</span> <span class="s2">&quot;nes&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;PC Engine&quot;</span><span class="p">),</span> <span class="s2">&quot;pce_fast&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;PC-FX&quot;</span><span class="p">),</span> <span class="s2">&quot;pcfx&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;PlayStation&quot;</span><span class="p">),</span> <span class="s2">&quot;psx&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Saturn&quot;</span><span class="p">),</span> <span class="s2">&quot;ss&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;SNES&quot;</span><span class="p">),</span> <span class="s2">&quot;snes&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;WonderSwan&quot;</span><span class="p">),</span> <span class="s2">&quot;wswan&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Virtual Boy&quot;</span><span class="p">),</span> <span class="s2">&quot;vb&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;mednafen/bin/mednafen&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data, commonly called a ROM image. </span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot;Mednafen supports GZIP and ZIP compressed ROMs.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;machine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Machine type&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">machine_choices</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The emulated machine.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fs&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;stretch&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Aspect ratio&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disabled&quot;</span><span class="p">),</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Stretched&quot;</span><span class="p">),</span> <span class="s2">&quot;full&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Preserve aspect ratio&quot;</span><span class="p">),</span> <span class="s2">&quot;aspect&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Integer scale&quot;</span><span class="p">),</span> <span class="s2">&quot;aspect_int&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Multiple of 2 scale&quot;</span><span class="p">),</span> <span class="s2">&quot;aspect_mult2&quot;</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="s2">&quot;aspect_int&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;scaler&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Video scaler&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="p">(</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hq2x&quot;</span><span class="p">,</span> <span class="s2">&quot;hq2x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hq3x&quot;</span><span class="p">,</span> <span class="s2">&quot;hq3x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hq4x&quot;</span><span class="p">,</span> <span class="s2">&quot;hq4x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;scale2x&quot;</span><span class="p">,</span> <span class="s2">&quot;scale2x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;scale3x&quot;</span><span class="p">,</span> <span class="s2">&quot;scale3x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;scale4x&quot;</span><span class="p">,</span> <span class="s2">&quot;scale4x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;2xsai&quot;</span><span class="p">,</span> <span class="s2">&quot;2xsai&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;super2xsai&quot;</span><span class="p">,</span> <span class="s2">&quot;super2xsai&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;supereagle&quot;</span><span class="p">,</span> <span class="s2">&quot;supereagle&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;nn2x&quot;</span><span class="p">,</span> <span class="s2">&quot;nn2x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;nn3x&quot;</span><span class="p">,</span> <span class="s2">&quot;nn3x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;nn4x&quot;</span><span class="p">,</span> <span class="s2">&quot;nn4x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;nny2x&quot;</span><span class="p">,</span> <span class="s2">&quot;nny2x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;nny3x&quot;</span><span class="p">,</span> <span class="s2">&quot;nny3x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;nny4x&quot;</span><span class="p">,</span> <span class="s2">&quot;nny4x&quot;</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="n">DEFAULT_MEDNAFEN_SCALER</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;sound_device&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sound device&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Mednafen default&quot;</span><span class="p">),</span> <span class="s2">&quot;default&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;ALSA default&quot;</span><span class="p">),</span> <span class="s2">&quot;sexyal-literal-default&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hw:0&quot;</span><span class="p">,</span> <span class="s2">&quot;hw:0,0&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hw:1&quot;</span><span class="p">,</span> <span class="s2">&quot;hw:1,0&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hw:2&quot;</span><span class="p">,</span> <span class="s2">&quot;hw:2,0&quot;</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="s2">&quot;sexyal-literal-default&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dont_map_controllers&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use default Mednafen controller configuration&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">machine</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">choice</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machine_choices</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">machine</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">find_joysticks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Detect connected joysticks and return their ids &quot;&quot;&quot;</span>
        <span class="n">joy_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;dummy&quot;</span><span class="p">],</span>
            <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
            <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">mednafen_process</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">mednafen_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">joy_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">found</span> <span class="ow">and</span> <span class="s2">&quot;Joystick&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">joy_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="s2">&quot;Initializing joysticks&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">joy</span> <span class="ow">in</span> <span class="n">joy_list</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">joy</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;Unique ID:&quot;</span><span class="p">)</span>
            <span class="n">joy_id</span> <span class="o">=</span> <span class="n">joy</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">11</span><span class="p">:]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Joystick found id </span><span class="si">%s</span><span class="s2"> &quot;</span><span class="p">,</span> <span class="n">joy_id</span><span class="p">)</span>
            <span class="n">joy_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">joy_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">joy_ids</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_joystick_controls</span><span class="p">(</span><span class="n">joy_ids</span><span class="p">,</span> <span class="n">machine</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Setup joystick mappings per machine &quot;&quot;&quot;</span>

        <span class="c1"># Get the controller mappings</span>
        <span class="n">controller_mappings</span> <span class="o">=</span> <span class="n">get_controller_mappings</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">controller_mappings</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No controller detected for joysticks </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">joy_ids</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="c1"># TODO currently only supports the first controller. Add support for other controllers.</span>
        <span class="n">mapping</span> <span class="o">=</span> <span class="n">controller_mappings</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Construct a dictionnary of button codes to parse to mendafen</span>
        <span class="n">map_code</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;back&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;leftshoulder&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rightshoulder&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lefttrigger&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;righttrigger&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;leftstick&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rightstick&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;select&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;shoulder_l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;shoulder_r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;i&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ii&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;iii&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;iv&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;v&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vi&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ls&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rs&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fire1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fire2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;option_1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;option_2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cross&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;circle&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;square&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;triangle&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;r1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;r2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;l1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;l2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right-x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right-y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left-x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left-y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up-x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up-y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down-x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down-y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up-l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up-r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down-l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down-r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left-l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left-r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right-l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right-r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lstick_up&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c001&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lstick_down&quot;</span><span class="p">:</span> <span class="s2">&quot;00008001&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lstick_right&quot;</span><span class="p">:</span> <span class="s2">&quot;00008000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lstick_left&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rstick_up&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c003&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rstick_down&quot;</span><span class="p">:</span> <span class="s2">&quot;00008003&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rstick_left&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c002&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rstick_right&quot;</span><span class="p">:</span> <span class="s2">&quot;00008002&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dpup&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c005&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dpdown&quot;</span><span class="p">:</span> <span class="s2">&quot;00008005&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dpleft&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c004&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dpright&quot;</span><span class="p">:</span> <span class="s2">&quot;00008004&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="c1"># Insert the button mapping number into the map_codes</span>
        <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">:</span>
            <span class="n">bttn_id</span> <span class="o">=</span> <span class="n">mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">button</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">bttn_id</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span>  <span class="c1"># it&#39;s a button</span>
                <span class="n">map_code</span><span class="p">[</span><span class="n">button</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;000000&quot;</span> <span class="o">+</span> <span class="n">bttn_id</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># Duplicate button names that are emulated in mednanfen</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpup&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpdown&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpleft&quot;</span><span class="p">]</span>  <span class="c1"># Multiple systems</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpright&quot;</span><span class="p">]</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;select&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;back&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;shoulder_r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1"># GBA</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;shoulder_l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;ii&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;iii&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;iv&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>  <span class="c1"># PCEngine and PCFX</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;v&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;vi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;run&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;ls&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1"># Saturn</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;righttrigger&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lefttrigger&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;fire1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>  <span class="c1"># Master System</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;fire2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;option_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>  <span class="c1"># Lynx</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;option_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;r1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;r2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;righttrigger&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lefttrigger&quot;</span><span class="p">]</span>  <span class="c1"># PlayStation</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;cross&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;circle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;square&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;triangle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;select&quot;</span><span class="p">]</span>  <span class="c1"># NeoGeo pocket</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1"># SNES</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right-x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpright&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left-x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpleft&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up-x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpup&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down-x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpdown&quot;</span><span class="p">]</span>  <span class="c1"># Wonder Swan</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right-y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lstick_right&quot;</span><span class="p">]</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left-y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lstick_left&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up-y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lstick_up&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down-y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lstick_down&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up-l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpup&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down-l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpdown&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left-l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpleft&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right-l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpright&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up-r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rstick_up&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down-r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rstick_down&quot;</span><span class="p">]</span>  <span class="c1"># Virtual boy</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left-r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rstick_left&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right-r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rstick_right&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
        <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>

        <span class="c1"># Define which buttons to use for each machine</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;nes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
            <span class="s2">&quot;gb&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
            <span class="s2">&quot;gba&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;a&quot;</span><span class="p">,</span>
                <span class="s2">&quot;b&quot;</span><span class="p">,</span>
                <span class="s2">&quot;shoulder_r&quot;</span><span class="p">,</span>
                <span class="s2">&quot;shoulder_l&quot;</span><span class="p">,</span>
                <span class="s2">&quot;start&quot;</span><span class="p">,</span>
                <span class="s2">&quot;select&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;pce&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;i&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ii&quot;</span><span class="p">,</span>
                <span class="s2">&quot;iii&quot;</span><span class="p">,</span>
                <span class="s2">&quot;iv&quot;</span><span class="p">,</span>
                <span class="s2">&quot;v&quot;</span><span class="p">,</span>
                <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
                <span class="s2">&quot;run&quot;</span><span class="p">,</span>
                <span class="s2">&quot;select&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;ss&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;a&quot;</span><span class="p">,</span>
                <span class="s2">&quot;b&quot;</span><span class="p">,</span>
                <span class="s2">&quot;c&quot;</span><span class="p">,</span>
                <span class="s2">&quot;x&quot;</span><span class="p">,</span>
                <span class="s2">&quot;y&quot;</span><span class="p">,</span>
                <span class="s2">&quot;z&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ls&quot;</span><span class="p">,</span>
                <span class="s2">&quot;rs&quot;</span><span class="p">,</span>
                <span class="s2">&quot;start&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;gg&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;button1&quot;</span><span class="p">,</span> <span class="s2">&quot;button2&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
            <span class="s2">&quot;md&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;a&quot;</span><span class="p">,</span>
                <span class="s2">&quot;b&quot;</span><span class="p">,</span>
                <span class="s2">&quot;c&quot;</span><span class="p">,</span>
                <span class="s2">&quot;x&quot;</span><span class="p">,</span>
                <span class="s2">&quot;y&quot;</span><span class="p">,</span>
                <span class="s2">&quot;z&quot;</span><span class="p">,</span>
                <span class="s2">&quot;start&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;sms&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;fire1&quot;</span><span class="p">,</span> <span class="s2">&quot;fire2&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
            <span class="s2">&quot;lynx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;option_1&quot;</span><span class="p">,</span> <span class="s2">&quot;option_2&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
            <span class="s2">&quot;psx&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;cross&quot;</span><span class="p">,</span>
                <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
                <span class="s2">&quot;square&quot;</span><span class="p">,</span>
                <span class="s2">&quot;triangle&quot;</span><span class="p">,</span>
                <span class="s2">&quot;l1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;l2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;r1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;r2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;start&quot;</span><span class="p">,</span>
                <span class="s2">&quot;select&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lstick_up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lstick_down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lstick_right&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lstick_left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;rstick_up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;rstick_down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;rstick_left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;rstick_right&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;pcfx&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;i&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ii&quot;</span><span class="p">,</span>
                <span class="s2">&quot;iii&quot;</span><span class="p">,</span>
                <span class="s2">&quot;iv&quot;</span><span class="p">,</span>
                <span class="s2">&quot;v&quot;</span><span class="p">,</span>
                <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
                <span class="s2">&quot;run&quot;</span><span class="p">,</span>
                <span class="s2">&quot;select&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;ngp&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;option&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
            <span class="s2">&quot;snes&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;a&quot;</span><span class="p">,</span>
                <span class="s2">&quot;b&quot;</span><span class="p">,</span>
                <span class="s2">&quot;x&quot;</span><span class="p">,</span>
                <span class="s2">&quot;y&quot;</span><span class="p">,</span>
                <span class="s2">&quot;l&quot;</span><span class="p">,</span>
                <span class="s2">&quot;r&quot;</span><span class="p">,</span>
                <span class="s2">&quot;start&quot;</span><span class="p">,</span>
                <span class="s2">&quot;select&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;wswan&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;a&quot;</span><span class="p">,</span>
                <span class="s2">&quot;b&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right-x&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right-y&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left-x&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left-y&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up-x&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up-y&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down-x&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down-y&quot;</span><span class="p">,</span>
                <span class="s2">&quot;start&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;vb&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;up-l&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down-l&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left-l&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right-l&quot;</span><span class="p">,</span>
                <span class="s2">&quot;up-r&quot;</span><span class="p">,</span>
                <span class="s2">&quot;down-r&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left-r&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right-r&quot;</span><span class="p">,</span>
                <span class="s2">&quot;a&quot;</span><span class="p">,</span>
                <span class="s2">&quot;b&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lt&quot;</span><span class="p">,</span>
                <span class="s2">&quot;rt&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">}</span>
        <span class="c1"># Select a the gamepad type</span>
        <span class="n">controls</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">machine</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;gg&quot;</span><span class="p">,</span> <span class="s2">&quot;lynx&quot;</span><span class="p">,</span> <span class="s2">&quot;wswan&quot;</span><span class="p">,</span> <span class="s2">&quot;gb&quot;</span><span class="p">,</span> <span class="s2">&quot;gba&quot;</span><span class="p">,</span> <span class="s2">&quot;vb&quot;</span><span class="p">]:</span>
            <span class="n">gamepad</span> <span class="o">=</span> <span class="s2">&quot;builtin.gamepad&quot;</span>
        <span class="k">elif</span> <span class="n">machine</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;md&quot;</span><span class="p">]:</span>
            <span class="n">gamepad</span> <span class="o">=</span> <span class="s2">&quot;port1.gamepad6&quot;</span>
            <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-md.input.port1&quot;</span><span class="p">)</span>
            <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;gamepad6&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">machine</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;psx&quot;</span><span class="p">]:</span>
            <span class="n">gamepad</span> <span class="o">=</span> <span class="s2">&quot;port1.dualshock&quot;</span>
            <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-psx.input.port1&quot;</span><span class="p">)</span>
            <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dualshock&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">gamepad</span> <span class="o">=</span> <span class="s2">&quot;port1.gamepad&quot;</span>

        <span class="c1"># Construct the controlls options</span>
        <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">layout</span><span class="p">[</span><span class="n">machine</span><span class="p">]:</span>
            <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">{}</span><span class="s2">.input.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">machine</span><span class="p">,</span> <span class="n">gamepad</span><span class="p">,</span> <span class="n">button</span><span class="p">))</span>
            <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;joystick </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">joy_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">map_code</span><span class="p">[</span><span class="n">button</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">controls</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Runs the game&quot;&quot;&quot;</span>
        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="n">machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>

        <span class="n">fullscreen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fs&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;0&quot;</span>
        <span class="k">if</span> <span class="n">fullscreen</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">fullscreen</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
        <span class="k">elif</span> <span class="n">fullscreen</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">fullscreen</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>

        <span class="n">stretch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stretch&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;0&quot;</span>
        <span class="n">scaler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scaler&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">DEFAULT_MEDNAFEN_SCALER</span>
        <span class="n">sound_device</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sound_device&quot;</span><span class="p">)</span>

        <span class="n">xres</span><span class="p">,</span> <span class="n">yres</span> <span class="o">=</span> <span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">()</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;-fs&quot;</span><span class="p">,</span>
            <span class="n">fullscreen</span><span class="p">,</span>
            <span class="s2">&quot;-force_module&quot;</span><span class="p">,</span>
            <span class="n">machine</span><span class="p">,</span>
            <span class="s2">&quot;-sound.device&quot;</span><span class="p">,</span>
            <span class="n">sound_device</span><span class="p">,</span>
            <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.xres&quot;</span><span class="p">,</span>
            <span class="n">xres</span><span class="p">,</span>
            <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.yres&quot;</span><span class="p">,</span>
            <span class="n">yres</span><span class="p">,</span>
            <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.stretch&quot;</span><span class="p">,</span>
            <span class="n">stretch</span><span class="p">,</span>
            <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.special&quot;</span><span class="p">,</span>
            <span class="n">scaler</span><span class="p">,</span>
            <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.videoip&quot;</span><span class="p">,</span>
            <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">joy_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_joysticks</span><span class="p">()</span>
        <span class="n">dont_map_controllers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dont_map_controllers&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">joy_ids</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">dont_map_controllers</span><span class="p">:</span>
            <span class="n">controls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_joystick_controls</span><span class="p">(</span><span class="n">joy_ids</span><span class="p">,</span> <span class="n">machine</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">control</span> <span class="ow">in</span> <span class="n">controls</span><span class="p">:</span>
                <span class="n">options</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">control</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mednafen.mednafen.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.mednafen.mednafen.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mednafen.mednafen.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.mednafen.mednafen.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mednafen.mednafen.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.mednafen.mednafen.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mednafen.mednafen.machine_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">machine_choices</span></code>


<a href="#lutris.runners.mednafen.mednafen.machine_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mednafen.mednafen.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.mednafen.mednafen.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mednafen.mednafen.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.mednafen.mednafen.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mednafen.mednafen.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.mednafen.mednafen.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mednafen.mednafen.find_joysticks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_joysticks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.mednafen.mednafen.find_joysticks" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Detect connected joysticks and return their ids </p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mednafen.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_joysticks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Detect connected joysticks and return their ids &quot;&quot;&quot;</span>
    <span class="n">joy_ids</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;dummy&quot;</span><span class="p">],</span>
        <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
        <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">mednafen_process</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">mednafen_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">joy_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">found</span> <span class="ow">and</span> <span class="s2">&quot;Joystick&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">joy_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s2">&quot;Initializing joysticks&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">for</span> <span class="n">joy</span> <span class="ow">in</span> <span class="n">joy_list</span><span class="p">:</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">joy</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;Unique ID:&quot;</span><span class="p">)</span>
        <span class="n">joy_id</span> <span class="o">=</span> <span class="n">joy</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">11</span><span class="p">:]</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Joystick found id </span><span class="si">%s</span><span class="s2"> &quot;</span><span class="p">,</span> <span class="n">joy_id</span><span class="p">)</span>
        <span class="n">joy_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">joy_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">joy_ids</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mednafen.mednafen.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.mednafen.mednafen.get_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/mednafen.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">machine</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">choice</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machine_choices</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">machine</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mednafen.mednafen.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.mednafen.mednafen.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Runs the game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mednafen.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Runs the game&quot;&quot;&quot;</span>
    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="n">machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>

    <span class="n">fullscreen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fs&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;0&quot;</span>
    <span class="k">if</span> <span class="n">fullscreen</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">fullscreen</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
    <span class="k">elif</span> <span class="n">fullscreen</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">fullscreen</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>

    <span class="n">stretch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stretch&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;0&quot;</span>
    <span class="n">scaler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scaler&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">DEFAULT_MEDNAFEN_SCALER</span>
    <span class="n">sound_device</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sound_device&quot;</span><span class="p">)</span>

    <span class="n">xres</span><span class="p">,</span> <span class="n">yres</span> <span class="o">=</span> <span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">()</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;-fs&quot;</span><span class="p">,</span>
        <span class="n">fullscreen</span><span class="p">,</span>
        <span class="s2">&quot;-force_module&quot;</span><span class="p">,</span>
        <span class="n">machine</span><span class="p">,</span>
        <span class="s2">&quot;-sound.device&quot;</span><span class="p">,</span>
        <span class="n">sound_device</span><span class="p">,</span>
        <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.xres&quot;</span><span class="p">,</span>
        <span class="n">xres</span><span class="p">,</span>
        <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.yres&quot;</span><span class="p">,</span>
        <span class="n">yres</span><span class="p">,</span>
        <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.stretch&quot;</span><span class="p">,</span>
        <span class="n">stretch</span><span class="p">,</span>
        <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.special&quot;</span><span class="p">,</span>
        <span class="n">scaler</span><span class="p">,</span>
        <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">machine</span> <span class="o">+</span> <span class="s2">&quot;.videoip&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">joy_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_joysticks</span><span class="p">()</span>
    <span class="n">dont_map_controllers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dont_map_controllers&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">joy_ids</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">dont_map_controllers</span><span class="p">:</span>
        <span class="n">controls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_joystick_controls</span><span class="p">(</span><span class="n">joy_ids</span><span class="p">,</span> <span class="n">machine</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">control</span> <span class="ow">in</span> <span class="n">controls</span><span class="p">:</span>
            <span class="n">options</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">control</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mednafen.mednafen.set_joystick_controls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_joystick_controls</span><span class="p">(</span><span class="n">joy_ids</span><span class="p">,</span> <span class="n">machine</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.mednafen.mednafen.set_joystick_controls" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Setup joystick mappings per machine </p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/mednafen.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">set_joystick_controls</span><span class="p">(</span><span class="n">joy_ids</span><span class="p">,</span> <span class="n">machine</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Setup joystick mappings per machine &quot;&quot;&quot;</span>

    <span class="c1"># Get the controller mappings</span>
    <span class="n">controller_mappings</span> <span class="o">=</span> <span class="n">get_controller_mappings</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">controller_mappings</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No controller detected for joysticks </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">joy_ids</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="c1"># TODO currently only supports the first controller. Add support for other controllers.</span>
    <span class="n">mapping</span> <span class="o">=</span> <span class="n">controller_mappings</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># Construct a dictionnary of button codes to parse to mendafen</span>
    <span class="n">map_code</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;back&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;leftshoulder&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rightshoulder&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lefttrigger&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;righttrigger&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;leftstick&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rightstick&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;select&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shoulder_l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;shoulder_r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;i&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ii&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iii&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iv&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;v&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vi&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;run&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ls&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rs&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fire1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fire2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;option_1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;option_2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cross&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;circle&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;square&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;triangle&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;r1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;r2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;l1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;l2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;right-x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;right-y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;left-x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;left-y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;up-x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;up-y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;down-x&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;down-y&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;up-l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;up-r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;down-l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;down-r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;left-l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;left-r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;right-l&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;right-r&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lstick_up&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c001&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lstick_down&quot;</span><span class="p">:</span> <span class="s2">&quot;00008001&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lstick_right&quot;</span><span class="p">:</span> <span class="s2">&quot;00008000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lstick_left&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rstick_up&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c003&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rstick_down&quot;</span><span class="p">:</span> <span class="s2">&quot;00008003&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rstick_left&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c002&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rstick_right&quot;</span><span class="p">:</span> <span class="s2">&quot;00008002&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dpup&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c005&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dpdown&quot;</span><span class="p">:</span> <span class="s2">&quot;00008005&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dpleft&quot;</span><span class="p">:</span> <span class="s2">&quot;0000c004&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dpright&quot;</span><span class="p">:</span> <span class="s2">&quot;00008004&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># Insert the button mapping number into the map_codes</span>
    <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">:</span>
        <span class="n">bttn_id</span> <span class="o">=</span> <span class="n">mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">button</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">bttn_id</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span>  <span class="c1"># it&#39;s a button</span>
            <span class="n">map_code</span><span class="p">[</span><span class="n">button</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;000000&quot;</span> <span class="o">+</span> <span class="n">bttn_id</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Duplicate button names that are emulated in mednanfen</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpup&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpdown&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpleft&quot;</span><span class="p">]</span>  <span class="c1"># Multiple systems</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpright&quot;</span><span class="p">]</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;select&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;back&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;shoulder_r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1"># GBA</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;shoulder_l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;ii&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;iii&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;iv&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>  <span class="c1"># PCEngine and PCFX</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;v&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;vi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;run&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;ls&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1"># Saturn</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;righttrigger&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lefttrigger&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;fire1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>  <span class="c1"># Master System</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;fire2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;option_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>  <span class="c1"># Lynx</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;option_2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;r1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;r2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;righttrigger&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;l1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;l2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lefttrigger&quot;</span><span class="p">]</span>  <span class="c1"># PlayStation</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;cross&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;circle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;square&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;triangle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;select&quot;</span><span class="p">]</span>  <span class="c1"># NeoGeo pocket</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1"># SNES</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right-x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpright&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left-x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpleft&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up-x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpup&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down-x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpdown&quot;</span><span class="p">]</span>  <span class="c1"># Wonder Swan</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right-y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lstick_right&quot;</span><span class="p">]</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left-y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lstick_left&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up-y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lstick_up&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down-y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lstick_down&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up-l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpup&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down-l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpdown&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left-l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpleft&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right-l&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;dpright&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;up-r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rstick_up&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;down-r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rstick_down&quot;</span><span class="p">]</span>  <span class="c1"># Virtual boy</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;left-r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rstick_left&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;right-r&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rstick_right&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;lt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;leftshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>
    <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_code</span><span class="p">[</span><span class="s2">&quot;rightshoulder&quot;</span><span class="p">]</span>  <span class="c1">#</span>

    <span class="c1"># Define which buttons to use for each machine</span>
    <span class="n">layout</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;nes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
        <span class="s2">&quot;gb&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
        <span class="s2">&quot;gba&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;shoulder_r&quot;</span><span class="p">,</span>
            <span class="s2">&quot;shoulder_l&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">,</span>
            <span class="s2">&quot;select&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;pce&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;i&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ii&quot;</span><span class="p">,</span>
            <span class="s2">&quot;iii&quot;</span><span class="p">,</span>
            <span class="s2">&quot;iv&quot;</span><span class="p">,</span>
            <span class="s2">&quot;v&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">,</span>
            <span class="s2">&quot;select&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;ss&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;c&quot;</span><span class="p">,</span>
            <span class="s2">&quot;x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;y&quot;</span><span class="p">,</span>
            <span class="s2">&quot;z&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ls&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rs&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;gg&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;button1&quot;</span><span class="p">,</span> <span class="s2">&quot;button2&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
        <span class="s2">&quot;md&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;c&quot;</span><span class="p">,</span>
            <span class="s2">&quot;x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;y&quot;</span><span class="p">,</span>
            <span class="s2">&quot;z&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;sms&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;fire1&quot;</span><span class="p">,</span> <span class="s2">&quot;fire2&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
        <span class="s2">&quot;lynx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;option_1&quot;</span><span class="p">,</span> <span class="s2">&quot;option_2&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
        <span class="s2">&quot;psx&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;cross&quot;</span><span class="p">,</span>
            <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
            <span class="s2">&quot;square&quot;</span><span class="p">,</span>
            <span class="s2">&quot;triangle&quot;</span><span class="p">,</span>
            <span class="s2">&quot;l1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;l2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;r1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;r2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">,</span>
            <span class="s2">&quot;select&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lstick_up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lstick_down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lstick_right&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lstick_left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rstick_up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rstick_down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rstick_left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rstick_right&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;pcfx&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;i&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ii&quot;</span><span class="p">,</span>
            <span class="s2">&quot;iii&quot;</span><span class="p">,</span>
            <span class="s2">&quot;iv&quot;</span><span class="p">,</span>
            <span class="s2">&quot;v&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;run&quot;</span><span class="p">,</span>
            <span class="s2">&quot;select&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;ngp&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;option&quot;</span><span class="p">,</span> <span class="s2">&quot;up&quot;</span><span class="p">,</span> <span class="s2">&quot;down&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span>
        <span class="s2">&quot;snes&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;y&quot;</span><span class="p">,</span>
            <span class="s2">&quot;l&quot;</span><span class="p">,</span>
            <span class="s2">&quot;r&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">,</span>
            <span class="s2">&quot;select&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;wswan&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right-x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right-y&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left-x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left-y&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up-x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up-y&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down-x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down-y&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s2">&quot;vb&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;up-l&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down-l&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left-l&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right-l&quot;</span><span class="p">,</span>
            <span class="s2">&quot;up-r&quot;</span><span class="p">,</span>
            <span class="s2">&quot;down-r&quot;</span><span class="p">,</span>
            <span class="s2">&quot;left-r&quot;</span><span class="p">,</span>
            <span class="s2">&quot;right-r&quot;</span><span class="p">,</span>
            <span class="s2">&quot;a&quot;</span><span class="p">,</span>
            <span class="s2">&quot;b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lt&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rt&quot;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">}</span>
    <span class="c1"># Select a the gamepad type</span>
    <span class="n">controls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">machine</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;gg&quot;</span><span class="p">,</span> <span class="s2">&quot;lynx&quot;</span><span class="p">,</span> <span class="s2">&quot;wswan&quot;</span><span class="p">,</span> <span class="s2">&quot;gb&quot;</span><span class="p">,</span> <span class="s2">&quot;gba&quot;</span><span class="p">,</span> <span class="s2">&quot;vb&quot;</span><span class="p">]:</span>
        <span class="n">gamepad</span> <span class="o">=</span> <span class="s2">&quot;builtin.gamepad&quot;</span>
    <span class="k">elif</span> <span class="n">machine</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;md&quot;</span><span class="p">]:</span>
        <span class="n">gamepad</span> <span class="o">=</span> <span class="s2">&quot;port1.gamepad6&quot;</span>
        <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-md.input.port1&quot;</span><span class="p">)</span>
        <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;gamepad6&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">machine</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;psx&quot;</span><span class="p">]:</span>
        <span class="n">gamepad</span> <span class="o">=</span> <span class="s2">&quot;port1.dualshock&quot;</span>
        <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-psx.input.port1&quot;</span><span class="p">)</span>
        <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dualshock&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">gamepad</span> <span class="o">=</span> <span class="s2">&quot;port1.gamepad&quot;</span>

    <span class="c1"># Construct the controlls options</span>
    <span class="k">for</span> <span class="n">button</span> <span class="ow">in</span> <span class="n">layout</span><span class="p">[</span><span class="n">machine</span><span class="p">]:</span>
        <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">{}</span><span class="s2">.input.</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">machine</span><span class="p">,</span> <span class="n">gamepad</span><span class="p">,</span> <span class="n">button</span><span class="p">))</span>
        <span class="n">controls</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;joystick </span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">joy_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">map_code</span><span class="p">[</span><span class="n">button</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">controls</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.mupen64plus" class="doc doc-heading">
        <code>mupen64plus</code>



<a href="#lutris.runners.mupen64plus" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.mupen64plus.mupen64plus" class="doc doc-heading">
        <code>
mupen64plus            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.mupen64plus.mupen64plus" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/mupen64plus.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">mupen64plus</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Mupen64Plus&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo 64 emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo 64&quot;</span><span class="p">)]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;mupen64plus/mupen64plus&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data, commonly called a ROM image.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;hideosd&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hide OSD&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">working_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;mupen64plus&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;hideosd&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--noosd&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--osd&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--windowed&quot;</span><span class="p">)</span>
        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mupen64plus.mupen64plus.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.mupen64plus.mupen64plus.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mupen64plus.mupen64plus.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.mupen64plus.mupen64plus.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mupen64plus.mupen64plus.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.mupen64plus.mupen64plus.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mupen64plus.mupen64plus.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.mupen64plus.mupen64plus.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mupen64plus.mupen64plus.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.mupen64plus.mupen64plus.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mupen64plus.mupen64plus.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.mupen64plus.mupen64plus.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.mupen64plus.mupen64plus.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.mupen64plus.mupen64plus.working_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the working directory to use when running the game.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.mupen64plus.mupen64plus.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.mupen64plus.mupen64plus.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/mupen64plus.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;hideosd&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--noosd&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--osd&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--windowed&quot;</span><span class="p">)</span>
    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.o2em" class="doc doc-heading">
        <code>o2em</code>



<a href="#lutris.runners.o2em" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.o2em.o2em" class="doc doc-heading">
        <code>
o2em            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.o2em.o2em" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/o2em.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">o2em</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;O2EM&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Magnavox Odyssey² Emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Magnavox Odyssey²&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Phillips C52&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Phillips Videopac+&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Brandt Jopac&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">bios_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.o2em/bios&quot;</span><span class="p">)</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;o2em/o2em&quot;</span>

    <span class="n">checksums</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;o2rom&quot;</span><span class="p">:</span> <span class="s2">&quot;562d5ebf9e030a40d6fabfc2f33139fd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;c52&quot;</span><span class="p">:</span> <span class="s2">&quot;f1071cdb0b6b10dde94d3bc8a6146387&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jopac&quot;</span><span class="p">:</span> <span class="s2">&quot;279008e4a0db2dc5f1c048853b033828&quot;</span><span class="p">,</span>
        <span class="s2">&quot;g7400&quot;</span><span class="p">:</span> <span class="s2">&quot;79008e4a0db2dc5f1c048853b033828&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">bios_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Magnavox Odyssey²&quot;</span><span class="p">),</span> <span class="s2">&quot;o2rom&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Phillips C52&quot;</span><span class="p">),</span> <span class="s2">&quot;c52&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Phillips Videopac+&quot;</span><span class="p">),</span> <span class="s2">&quot;g7400&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Brandt Jopac&quot;</span><span class="p">),</span> <span class="s2">&quot;jopac&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">controller_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable&quot;</span><span class="p">),</span> <span class="s2">&quot;0&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arrow Keys and Right Shift&quot;</span><span class="p">),</span> <span class="s2">&quot;1&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;W,S,A,D,SPACE&quot;</span><span class="p">),</span> <span class="s2">&quot;2&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Joystick&quot;</span><span class="p">),</span> <span class="s2">&quot;3&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data, commonly called a ROM image.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;bios&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">bios_choices</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;BIOS&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;o2rom&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;controller1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">controller_choices</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;First controller&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;controller2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">controller_choices</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Second controller&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;scanlines&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Scanlines display style&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Activates a display filter adding scanlines to imitate &quot;</span>
                      <span class="s2">&quot;the displays of yesteryear.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bios</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bios&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">bios</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bios_choices</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">bios</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bios_path</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bios_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
                <span class="n">callback</span><span class="p">()</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">on_runner_installed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;-biosdir=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">bios_path</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fullscreen&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scanlines&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-scanlines&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;controller1&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-s1=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;controller1&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="s2">&quot;controller2&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-s2=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;controller2&quot;</span><span class="p">])</span>
        <span class="n">rom_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom_path</span><span class="p">}</span>
        <span class="n">romdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">rom_path</span><span class="p">)</span>
        <span class="n">romfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">rom_path</span><span class="p">)</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-romdir=</span><span class="si">%s</span><span class="s2">/&quot;</span> <span class="o">%</span> <span class="n">romdir</span><span class="p">)</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">romfile</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span> <span class="o">+</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.bios_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">bios_choices</span></code>


<a href="#lutris.runners.o2em.o2em.bios_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.bios_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">bios_path</span></code>


<a href="#lutris.runners.o2em.o2em.bios_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.checksums" class="doc doc-heading">
<code class="highlight language-python"><span class="n">checksums</span></code>


<a href="#lutris.runners.o2em.o2em.checksums" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.controller_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">controller_choices</span></code>


<a href="#lutris.runners.o2em.o2em.controller_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.o2em.o2em.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.o2em.o2em.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.o2em.o2em.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.o2em.o2em.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.o2em.o2em.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.o2em.o2em.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.o2em.o2em.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.o2em.o2em.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.o2em.o2em.get_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/o2em.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">bios</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bios&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">bios</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bios_choices</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">bios</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.o2em.o2em.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.o2em.o2em.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/o2em.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bios_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bios_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">()</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">on_runner_installed</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.o2em.o2em.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.o2em.o2em.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/o2em.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;-biosdir=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">bios_path</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fullscreen&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scanlines&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-scanlines&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;controller1&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-s1=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;controller1&quot;</span><span class="p">])</span>
    <span class="k">if</span> <span class="s2">&quot;controller2&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-s2=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;controller2&quot;</span><span class="p">])</span>
    <span class="n">rom_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom_path</span><span class="p">}</span>
    <span class="n">romdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">rom_path</span><span class="p">)</span>
    <span class="n">romfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">rom_path</span><span class="p">)</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-romdir=</span><span class="si">%s</span><span class="s2">/&quot;</span> <span class="o">%</span> <span class="n">romdir</span><span class="p">)</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">romfile</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span> <span class="o">+</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.openmsx" class="doc doc-heading">
        <code>openmsx</code>



<a href="#lutris.runners.openmsx" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.openmsx.openmsx" class="doc doc-heading">
        <code>
openmsx            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.openmsx.openmsx" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/openmsx.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">openmsx</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;openMSX&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;MSX computer emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;MSX, MSX2, MSX2+, MSX turboR&quot;</span><span class="p">)]</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data, commonly called a ROM image.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="n">rom</span><span class="p">]}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.openmsx.openmsx.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.openmsx.openmsx.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.openmsx.openmsx.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.openmsx.openmsx.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.openmsx.openmsx.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.openmsx.openmsx.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.openmsx.openmsx.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.openmsx.openmsx.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.openmsx.openmsx.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.openmsx.openmsx.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/openmsx.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="n">rom</span><span class="p">]}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.osmose" class="doc doc-heading">
        <code>osmose</code>



<a href="#lutris.runners.osmose" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.osmose.osmose" class="doc doc-heading">
        <code>
osmose            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.osmose.osmose" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/osmose.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">osmose</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Osmose&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Master System Emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Master System&quot;</span><span class="p">)]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;osmose/osmose&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span>
            <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The game data, commonly called a ROM image.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Supported formats: SMS and GG files. ZIP compressed &quot;</span>
                <span class="s2">&quot;ROMs are supported.&quot;</span>
            <span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
        <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">}]</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run Sega Master System game&quot;&quot;&quot;</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fs&quot;</span><span class="p">)</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-bilinear&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.osmose.osmose.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.osmose.osmose.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.osmose.osmose.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.osmose.osmose.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.osmose.osmose.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.osmose.osmose.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.osmose.osmose.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.osmose.osmose.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.osmose.osmose.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.osmose.osmose.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.osmose.osmose.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.osmose.osmose.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.osmose.osmose.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.osmose.osmose.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run Sega Master System game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/osmose.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run Sega Master System game&quot;&quot;&quot;</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fs&quot;</span><span class="p">)</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-bilinear&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.pcsx2" class="doc doc-heading">
        <code>pcsx2</code>



<a href="#lutris.runners.pcsx2" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.pcsx2.pcsx2" class="doc doc-heading">
        <code>
pcsx2            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.pcsx2.pcsx2" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/pcsx2.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">pcsx2</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;PCSX2&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;PlayStation 2 emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sony PlayStation 2&quot;</span><span class="p">)]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;pcsx2/PCSX2&quot;</span>
    <span class="n">arch</span> <span class="o">=</span> <span class="s2">&quot;i386&quot;</span>
    <span class="n">require_libs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;libOpenGL.so.0&quot;</span><span class="p">,</span> <span class="s2">&quot;libgdk-x11-2.0.so.0&quot;</span><span class="p">,</span> <span class="s2">&quot;libEGL.so.1&quot;</span><span class="p">]</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[{</span>
        <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ISO file&quot;</span><span class="p">),</span>
        <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
    <span class="p">}]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;full_boot&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullboot&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;nogui&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No GUI&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;config_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom config file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;config_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom config path&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;full_boot&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullboot&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nogui&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--nogui&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config_file&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--cfg=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;config_file&quot;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config_path&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--cfgpath=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;config_path&quot;</span><span class="p">]))</span>

        <span class="n">iso</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">iso</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">iso</span><span class="p">}</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iso</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">arch</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.arch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.require_libs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">require_libs</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.require_libs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pcsx2.pcsx2.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.pcsx2.pcsx2.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.pcsx2.pcsx2.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/pcsx2.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;full_boot&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullboot&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nogui&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--nogui&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config_file&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--cfg=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;config_file&quot;</span><span class="p">]))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config_path&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--cfgpath=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;config_path&quot;</span><span class="p">]))</span>

    <span class="n">iso</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">iso</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">iso</span><span class="p">}</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iso</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.pico8" class="doc doc-heading">
        <code>pico8</code>



<a href="#lutris.runners.pico8" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Runner for the PICO-8 fantasy console</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.pico8.DOWNLOAD_URL" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DOWNLOAD_URL</span></code>


<a href="#lutris.runners.pico8.DOWNLOAD_URL" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.pico8.pico8" class="doc doc-heading">
        <code>
pico8            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.pico8.pico8" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/pico8.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">pico8</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Runs PICO-8 fantasy console cartridges&quot;</span><span class="p">)</span>
    <span class="n">multiple_versions</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;PICO-8&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;PICO-8&quot;</span><span class="p">)]</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Cartridge file/URL/ID&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;You can put a .p8.png file path, URL, or BBS cartridge ID here.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Launch in fullscreen.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;window_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Window size&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;640x512&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The initial size of the game window.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;splore&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start in splore mode&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Extra arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Extra arguments to the executable&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;engine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Engine (web only)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;pico8_0111g_4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Name of engine (will be downloaded) or local file path&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">system_options_override</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;disable_runtime&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}]</span>

    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;pico8/web.py&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">runnable_alone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;PICO-8 runner (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">opts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;callback&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span> <span class="o">+</span> <span class="s2">&quot;/pico8&quot;</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;merge_single&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">downloader</span><span class="p">:</span>
            <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;downloader&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">downloader</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unsupported download for this runner&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">download_and_extract</span><span class="p">(</span><span class="n">DOWNLOAD_URL</span><span class="p">,</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_native</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">engine_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">engine</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.js&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">engine</span><span class="p">):</span>
            <span class="n">engine</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span>
                <span class="s2">&quot;pico8/web/engines&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.js&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">engine</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cart_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">main_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span> <span class="ow">and</span> <span class="n">main_file</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/cartridges&quot;</span><span class="p">,</span> <span class="s2">&quot;tmp.p8.png&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">main_file</span><span class="p">)</span> <span class="ow">and</span> <span class="n">main_file</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/cartridges&quot;</span><span class="p">,</span> <span class="n">main_file</span> <span class="o">+</span> <span class="s2">&quot;.p8.png&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">main_file</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">launch_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
            <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-windowed&quot;</span><span class="p">)</span>
            <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;0&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;1&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;splore&quot;</span><span class="p">):</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-splore&quot;</span><span class="p">)</span>

            <span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;window_size&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">size</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-width&quot;</span><span class="p">)</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-height&quot;</span><span class="p">)</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">extra_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">extra_args</span><span class="p">):</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/web/player.html&quot;</span><span class="p">),</span>
                <span class="s2">&quot;--window-size&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;window_size&quot;</span><span class="p">),</span>
            <span class="p">]</span>
        <span class="k">return</span> <span class="n">args</span>

    <span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)}</span>

    <span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if pico8 runner is installed and if the pico8 executable available.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">)):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/web/player.html&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/cartridges&quot;</span><span class="p">,</span> <span class="s2">&quot;tmp.p8.png&quot;</span><span class="p">)):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/cartridges&quot;</span><span class="p">,</span> <span class="s2">&quot;tmp.p8.png&quot;</span><span class="p">))</span>

        <span class="c1"># Don&#39;t download cartridge if using web backend and cart is url</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
                    <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>
                    <span class="n">num</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">pid</span> <span class="o">/</span> <span class="mi">10000</span><span class="p">)</span>
                    <span class="n">downloadUrl</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https://www.lexaloffle.com/bbs/cposts/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.p8.png&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">downloadUrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
                <span class="n">cartPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cart_path</span>
                <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">cartPath</span><span class="p">))</span>

                <span class="n">downloadCompleted</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="k">def</span> <span class="nf">on_downloaded_cart</span><span class="p">():</span>
                    <span class="k">nonlocal</span> <span class="n">downloadCompleted</span>
                    <span class="c1"># If we are offline we don&#39;t want an empty file to overwrite the cartridge</span>
                    <span class="k">if</span> <span class="n">dl</span><span class="o">.</span><span class="n">downloaded_size</span><span class="p">:</span>
                        <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">cartPath</span> <span class="o">+</span> <span class="s2">&quot;.download&quot;</span><span class="p">,</span> <span class="n">cartPath</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cartPath</span> <span class="o">+</span> <span class="s2">&quot;.download&quot;</span><span class="p">)</span>
                    <span class="n">downloadCompleted</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="n">dl</span> <span class="o">=</span> <span class="n">Downloader</span><span class="p">(</span>
                    <span class="n">downloadUrl</span><span class="p">,</span>
                    <span class="n">cartPath</span> <span class="o">+</span> <span class="s2">&quot;.download&quot;</span><span class="p">,</span>
                    <span class="kc">True</span><span class="p">,</span>
                    <span class="n">callback</span><span class="o">=</span><span class="n">on_downloaded_cart</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">dl</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

                <span class="c1"># Wait for download to complete or continue if it exists (to work in offline mode)</span>
                <span class="k">while</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cartPath</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">downloadCompleted</span> <span class="ow">or</span> <span class="n">dl</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">Downloader</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not download cartridge from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">downloadUrl</span><span class="p">)</span>
                        <span class="k">return</span> <span class="kc">False</span>
                    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

        <span class="c1"># Download js engine</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)):</span>
            <span class="n">enginePath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span>
                <span class="s2">&quot;pico8/web/engines&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.js&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">enginePath</span><span class="p">):</span>
                <span class="n">downloadUrl</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https://www.lexaloffle.com/bbs/&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.js&quot;</span><span class="p">)</span>
                <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">enginePath</span><span class="p">))</span>
                <span class="n">downloadCompleted</span> <span class="o">=</span> <span class="kc">False</span>

                <span class="k">def</span> <span class="nf">on_downloaded_engine</span><span class="p">():</span>
                    <span class="k">nonlocal</span> <span class="n">downloadCompleted</span>
                    <span class="n">downloadCompleted</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="n">dl</span> <span class="o">=</span> <span class="n">Downloader</span><span class="p">(</span><span class="n">downloadUrl</span><span class="p">,</span> <span class="n">enginePath</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">on_downloaded_engine</span><span class="p">)</span>
                <span class="n">dl</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
                <span class="n">dl</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>  <span class="c1"># Doesn&#39;t actually wait until finished</span>

                <span class="c1"># Waits for download to complete</span>
                <span class="k">while</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">enginePath</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">downloadCompleted</span> <span class="ow">or</span> <span class="n">dl</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">Downloader</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not download engine from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">downloadUrl</span><span class="p">)</span>
                        <span class="k">return</span> <span class="kc">False</span>
                    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">launch_info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">game_data</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config_id</span><span class="p">,</span> <span class="s2">&quot;configpath&quot;</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;splore&quot;</span><span class="p">):</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-run&quot;</span><span class="p">)</span>
            <span class="n">cartPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cart_path</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cartPath</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">cartPath</span><span class="p">}</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cartPath</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--name&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - PICO-8&quot;</span><span class="p">)</span>

            <span class="c1"># icon = datapath.get_icon_path(game_data.get(&quot;slug&quot;))</span>
            <span class="c1"># if icon:</span>
            <span class="c1">#     command.append(&quot;--icon&quot;)</span>
            <span class="c1">#     command.append(icon)</span>

            <span class="n">webargs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;cartridge&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cart_path</span><span class="p">,</span>
                <span class="s2">&quot;engine&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine_path</span><span class="p">,</span>
                <span class="s2">&quot;fullscreen&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--execjs&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;load_config(&quot;</span> <span class="o">+</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">webargs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">)</span>

        <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="n">launch_info</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.cart_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cart_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.pico8.pico8.cart_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.pico8.pico8.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.engine_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">engine_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.pico8.pico8.engine_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.pico8.pico8.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.pico8.pico8.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.is_native" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_native</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.pico8.pico8.is_native" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.launch_args" class="doc doc-heading">
<code class="highlight language-python"><span class="n">launch_args</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.pico8.pico8.launch_args" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.multiple_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">multiple_versions</span></code>


<a href="#lutris.runners.pico8.pico8.multiple_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.pico8.pico8.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.pico8.pico8.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.pico8.pico8.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.pico8.pico8.system_options_override" class="doc doc-heading">
<code class="highlight language-python"><span class="n">system_options_override</span></code>


<a href="#lutris.runners.pico8.pico8.system_options_override" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.pico8.pico8.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.pico8.pico8.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/pico8.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">runnable_alone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.pico8.pico8.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.pico8.pico8.__repr__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/pico8.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;PICO-8 runner (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.pico8.pico8.get_run_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.pico8.pico8.get_run_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return dict with command (exe &amp; args list) and env vars (dict).</p>
<p>Reimplement in derived runner if need be.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/pico8.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.pico8.pico8.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.pico8.pico8.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/pico8.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">opts</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;callback&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
    <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span> <span class="o">+</span> <span class="s2">&quot;/pico8&quot;</span>
    <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;merge_single&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">downloader</span><span class="p">:</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;downloader&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">downloader</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unsupported download for this runner&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">download_and_extract</span><span class="p">(</span><span class="n">DOWNLOAD_URL</span><span class="p">,</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.pico8.pico8.is_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.pico8.pico8.is_installed" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Checks if pico8 runner is installed and if the pico8 executable available.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/pico8.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Checks if pico8 runner is installed and if the pico8 executable available.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/web/player.html&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.pico8.pico8.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.pico8.pico8.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/pico8.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">launch_info</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">game_data</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config_id</span><span class="p">,</span> <span class="s2">&quot;configpath&quot;</span><span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;splore&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-run&quot;</span><span class="p">)</span>
        <span class="n">cartPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cart_path</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cartPath</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">cartPath</span><span class="p">}</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cartPath</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--name&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - PICO-8&quot;</span><span class="p">)</span>

        <span class="c1"># icon = datapath.get_icon_path(game_data.get(&quot;slug&quot;))</span>
        <span class="c1"># if icon:</span>
        <span class="c1">#     command.append(&quot;--icon&quot;)</span>
        <span class="c1">#     command.append(icon)</span>

        <span class="n">webargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;cartridge&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cart_path</span><span class="p">,</span>
            <span class="s2">&quot;engine&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine_path</span><span class="p">,</span>
            <span class="s2">&quot;fullscreen&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--execjs&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;load_config(&quot;</span> <span class="o">+</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">webargs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">)</span>

    <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
    <span class="k">return</span> <span class="n">launch_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.pico8.pico8.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.pico8.pico8.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/pico8.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/cartridges&quot;</span><span class="p">,</span> <span class="s2">&quot;tmp.p8.png&quot;</span><span class="p">)):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;pico8/cartridges&quot;</span><span class="p">,</span> <span class="s2">&quot;tmp.p8.png&quot;</span><span class="p">))</span>

    <span class="c1"># Don&#39;t download cartridge if using web backend and cart is url</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
                <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>
                <span class="n">num</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">pid</span> <span class="o">/</span> <span class="mi">10000</span><span class="p">)</span>
                <span class="n">downloadUrl</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https://www.lexaloffle.com/bbs/cposts/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.p8.png&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">downloadUrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
            <span class="n">cartPath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cart_path</span>
            <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">cartPath</span><span class="p">))</span>

            <span class="n">downloadCompleted</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">def</span> <span class="nf">on_downloaded_cart</span><span class="p">():</span>
                <span class="k">nonlocal</span> <span class="n">downloadCompleted</span>
                <span class="c1"># If we are offline we don&#39;t want an empty file to overwrite the cartridge</span>
                <span class="k">if</span> <span class="n">dl</span><span class="o">.</span><span class="n">downloaded_size</span><span class="p">:</span>
                    <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">cartPath</span> <span class="o">+</span> <span class="s2">&quot;.download&quot;</span><span class="p">,</span> <span class="n">cartPath</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cartPath</span> <span class="o">+</span> <span class="s2">&quot;.download&quot;</span><span class="p">)</span>
                <span class="n">downloadCompleted</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="n">dl</span> <span class="o">=</span> <span class="n">Downloader</span><span class="p">(</span>
                <span class="n">downloadUrl</span><span class="p">,</span>
                <span class="n">cartPath</span> <span class="o">+</span> <span class="s2">&quot;.download&quot;</span><span class="p">,</span>
                <span class="kc">True</span><span class="p">,</span>
                <span class="n">callback</span><span class="o">=</span><span class="n">on_downloaded_cart</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">dl</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

            <span class="c1"># Wait for download to complete or continue if it exists (to work in offline mode)</span>
            <span class="k">while</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">cartPath</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">downloadCompleted</span> <span class="ow">or</span> <span class="n">dl</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">Downloader</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not download cartridge from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">downloadUrl</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

    <span class="c1"># Download js engine</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_native</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)):</span>
        <span class="n">enginePath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span>
            <span class="s2">&quot;pico8/web/engines&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.js&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">enginePath</span><span class="p">):</span>
            <span class="n">downloadUrl</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https://www.lexaloffle.com/bbs/&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.js&quot;</span><span class="p">)</span>
            <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">enginePath</span><span class="p">))</span>
            <span class="n">downloadCompleted</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">def</span> <span class="nf">on_downloaded_engine</span><span class="p">():</span>
                <span class="k">nonlocal</span> <span class="n">downloadCompleted</span>
                <span class="n">downloadCompleted</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="n">dl</span> <span class="o">=</span> <span class="n">Downloader</span><span class="p">(</span><span class="n">downloadUrl</span><span class="p">,</span> <span class="n">enginePath</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">on_downloaded_engine</span><span class="p">)</span>
            <span class="n">dl</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="n">dl</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>  <span class="c1"># Doesn&#39;t actually wait until finished</span>

            <span class="c1"># Waits for download to complete</span>
            <span class="k">while</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">enginePath</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">downloadCompleted</span> <span class="ow">or</span> <span class="n">dl</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">Downloader</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not download engine from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">downloadUrl</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.redream" class="doc doc-heading">
        <code>redream</code>



<a href="#lutris.runners.redream" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.redream.redream" class="doc doc-heading">
        <code>
redream            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.redream.redream" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/redream.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">redream</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Redream&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Dreamcast emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Dreamcast&quot;</span><span class="p">)]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;redream/redream&quot;</span>
    <span class="n">download_url</span> <span class="o">=</span> <span class="s2">&quot;https://redream.io/download/redream.x86_64-linux-v1.5.0.tar.gz&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disc image file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game data file</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="s2">&quot;Supported formats: GDI, CDI, CHD&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fs&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Aspect Ratio&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;4:3&quot;</span><span class="p">),</span> <span class="s2">&quot;4:3&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Stretch&quot;</span><span class="p">),</span> <span class="s2">&quot;stretch&quot;</span><span class="p">)],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;4:3&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;region&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Region&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;USA&quot;</span><span class="p">),</span> <span class="s2">&quot;usa&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Europe&quot;</span><span class="p">),</span> <span class="s2">&quot;europe&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Japan&quot;</span><span class="p">),</span> <span class="s2">&quot;japan&quot;</span><span class="p">)],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;usa&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;language&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;System Language&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;English&quot;</span><span class="p">),</span> <span class="s2">&quot;english&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;German&quot;</span><span class="p">),</span> <span class="s2">&quot;german&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;French&quot;</span><span class="p">),</span> <span class="s2">&quot;french&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Spanish&quot;</span><span class="p">),</span> <span class="s2">&quot;spanish&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Italian&quot;</span><span class="p">),</span> <span class="s2">&quot;italian&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Japanese&quot;</span><span class="p">),</span> <span class="s2">&quot;japanese&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;english&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;broadcast&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Television System&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;NTSC&quot;</span><span class="p">),</span> <span class="s2">&quot;ntsc&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;PAL&quot;</span><span class="p">),</span> <span class="s2">&quot;pal&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;PAL-M (Brazil)&quot;</span><span class="p">),</span> <span class="s2">&quot;pal_m&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;PAL-N (Argentina, Paraguay, Uruguay)&quot;</span><span class="p">),</span> <span class="s2">&quot;pal_n&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;ntsc&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;time_sync&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Time Sync&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Audio and video&quot;</span><span class="p">),</span> <span class="s2">&quot;audio and video&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Audio&quot;</span><span class="p">),</span> <span class="s2">&quot;audio&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Video&quot;</span><span class="p">),</span> <span class="s2">&quot;video&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">),</span> <span class="s2">&quot;none&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;audio and video&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;int_res&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Internal Video Resolution Scale&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="s2">&quot;×1&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;×2&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;×3&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;×4&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;×5&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;×6&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;×7&quot;</span><span class="p">,</span> <span class="s2">&quot;7&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;×8&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Only available in premium version.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="n">dlg</span> <span class="o">=</span> <span class="n">QuestionDialog</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Do you want to select a premium license file?&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use premium version?&quot;</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">result</span> <span class="o">==</span> <span class="n">dlg</span><span class="o">.</span><span class="n">YES</span><span class="p">:</span>
                <span class="n">license_dlg</span> <span class="o">=</span> <span class="n">FileDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Select a license file&quot;</span><span class="p">))</span>
                <span class="n">license_filename</span> <span class="o">=</span> <span class="n">license_dlg</span><span class="o">.</span><span class="n">filename</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">license_filename</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span>
                    <span class="n">license_filename</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;redream&quot;</span><span class="p">)</span>
                <span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">on_runner_installed</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fs&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen=1&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen=0&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ar&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--aspect=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ar&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;region&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--region=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;region&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;language&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--language=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;language&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;broadcast&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--broadcast=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;broadcast&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;time_sync&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--time_sync=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;time_sync&quot;</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;int_res&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--res=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;int_res&quot;</span><span class="p">))</span>

        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.redream.redream.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.redream.redream.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.redream.redream.download_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_url</span></code>


<a href="#lutris.runners.redream.redream.download_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.redream.redream.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.redream.redream.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.redream.redream.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.redream.redream.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.redream.redream.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.redream.redream.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.redream.redream.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.redream.redream.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.redream.redream.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.redream.redream.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.redream.redream.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.redream.redream.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/redream.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">QuestionDialog</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Do you want to select a premium license file?&quot;</span><span class="p">),</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use premium version?&quot;</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">result</span> <span class="o">==</span> <span class="n">dlg</span><span class="o">.</span><span class="n">YES</span><span class="p">:</span>
            <span class="n">license_dlg</span> <span class="o">=</span> <span class="n">FileDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Select a license file&quot;</span><span class="p">))</span>
            <span class="n">license_filename</span> <span class="o">=</span> <span class="n">license_dlg</span><span class="o">.</span><span class="n">filename</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">license_filename</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span>
                <span class="n">license_filename</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;redream&quot;</span><span class="p">)</span>
            <span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="n">downloader</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">on_runner_installed</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.redream.redream.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.redream.redream.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/redream.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fs&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen=1&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen=0&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ar&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--aspect=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ar&quot;</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;region&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--region=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;region&quot;</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;language&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--language=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;language&quot;</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;broadcast&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--broadcast=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;broadcast&quot;</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;time_sync&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--time_sync=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;time_sync&quot;</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;int_res&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--res=&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;int_res&quot;</span><span class="p">))</span>

    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">))</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.reicast" class="doc doc-heading">
        <code>reicast</code>



<a href="#lutris.runners.reicast" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.reicast.reicast" class="doc doc-heading">
        <code>
reicast            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.reicast.reicast" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/reicast.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">reicast</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Reicast&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Dreamcast emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sega Dreamcast&quot;</span><span class="p">)]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;reicast/reicast.elf&quot;</span>
    <span class="n">entry_point_option</span> <span class="o">=</span> <span class="s2">&quot;iso&quot;</span>

    <span class="n">joypads</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;iso&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disc image file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data.</span><span class="se">\n</span><span class="s2">&quot;</span>
                      <span class="s2">&quot;Supported formats: ISO, CDI&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device_id_1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Gamepad 1&quot;</span><span class="p">),</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device_id_2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Gamepad 2&quot;</span><span class="p">),</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device_id_3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Gamepad 3&quot;</span><span class="p">),</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device_id_4&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Gamepad 4&quot;</span><span class="p">),</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="n">mapping_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.reicast/mappings&quot;</span><span class="p">)</span>
            <span class="n">mapping_source</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;reicast/mappings&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">mapping_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">mapping_source</span><span class="p">):</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mapping_source</span><span class="p">,</span> <span class="n">mapping_file</span><span class="p">),</span> <span class="n">mapping_path</span><span class="p">)</span>

            <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.reicast/data&quot;</span><span class="p">)</span>
            <span class="n">NoticeDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;You have to copy valid BIOS files to ~/.reicast/data before playing&quot;</span><span class="p">))</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">on_runner_installed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_joypads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return list of joypad in a format usable in the options&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">joypads</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">joypads</span>
        <span class="n">joypad_list</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;No joystick&quot;</span><span class="p">,</span> <span class="s2">&quot;-1&quot;</span><span class="p">)]</span>
        <span class="n">joypad_devices</span> <span class="o">=</span> <span class="n">joypad</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">()</span>
        <span class="n">name_counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">([</span><span class="n">j</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">joypad_devices</span><span class="p">])</span>
        <span class="n">name_indexes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">joy_name</span><span class="p">)</span> <span class="ow">in</span> <span class="n">joypad_devices</span><span class="p">:</span>
            <span class="n">dev_id</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\d+)&quot;</span><span class="p">,</span> <span class="n">dev</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">name_counter</span><span class="p">[</span><span class="n">joy_name</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">joy_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">name_indexes</span><span class="p">:</span>
                    <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">index</span> <span class="o">=</span> <span class="n">name_indexes</span><span class="p">[</span><span class="n">joy_name</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">name_indexes</span><span class="p">[</span><span class="n">joy_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">index</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">index</span><span class="p">:</span>
                <span class="n">joy_name</span> <span class="o">+=</span> <span class="s2">&quot; (</span><span class="si">%d</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="n">index</span>
            <span class="n">joypad_list</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">joy_name</span><span class="p">,</span> <span class="n">dev_id</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">joypads</span> <span class="o">=</span> <span class="n">joypad_list</span>
        <span class="k">return</span> <span class="n">joypad_list</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">write_config</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
        <span class="c1"># use RawConfigParser to preserve case-sensitive configs written by Reicast</span>
        <span class="c1"># otherwise, Reicast will write with mixed-case and Lutris will overwrite with all lowercase</span>
        <span class="c1">#   which will confuse Reicast</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">RawConfigParser</span><span class="p">()</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">optionxform</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">option</span><span class="p">:</span> <span class="n">option</span>

        <span class="n">config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.reicast/emu.cfg&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
                <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">config</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">parser</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
                <span class="n">parser</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">config</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">parser</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fullscreen</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>
        <span class="n">reicast_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;x11&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;fullscreen&quot;</span><span class="p">:</span> <span class="n">fullscreen</span>
            <span class="p">},</span>
            <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s2">&quot;players&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;nb&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="n">players</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">reicast_config</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="n">config_string</span> <span class="o">=</span> <span class="s2">&quot;device_id_</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">index</span>
            <span class="n">joy_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">config_string</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;-1&quot;</span>
            <span class="n">reicast_config</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;evdev_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_string</span><span class="p">)]</span> <span class="o">=</span> <span class="n">joy_id</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">joy_id</span> <span class="o">!=</span> <span class="s2">&quot;-1&quot;</span><span class="p">:</span>
                <span class="n">players</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">reicast_config</span><span class="p">[</span><span class="s2">&quot;players&quot;</span><span class="p">][</span><span class="s2">&quot;nb&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">players</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">(</span><span class="n">reicast_config</span><span class="p">)</span>

        <span class="n">iso</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iso&quot;</span><span class="p">)</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-config&quot;</span><span class="p">,</span> <span class="s2">&quot;config:image=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">iso</span><span class="p">)]</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.reicast.reicast.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.reicast.reicast.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.reicast.reicast.entry_point_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entry_point_option</span></code>


<a href="#lutris.runners.reicast.reicast.entry_point_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.reicast.reicast.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.reicast.reicast.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.reicast.reicast.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.reicast.reicast.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.reicast.reicast.joypads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">joypads</span></code>


<a href="#lutris.runners.reicast.reicast.joypads" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.reicast.reicast.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.reicast.reicast.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.reicast.reicast.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.reicast.reicast.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.reicast.reicast.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.reicast.reicast.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/reicast.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device_id_1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Gamepad 1&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device_id_2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Gamepad 2&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device_id_3&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Gamepad 3&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;device_id_4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Gamepad 4&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.reicast.reicast.get_joypads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_joypads</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.reicast.reicast.get_joypads" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return list of joypad in a format usable in the options</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/reicast.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_joypads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return list of joypad in a format usable in the options&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">joypads</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">joypads</span>
    <span class="n">joypad_list</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;No joystick&quot;</span><span class="p">,</span> <span class="s2">&quot;-1&quot;</span><span class="p">)]</span>
    <span class="n">joypad_devices</span> <span class="o">=</span> <span class="n">joypad</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">()</span>
    <span class="n">name_counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">([</span><span class="n">j</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">joypad_devices</span><span class="p">])</span>
    <span class="n">name_indexes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">joy_name</span><span class="p">)</span> <span class="ow">in</span> <span class="n">joypad_devices</span><span class="p">:</span>
        <span class="n">dev_id</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\d+)&quot;</span><span class="p">,</span> <span class="n">dev</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">name_counter</span><span class="p">[</span><span class="n">joy_name</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">joy_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">name_indexes</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">name_indexes</span><span class="p">[</span><span class="n">joy_name</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">name_indexes</span><span class="p">[</span><span class="n">joy_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">index</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">index</span><span class="p">:</span>
            <span class="n">joy_name</span> <span class="o">+=</span> <span class="s2">&quot; (</span><span class="si">%d</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="n">index</span>
        <span class="n">joypad_list</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">joy_name</span><span class="p">,</span> <span class="n">dev_id</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">joypads</span> <span class="o">=</span> <span class="n">joypad_list</span>
    <span class="k">return</span> <span class="n">joypad_list</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.reicast.reicast.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.reicast.reicast.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/reicast.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">mapping_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.reicast/mappings&quot;</span><span class="p">)</span>
        <span class="n">mapping_source</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;reicast/mappings&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">mapping_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">mapping_source</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mapping_source</span><span class="p">,</span> <span class="n">mapping_file</span><span class="p">),</span> <span class="n">mapping_path</span><span class="p">)</span>

        <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.reicast/data&quot;</span><span class="p">)</span>
        <span class="n">NoticeDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;You have to copy valid BIOS files to ~/.reicast/data before playing&quot;</span><span class="p">))</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">on_runner_installed</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.reicast.reicast.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.reicast.reicast.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/reicast.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">fullscreen</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>
    <span class="n">reicast_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;x11&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;fullscreen&quot;</span><span class="p">:</span> <span class="n">fullscreen</span>
        <span class="p">},</span>
        <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="p">{},</span>
        <span class="s2">&quot;players&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;nb&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">players</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">reicast_config</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
        <span class="n">config_string</span> <span class="o">=</span> <span class="s2">&quot;device_id_</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">index</span>
        <span class="n">joy_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">config_string</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;-1&quot;</span>
        <span class="n">reicast_config</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;evdev_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_string</span><span class="p">)]</span> <span class="o">=</span> <span class="n">joy_id</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">joy_id</span> <span class="o">!=</span> <span class="s2">&quot;-1&quot;</span><span class="p">:</span>
            <span class="n">players</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">reicast_config</span><span class="p">[</span><span class="s2">&quot;players&quot;</span><span class="p">][</span><span class="s2">&quot;nb&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">players</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">write_config</span><span class="p">(</span><span class="n">reicast_config</span><span class="p">)</span>

    <span class="n">iso</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iso&quot;</span><span class="p">)</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-config&quot;</span><span class="p">,</span> <span class="s2">&quot;config:image=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">iso</span><span class="p">)]</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.reicast.reicast.write_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_config</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.reicast.reicast.write_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/reicast.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">write_config</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
    <span class="c1"># use RawConfigParser to preserve case-sensitive configs written by Reicast</span>
    <span class="c1"># otherwise, Reicast will write with mixed-case and Lutris will overwrite with all lowercase</span>
    <span class="c1">#   which will confuse Reicast</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">RawConfigParser</span><span class="p">()</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">optionxform</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">option</span><span class="p">:</span> <span class="n">option</span>

    <span class="n">config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.reicast/emu.cfg&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_path</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">config</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">parser</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">config</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.residualvm" class="doc doc-heading">
        <code>residualvm</code>



<a href="#lutris.runners.residualvm" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>ResidualVM runner</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.residualvm.RESIDUALVM_CONFIG_FILE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">RESIDUALVM_CONFIG_FILE</span></code>


<a href="#lutris.runners.residualvm.RESIDUALVM_CONFIG_FILE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.residualvm.residualvm" class="doc doc-heading">
        <code>
residualvm            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.residualvm.residualvm" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/residualvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">residualvm</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ResidualVM&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">)]</span>  <span class="c1"># TODO</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;3D point-and-click adventure games engine&quot;</span><span class="p">)</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;residualvm/residualvm&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game identifier&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game files location&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;subtitles&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable subtitles (if the game has voice)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;renderer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Renderer&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="p">(</span><span class="s2">&quot;OpenGL&quot;</span><span class="p">,</span> <span class="s2">&quot;opengl&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;OpenGL shaders&quot;</span><span class="p">),</span> <span class="s2">&quot;opengl_shaders&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Software&quot;</span><span class="p">),</span> <span class="s2">&quot;software&quot;</span><span class="p">),</span>
            <span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;opengl&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;show-fps&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Display FPS information&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">game_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_residualvm_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">root_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_dir</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
            <span class="s2">&quot;--extrapath=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_residualvm_data_dir</span><span class="p">(),</span>
            <span class="s2">&quot;--themepath=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_residualvm_data_dir</span><span class="p">(),</span>
        <span class="p">]</span>

        <span class="c1"># Options</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;subtitles&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--subtitles&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-fullscreen&quot;</span><span class="p">)</span>

        <span class="n">renderer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderer&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">renderer</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--renderer=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">renderer</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show-fps&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--show-fps&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-show-fps&quot;</span><span class="p">)</span>
        <span class="c1"># /Options</span>

        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--path=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game_id&quot;</span><span class="p">))</span>

        <span class="n">launch_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>

        <span class="k">return</span> <span class="n">launch_info</span>

    <span class="k">def</span> <span class="nf">get_game_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the entire list of games supported by ResidualVM.&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;--list-games&quot;</span><span class="p">],</span>
                              <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">residualvm_process</span><span class="p">:</span>
            <span class="n">residual_output</span> <span class="o">=</span> <span class="n">residualvm_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">game_list</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">residual_output</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">game_array</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">game_list_start</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">game_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">game_list_start</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">dir_limit</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dir_limit</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">dir_limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">game_dir</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">dir_limit</span><span class="p">]</span>
                    <span class="n">game_name</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="n">dir_limit</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">game</span><span class="p">)]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="n">game_array</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">game_dir</span><span class="p">,</span> <span class="n">game_name</span><span class="p">])</span>
            <span class="c1"># The actual list is below a separator</span>
            <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;-----&quot;</span><span class="p">):</span>
                <span class="n">game_list_start</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">game_array</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.residualvm.residualvm.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.residualvm.residualvm.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.residualvm.residualvm.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.residualvm.residualvm.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.residualvm.residualvm.game_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.residualvm.residualvm.game_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the directory where the game is installed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.residualvm.residualvm.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.residualvm.residualvm.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.residualvm.residualvm.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.residualvm.residualvm.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.residualvm.residualvm.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.residualvm.residualvm.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.residualvm.residualvm.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.residualvm.residualvm.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.residualvm.residualvm.get_game_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.residualvm.residualvm.get_game_list" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the entire list of games supported by ResidualVM.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/residualvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the entire list of games supported by ResidualVM.&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;--list-games&quot;</span><span class="p">],</span>
                          <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">residualvm_process</span><span class="p">:</span>
        <span class="n">residual_output</span> <span class="o">=</span> <span class="n">residualvm_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">game_list</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">residual_output</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">game_array</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">game_list_start</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">game_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">game_list_start</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">dir_limit</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dir_limit</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">dir_limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">game_dir</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">dir_limit</span><span class="p">]</span>
                <span class="n">game_name</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="n">dir_limit</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">game</span><span class="p">)]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">game_array</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">game_dir</span><span class="p">,</span> <span class="n">game_name</span><span class="p">])</span>
        <span class="c1"># The actual list is below a separator</span>
        <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;-----&quot;</span><span class="p">):</span>
            <span class="n">game_list_start</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">game_array</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.residualvm.residualvm.get_residualvm_data_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_residualvm_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.residualvm.residualvm.get_residualvm_data_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/residualvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_residualvm_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">root_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_dir</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.residualvm.residualvm.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.residualvm.residualvm.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/residualvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
        <span class="s2">&quot;--extrapath=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_residualvm_data_dir</span><span class="p">(),</span>
        <span class="s2">&quot;--themepath=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_residualvm_data_dir</span><span class="p">(),</span>
    <span class="p">]</span>

    <span class="c1"># Options</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;subtitles&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--subtitles&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--fullscreen&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-fullscreen&quot;</span><span class="p">)</span>

    <span class="n">renderer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderer&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">renderer</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--renderer=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">renderer</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show-fps&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--show-fps&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-show-fps&quot;</span><span class="p">)</span>
    <span class="c1"># /Options</span>

    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--path=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">)</span>
    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game_id&quot;</span><span class="p">))</span>

    <span class="n">launch_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>

    <span class="k">return</span> <span class="n">launch_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.rpcs3" class="doc doc-heading">
        <code>rpcs3</code>



<a href="#lutris.runners.rpcs3" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.rpcs3.rpcs3" class="doc doc-heading">
        <code>
rpcs3            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.rpcs3.rpcs3" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/rpcs3.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">rpcs3</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;RPCS3&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;PlayStation 3 emulator&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sony PlayStation 3&quot;</span><span class="p">)]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;rpcs3/rpcs3&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Path to EBOOT.BIN&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;nogui&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;No GUI&quot;</span><span class="p">),</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}]</span>

    <span class="c1"># RPCS3 currently uses an AppImage, no need for the runtime.</span>
    <span class="n">system_options_override</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;disable_runtime&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}]</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nogui&quot;</span><span class="p">):</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-gui&quot;</span><span class="p">)</span>

        <span class="n">eboot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">eboot</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">eboot</span><span class="p">}</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">eboot</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.rpcs3.rpcs3.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.rpcs3.rpcs3.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.rpcs3.rpcs3.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.rpcs3.rpcs3.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.rpcs3.rpcs3.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.rpcs3.rpcs3.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.rpcs3.rpcs3.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.rpcs3.rpcs3.system_options_override" class="doc doc-heading">
<code class="highlight language-python"><span class="n">system_options_override</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.system_options_override" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.rpcs3.rpcs3.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.rpcs3.rpcs3.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/rpcs3.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nogui&quot;</span><span class="p">):</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-gui&quot;</span><span class="p">)</span>

    <span class="n">eboot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">eboot</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">eboot</span><span class="p">}</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">eboot</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.runner" class="doc doc-heading">
        <code>runner</code>



<a href="#lutris.runners.runner" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Base module for runners</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.runner.Runner" class="doc doc-heading">
        <code>
Runner        </code>



<a href="#lutris.runners.runner.Runner" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Generic runner (base class for other runners).</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Runner</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-many-public-methods</span>

    <span class="sd">&quot;&quot;&quot;Generic runner (base class for other runners).&quot;&quot;&quot;</span>

    <span class="n">multiple_versions</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">system_options_override</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">context_menu_entries</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">require_libs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">entry_point_option</span> <span class="o">=</span> <span class="s2">&quot;main_file&quot;</span>
    <span class="n">download_url</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">arch</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># If the runner is only available for an architecture that isn&#39;t x86_64</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize runner.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
        <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config_id</span><span class="p">,</span> <span class="s2">&quot;configpath&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the class&#39; docstring as the description.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__doc__</span>

    <span class="nd">@description</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Leave the ability to override the docstring.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">value</span>  <span class="c1"># What the shit</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LutrisConfig</span><span class="p">(</span><span class="n">runner_slug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">game_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the cascaded game config as a dict.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="k">else</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">runner_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the cascaded runner config as a dict.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">runner_config</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_config</span><span class="o">.</span><span class="n">runner_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">system_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the cascaded system config as a dict.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">system_config</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_config</span><span class="o">.</span><span class="n">system_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the default path where games are installed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game_path&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">game_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the directory where the game is installed.&quot;&quot;&quot;</span>
        <span class="n">game_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;directory&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">game_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">game_path</span>

        <span class="c1"># Default to the directory where the entry point is located.</span>
        <span class="n">entry_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_point_option</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">entry_point</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">entry_point</span><span class="p">))</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">library_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of paths where a game might be installed&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">working_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the working directory to use when running the game.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shader_cache_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the cache directory for this runner to use. We create</span>
<span class="sd">        this if it does not exist.&quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">SHADER_CACHE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nvidia_shader_cache_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The path to place in __GL_SHADER_DISK_CACHE_PATH; NVidia</span>
<span class="sd">        will place its cache cache in a subdirectory here.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">shader_cache_dir</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">discord_client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;discord_client_id&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;discord_client_id&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_runner_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">runner_options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span><span class="p">[:]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">:</span>
            <span class="n">runner_options</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;runner_executable&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom executable for the runner&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">runner_options</span>

    <span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;runner_executable&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
            <span class="n">runner_executable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">runner_executable</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">runner_executable</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;runner_executable not set for </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return environment variables used for a game.&quot;&quot;&quot;</span>
        <span class="n">env</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">os_env</span><span class="p">:</span>
            <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>

        <span class="c1"># By default we&#39;ll set NVidia&#39;s shader disk cache to be</span>
        <span class="c1"># per-game, so it overflows less readily.</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__GL_SHADER_DISK_CACHE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__GL_SHADER_DISK_CACHE_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nvidia_shader_cache_path</span>

        <span class="c1"># Override SDL2 controller configuration</span>
        <span class="n">sdl_gamecontrollerconfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sdl_gamecontrollerconfig&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sdl_gamecontrollerconfig</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">sdl_gamecontrollerconfig</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controllerdb_file</span><span class="p">:</span>
                    <span class="n">sdl_gamecontrollerconfig</span> <span class="o">=</span> <span class="n">controllerdb_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;SDL_GAMECONTROLLERCONFIG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sdl_gamecontrollerconfig</span>

        <span class="c1"># Set monitor to use for SDL 1 games</span>
        <span class="n">sdl_video_fullscreen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sdl_video_fullscreen&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sdl_video_fullscreen</span> <span class="ow">and</span> <span class="n">sdl_video_fullscreen</span> <span class="o">!=</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;SDL_VIDEO_FULLSCREEN_DISPLAY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sdl_video_fullscreen</span>

        <span class="c1"># DRI Prime</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dri_prime&quot;</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;DRI_PRIME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

        <span class="c1"># Prime vars</span>
        <span class="n">prime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prime&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">prime</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__NV_PRIME_RENDER_OFFLOAD&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__GLX_VENDOR_LIBRARY_NAME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;nvidia&quot;</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__VK_LAYER_NV_optimus&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;NVIDIA_only&quot;</span>

        <span class="c1"># Set PulseAudio latency to 60ms</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pulse_latency&quot;</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;PULSE_LATENCY_MSEC&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;60&quot;</span>

        <span class="c1"># Vulkan ICD files</span>
        <span class="n">vk_icd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vk_icd&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">vk_icd</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;VK_ICD_FILENAMES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk_icd</span>

        <span class="n">runtime_ld_library_path</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_runtime</span><span class="p">():</span>
            <span class="n">runtime_env</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runtime_env</span><span class="p">()</span>
            <span class="n">runtime_ld_library_path</span> <span class="o">=</span> <span class="n">runtime_env</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">runtime_ld_library_path</span><span class="p">:</span>
            <span class="n">ld_library_path</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">)</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">pathsep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[</span>
                <span class="n">runtime_ld_library_path</span><span class="p">,</span> <span class="n">ld_library_path</span><span class="p">]))</span>

        <span class="c1"># Apply user overrides at the end</span>
        <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;env&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>

        <span class="k">return</span> <span class="n">env</span>

    <span class="k">def</span> <span class="nf">get_runtime_env</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return runtime environment variables.</span>

<span class="sd">        This method may be overridden in runner classes.</span>
<span class="sd">        (Notably for Lutris wine builds)</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">prefer_system_libs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prefer_system_libs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run actions before running the game, override this method in runners&quot;&quot;&quot;</span>
        <span class="n">available_libs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">lib</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">require_libs</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">shared_libraries</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="ow">in</span> <span class="p">[</span><span class="n">_lib</span><span class="o">.</span><span class="n">arch</span> <span class="k">for</span> <span class="n">_lib</span> <span class="ow">in</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">shared_libraries</span><span class="p">[</span><span class="n">lib</span><span class="p">]]:</span>
                        <span class="n">available_libs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">available_libs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>
        <span class="n">unavailable_libs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">require_libs</span><span class="p">)</span> <span class="o">-</span> <span class="n">available_libs</span>
        <span class="k">if</span> <span class="n">unavailable_libs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnavailableLibraries</span><span class="p">(</span><span class="n">unavailable_libs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return dict with command (exe &amp; args list) and env vars (dict).</span>

<span class="sd">        Reimplement in derived runner if need be.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()],</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">()}</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run the runner alone.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runnable_alone</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">install_dialog</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Runner install cancelled&quot;</span><span class="p">)</span>
                <span class="k">return</span>

        <span class="n">command_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_data</span><span class="p">()</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">command_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">)</span>
        <span class="n">env</span> <span class="o">=</span> <span class="p">(</span><span class="n">command_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;env&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;prelaunch&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>

        <span class="n">command_runner</span> <span class="o">=</span> <span class="n">MonitoredCommand</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">runner</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">)</span>
        <span class="n">command_runner</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">use_runtime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">runtime</span><span class="o">.</span><span class="n">RUNTIME_DISABLED</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Runtime disabled by environment&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;disable_runtime&quot;</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Runtime disabled by system configuration&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">install_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Ask the user if they want to install the runner.</span>

<span class="sd">        Return success of runner installation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dialog</span> <span class="o">=</span> <span class="n">dialogs</span><span class="o">.</span><span class="n">QuestionDialog</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The required runner is not installed.</span><span class="se">\n</span><span class="s2">&quot;</span>
                              <span class="s2">&quot;Do you wish to install it now?&quot;</span><span class="p">),</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Required runner unavailable&quot;</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ResponseType</span><span class="o">.</span><span class="n">YES</span> <span class="o">==</span> <span class="n">dialog</span><span class="o">.</span><span class="n">result</span><span class="p">:</span>

            <span class="kn">from</span> <span class="nn">lutris.gui.dialogs</span> <span class="kn">import</span> <span class="n">ErrorDialog</span>
            <span class="kn">from</span> <span class="nn">lutris.gui.dialogs.download</span> <span class="kn">import</span> <span class="n">simple_downloader</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;get_version&quot;</span><span class="p">):</span>
                    <span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(</span><span class="n">use_default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># pylint: disable=no-member</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">downloader</span><span class="o">=</span><span class="n">simple_downloader</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">downloader</span><span class="o">=</span><span class="n">simple_downloader</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">RunnerInstallationError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="n">ErrorDialog</span><span class="p">(</span><span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return whether the runner is installed&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">get_runner_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the appropriate version for a runner</span>

<span class="sd">        Params:</span>
<span class="sd">            version (str): Optional version to lookup, will return this one if found</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Dict containing version, architecture and url for the runner, None</span>
<span class="sd">            if the data can&#39;t be retrieved.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Getting runner information for </span><span class="si">%s%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot; (version: </span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="n">version</span> <span class="k">if</span> <span class="n">version</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/api/runners/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">SITE_URL</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
            <span class="n">runner_info</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">json</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">runner_info</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get runner information&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to get runner information: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
            <span class="n">runner_info</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">runner_info</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">versions</span> <span class="o">=</span> <span class="n">runner_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;versions&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="n">arch</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">arch</span>
        <span class="k">if</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">version</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;-i386&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">version</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;-x86_64&quot;</span><span class="p">):</span>
                <span class="n">version</span><span class="p">,</span> <span class="n">arch</span> <span class="o">=</span> <span class="n">version</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">versions</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versions</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">version</span><span class="p">]</span>
        <span class="n">versions_for_arch</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versions</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;architecture&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">arch</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions_for_arch</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">versions_for_arch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions_for_arch</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">default_version</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versions_for_arch</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">default_version</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">default_version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_64_bit</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">versions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_64_bit</span><span class="p">:</span>
            <span class="n">default_version</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versions</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">default_version</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">default_version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># If we didn&#39;t find a proper version yet, return the first available.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions_for_arch</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">versions_for_arch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Install runner using package management systems.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Installing </span><span class="si">%s</span><span class="s2"> (version=</span><span class="si">%s</span><span class="s2">, downloader=</span><span class="si">%s</span><span class="s2">, callback=</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="p">,</span>
            <span class="n">downloader</span><span class="p">,</span>
            <span class="n">callback</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">opts</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;downloader&quot;</span><span class="p">:</span> <span class="n">downloader</span><span class="p">,</span> <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">callback</span><span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_url</span><span class="p">:</span>
            <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_and_extract</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_url</span><span class="p">,</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span>
        <span class="n">runner</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">runner</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">RunnerInstallationError</span><span class="p">(</span><span class="s2">&quot;Failed to retrieve </span><span class="si">{}</span><span class="s2"> (</span><span class="si">{}</span><span class="s2">) information&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">downloader</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing mandatory downloader for runner </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;wine&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;merge_single&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">-</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">runner</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">],</span> <span class="n">runner</span><span class="p">[</span><span class="s2">&quot;architecture&quot;</span><span class="p">])</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;libretro&quot;</span> <span class="ow">and</span> <span class="n">version</span><span class="p">:</span>
            <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;merge_single&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;retroarch/cores&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">download_and_extract</span><span class="p">(</span><span class="n">runner</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">],</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">download_and_extract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">opts</span><span class="p">):</span>
        <span class="n">downloader</span> <span class="o">=</span> <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;downloader&quot;</span><span class="p">]</span>
        <span class="n">merge_single</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;merge_single&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">callback</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;callback&quot;</span><span class="p">)</span>
        <span class="n">tarball_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">runner_archive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="n">tarball_filename</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">dest</span><span class="p">:</span>
            <span class="n">dest</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span>
        <span class="n">downloader</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span> <span class="n">runner_archive</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract</span><span class="p">,</span> <span class="p">{</span>
                <span class="s2">&quot;archive&quot;</span><span class="p">:</span> <span class="n">runner_archive</span><span class="p">,</span>
                <span class="s2">&quot;dest&quot;</span><span class="p">:</span> <span class="n">dest</span><span class="p">,</span>
                <span class="s2">&quot;merge_single&quot;</span><span class="p">:</span> <span class="n">merge_single</span><span class="p">,</span>
                <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">callback</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">extract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">archive</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">archive</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">RunnerInstallationError</span><span class="p">(</span><span class="s2">&quot;Failed to extract </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">archive</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">extract_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="n">merge_single</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ExtractFailure</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to extract the archive </span><span class="si">%s</span><span class="s2"> file may be corrupt&quot;</span><span class="p">,</span> <span class="n">archive</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">RunnerInstallationError</span><span class="p">(</span><span class="s2">&quot;Failed to extract </span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;wine&quot;</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Clearing wine version cache&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">lutris.util.wine.wine</span> <span class="kn">import</span> <span class="n">get_wine_versions</span>
            <span class="n">get_wine_versions</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">:</span>
            <span class="n">runner_executable</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">runner_executable</span><span class="p">):</span>
                <span class="n">system</span><span class="o">.</span><span class="n">make_executable</span><span class="p">(</span><span class="n">runner_executable</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">remove_game_data</span><span class="p">(</span><span class="n">app_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">game_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">system</span><span class="o">.</span><span class="n">remove_folder</span><span class="p">(</span><span class="n">game_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">can_uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">runner_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">runner_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">runner_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">runner_path</span><span class="p">):</span>
            <span class="n">system</span><span class="o">.</span><span class="n">remove_folder</span><span class="p">(</span><span class="n">runner_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options_group</span><span class="p">,</span> <span class="n">option_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Retrieve an option dict if it exists in the group&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">options_group</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;game_options&#39;</span><span class="p">,</span> <span class="s1">&#39;runner_options&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options_group</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">option_name</span><span class="p">:</span>
                <span class="n">output</span> <span class="o">=</span> <span class="n">item</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">output</span>

    <span class="k">def</span> <span class="nf">force_stop_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Stop the running game. If this leaves any game processes running,</span>
<span class="sd">        the caller will SIGKILL them (after a delay).&quot;&quot;&quot;</span>
        <span class="n">game</span><span class="o">.</span><span class="n">kill_processes</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGTERM</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">arch</span></code>


<a href="#lutris.runners.runner.Runner.arch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.context_menu_entries" class="doc doc-heading">
<code class="highlight language-python"><span class="n">context_menu_entries</span></code>


<a href="#lutris.runners.runner.Runner.context_menu_entries" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.default_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_config</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.default_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.default_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.default_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the default path where games are installed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the class' docstring as the description.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.discord_client_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">discord_client_id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.discord_client_id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.download_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_url</span></code>


<a href="#lutris.runners.runner.Runner.download_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.entry_point_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entry_point_option</span></code>


<a href="#lutris.runners.runner.Runner.entry_point_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.game_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_config</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.game_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the cascaded game config as a dict.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.runner.Runner.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.game_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.game_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the directory where the game is installed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.library_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">library_folders</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.library_folders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of paths where a game might be installed</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.multiple_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">multiple_versions</span></code>


<a href="#lutris.runners.runner.Runner.multiple_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.nvidia_shader_cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">nvidia_shader_cache_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.nvidia_shader_cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>The path to place in __GL_SHADER_DISK_CACHE_PATH; NVidia
will place its cache cache in a subdirectory here.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.runner.Runner.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.require_libs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">require_libs</span></code>


<a href="#lutris.runners.runner.Runner.require_libs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.runner.Runner.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.runner_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_config</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.runner_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the cascaded runner config as a dict.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.runner.Runner.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.runner.Runner.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.shader_cache_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">shader_cache_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.shader_cache_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the cache directory for this runner to use. We create
this if it does not exist.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.system_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">system_config</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.system_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the cascaded system config as a dict.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.system_options_override" class="doc doc-heading">
<code class="highlight language-python"><span class="n">system_options_override</span></code>


<a href="#lutris.runners.runner.Runner.system_options_override" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.runner.Runner.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.working_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the working directory to use when running the game.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Initialize runner.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialize runner.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config_id</span><span class="p">,</span> <span class="s2">&quot;configpath&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_data</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.__lt__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.__lt__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.can_uninstall" class="doc doc-heading">
<code class="highlight language-python"><span class="n">can_uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.can_uninstall" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">can_uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">runner_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">runner_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.download_and_extract" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_and_extract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.download_and_extract" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download_and_extract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">opts</span><span class="p">):</span>
    <span class="n">downloader</span> <span class="o">=</span> <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;downloader&quot;</span><span class="p">]</span>
    <span class="n">merge_single</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;merge_single&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">callback</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;callback&quot;</span><span class="p">)</span>
    <span class="n">tarball_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">runner_archive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="n">tarball_filename</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">dest</span><span class="p">:</span>
        <span class="n">dest</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span>
    <span class="n">downloader</span><span class="p">(</span>
        <span class="n">url</span><span class="p">,</span> <span class="n">runner_archive</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">&quot;archive&quot;</span><span class="p">:</span> <span class="n">runner_archive</span><span class="p">,</span>
            <span class="s2">&quot;dest&quot;</span><span class="p">:</span> <span class="n">dest</span><span class="p">,</span>
            <span class="s2">&quot;merge_single&quot;</span><span class="p">:</span> <span class="n">merge_single</span><span class="p">,</span>
            <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">callback</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.extract" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">archive</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.extract" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">archive</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">archive</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">RunnerInstallationError</span><span class="p">(</span><span class="s2">&quot;Failed to extract </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">archive</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">extract_archive</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="n">merge_single</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ExtractFailure</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to extract the archive </span><span class="si">%s</span><span class="s2"> file may be corrupt&quot;</span><span class="p">,</span> <span class="n">archive</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">RunnerInstallationError</span><span class="p">(</span><span class="s2">&quot;Failed to extract </span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">archive</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;wine&quot;</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Clearing wine version cache&quot;</span><span class="p">)</span>
        <span class="kn">from</span> <span class="nn">lutris.util.wine.wine</span> <span class="kn">import</span> <span class="n">get_wine_versions</span>
        <span class="n">get_wine_versions</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">:</span>
        <span class="n">runner_executable</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">runner_executable</span><span class="p">):</span>
            <span class="n">system</span><span class="o">.</span><span class="n">make_executable</span><span class="p">(</span><span class="n">runner_executable</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
        <span class="n">callback</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.find_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options_group</span><span class="p">,</span> <span class="n">option_name</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.find_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Retrieve an option dict if it exists in the group</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options_group</span><span class="p">,</span> <span class="n">option_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Retrieve an option dict if it exists in the group&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">options_group</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;game_options&#39;</span><span class="p">,</span> <span class="s1">&#39;runner_options&#39;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options_group</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;option&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">option_name</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">item</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">output</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.force_stop_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">force_stop_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.force_stop_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Stop the running game. If this leaves any game processes running,
the caller will SIGKILL them (after a delay).</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">force_stop_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Stop the running game. If this leaves any game processes running,</span>
<span class="sd">    the caller will SIGKILL them (after a delay).&quot;&quot;&quot;</span>
    <span class="n">game</span><span class="o">.</span><span class="n">kill_processes</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGTERM</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.get_env" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.get_env" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return environment variables used for a game.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return environment variables used for a game.&quot;&quot;&quot;</span>
    <span class="n">env</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">os_env</span><span class="p">:</span>
        <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>

    <span class="c1"># By default we&#39;ll set NVidia&#39;s shader disk cache to be</span>
    <span class="c1"># per-game, so it overflows less readily.</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__GL_SHADER_DISK_CACHE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__GL_SHADER_DISK_CACHE_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nvidia_shader_cache_path</span>

    <span class="c1"># Override SDL2 controller configuration</span>
    <span class="n">sdl_gamecontrollerconfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sdl_gamecontrollerconfig&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sdl_gamecontrollerconfig</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">sdl_gamecontrollerconfig</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">controllerdb_file</span><span class="p">:</span>
                <span class="n">sdl_gamecontrollerconfig</span> <span class="o">=</span> <span class="n">controllerdb_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;SDL_GAMECONTROLLERCONFIG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sdl_gamecontrollerconfig</span>

    <span class="c1"># Set monitor to use for SDL 1 games</span>
    <span class="n">sdl_video_fullscreen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sdl_video_fullscreen&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sdl_video_fullscreen</span> <span class="ow">and</span> <span class="n">sdl_video_fullscreen</span> <span class="o">!=</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;SDL_VIDEO_FULLSCREEN_DISPLAY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sdl_video_fullscreen</span>

    <span class="c1"># DRI Prime</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dri_prime&quot;</span><span class="p">):</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;DRI_PRIME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

    <span class="c1"># Prime vars</span>
    <span class="n">prime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prime&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">prime</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__NV_PRIME_RENDER_OFFLOAD&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__GLX_VENDOR_LIBRARY_NAME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;nvidia&quot;</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;__VK_LAYER_NV_optimus&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;NVIDIA_only&quot;</span>

    <span class="c1"># Set PulseAudio latency to 60ms</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pulse_latency&quot;</span><span class="p">):</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;PULSE_LATENCY_MSEC&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;60&quot;</span>

    <span class="c1"># Vulkan ICD files</span>
    <span class="n">vk_icd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vk_icd&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">vk_icd</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;VK_ICD_FILENAMES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vk_icd</span>

    <span class="n">runtime_ld_library_path</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_runtime</span><span class="p">():</span>
        <span class="n">runtime_env</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runtime_env</span><span class="p">()</span>
        <span class="n">runtime_ld_library_path</span> <span class="o">=</span> <span class="n">runtime_env</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">runtime_ld_library_path</span><span class="p">:</span>
        <span class="n">ld_library_path</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">)</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">pathsep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[</span>
            <span class="n">runtime_ld_library_path</span><span class="p">,</span> <span class="n">ld_library_path</span><span class="p">]))</span>

    <span class="c1"># Apply user overrides at the end</span>
    <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;env&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span>

    <span class="k">return</span> <span class="n">env</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.get_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.get_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;runner_executable&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
        <span class="n">runner_executable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">runner_executable</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">runner_executable</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;runner_executable not set for </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.get_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.get_run_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.get_run_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return dict with command (exe &amp; args list) and env vars (dict).</p>
<p>Reimplement in derived runner if need be.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return dict with command (exe &amp; args list) and env vars (dict).</span>

<span class="sd">    Reimplement in derived runner if need be.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()],</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.get_runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runner_options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.get_runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_runner_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span><span class="p">[:]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">:</span>
        <span class="n">runner_options</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;runner_executable&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom executable for the runner&quot;</span><span class="p">),</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">runner_options</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.get_runner_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runner_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.get_runner_version" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Get the appropriate version for a runner</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>version</code></td>
        <td><code>str</code></td>
        <td><p>Optional version to lookup, will return this one if found</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>Dict containing version, architecture and url for the runner, None
if the data can't be retrieved.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_runner_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the appropriate version for a runner</span>

<span class="sd">    Params:</span>
<span class="sd">        version (str): Optional version to lookup, will return this one if found</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dict containing version, architecture and url for the runner, None</span>
<span class="sd">        if the data can&#39;t be retrieved.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Getting runner information for </span><span class="si">%s%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot; (version: </span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="n">version</span> <span class="k">if</span> <span class="n">version</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/api/runners/</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">SITE_URL</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
        <span class="n">runner_info</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">json</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">runner_info</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get runner information&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to get runner information: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="n">runner_info</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">runner_info</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">versions</span> <span class="o">=</span> <span class="n">runner_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;versions&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
    <span class="n">arch</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">arch</span>
    <span class="k">if</span> <span class="n">version</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">version</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;-i386&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">version</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;-x86_64&quot;</span><span class="p">):</span>
            <span class="n">version</span><span class="p">,</span> <span class="n">arch</span> <span class="o">=</span> <span class="n">version</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">versions</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versions</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">version</span><span class="p">]</span>
    <span class="n">versions_for_arch</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versions</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;architecture&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">arch</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions_for_arch</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">versions_for_arch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions_for_arch</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">default_version</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versions_for_arch</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">default_version</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">default_version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_64_bit</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">versions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_64_bit</span><span class="p">:</span>
        <span class="n">default_version</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versions</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">default_version</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">default_version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># If we didn&#39;t find a proper version yet, return the first available.</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">versions_for_arch</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">versions_for_arch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.get_runtime_env" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runtime_env</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.get_runtime_env" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return runtime environment variables.</p>
<p>This method may be overridden in runner classes.
(Notably for Lutris wine builds)</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>dict</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_runtime_env</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return runtime environment variables.</span>

<span class="sd">    This method may be overridden in runner classes.</span>
<span class="sd">    (Notably for Lutris wine builds)</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">prefer_system_libs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prefer_system_libs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Install runner using package management systems.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Installing </span><span class="si">%s</span><span class="s2"> (version=</span><span class="si">%s</span><span class="s2">, downloader=</span><span class="si">%s</span><span class="s2">, callback=</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">version</span><span class="p">,</span>
        <span class="n">downloader</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">opts</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;downloader&quot;</span><span class="p">:</span> <span class="n">downloader</span><span class="p">,</span> <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">callback</span><span class="p">}</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_url</span><span class="p">:</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_and_extract</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_url</span><span class="p">,</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_runner_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">runner</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">RunnerInstallationError</span><span class="p">(</span><span class="s2">&quot;Failed to retrieve </span><span class="si">{}</span><span class="s2"> (</span><span class="si">{}</span><span class="s2">) information&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">downloader</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing mandatory downloader for runner </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;wine&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;merge_single&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">-</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">runner</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">],</span> <span class="n">runner</span><span class="p">[</span><span class="s2">&quot;architecture&quot;</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;libretro&quot;</span> <span class="ow">and</span> <span class="n">version</span><span class="p">:</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;merge_single&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">opts</span><span class="p">[</span><span class="s2">&quot;dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;retroarch/cores&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">download_and_extract</span><span class="p">(</span><span class="n">runner</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">],</span> <span class="o">**</span><span class="n">opts</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.install_dialog" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.install_dialog" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Ask the user if they want to install the runner.</p>
<p>Return success of runner installation.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ask the user if they want to install the runner.</span>

<span class="sd">    Return success of runner installation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dialog</span> <span class="o">=</span> <span class="n">dialogs</span><span class="o">.</span><span class="n">QuestionDialog</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The required runner is not installed.</span><span class="se">\n</span><span class="s2">&quot;</span>
                          <span class="s2">&quot;Do you wish to install it now?&quot;</span><span class="p">),</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Required runner unavailable&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ResponseType</span><span class="o">.</span><span class="n">YES</span> <span class="o">==</span> <span class="n">dialog</span><span class="o">.</span><span class="n">result</span><span class="p">:</span>

        <span class="kn">from</span> <span class="nn">lutris.gui.dialogs</span> <span class="kn">import</span> <span class="n">ErrorDialog</span>
        <span class="kn">from</span> <span class="nn">lutris.gui.dialogs.download</span> <span class="kn">import</span> <span class="n">simple_downloader</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;get_version&quot;</span><span class="p">):</span>
                <span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(</span><span class="n">use_default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># pylint: disable=no-member</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">downloader</span><span class="o">=</span><span class="n">simple_downloader</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">downloader</span><span class="o">=</span><span class="n">simple_downloader</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">RunnerInstallationError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">ErrorDialog</span><span class="p">(</span><span class="n">ex</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">()</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.is_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.is_installed" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return whether the runner is installed</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return whether the runner is installed&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run actions before running the game, override this method in runners&quot;&quot;&quot;</span>
    <span class="n">available_libs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">lib</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">require_libs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">shared_libraries</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="ow">in</span> <span class="p">[</span><span class="n">_lib</span><span class="o">.</span><span class="n">arch</span> <span class="k">for</span> <span class="n">_lib</span> <span class="ow">in</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">shared_libraries</span><span class="p">[</span><span class="n">lib</span><span class="p">]]:</span>
                    <span class="n">available_libs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">available_libs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>
    <span class="n">unavailable_libs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">require_libs</span><span class="p">)</span> <span class="o">-</span> <span class="n">available_libs</span>
    <span class="k">if</span> <span class="n">unavailable_libs</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">UnavailableLibraries</span><span class="p">(</span><span class="n">unavailable_libs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.remove_game_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_game_data</span><span class="p">(</span><span class="n">app_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">game_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.runner.Runner.remove_game_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">remove_game_data</span><span class="p">(</span><span class="n">app_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">game_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">system</span><span class="o">.</span><span class="n">remove_folder</span><span class="p">(</span><span class="n">game_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.run" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run the runner alone.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the runner alone.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runnable_alone</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">install_dialog</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Runner install cancelled&quot;</span><span class="p">)</span>
            <span class="k">return</span>

    <span class="n">command_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_data</span><span class="p">()</span>
    <span class="n">command</span> <span class="o">=</span> <span class="n">command_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">)</span>
    <span class="n">env</span> <span class="o">=</span> <span class="p">(</span><span class="n">command_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;env&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;prelaunch&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>

    <span class="n">command_runner</span> <span class="o">=</span> <span class="n">MonitoredCommand</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">runner</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">)</span>
    <span class="n">command_runner</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.uninstall" class="doc doc-heading">
<code class="highlight language-python"><span class="n">uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.uninstall" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">uninstall</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">runner_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">runner_path</span><span class="p">):</span>
        <span class="n">system</span><span class="o">.</span><span class="n">remove_folder</span><span class="p">(</span><span class="n">runner_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.runner.Runner.use_runtime" class="doc doc-heading">
<code class="highlight language-python"><span class="n">use_runtime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.runner.Runner.use_runtime" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">use_runtime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">runtime</span><span class="o">.</span><span class="n">RUNTIME_DISABLED</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Runtime disabled by environment&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;disable_runtime&quot;</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Runtime disabled by system configuration&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.ryujinx" class="doc doc-heading">
        <code>ryujinx</code>



<a href="#lutris.runners.ryujinx" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.ryujinx.ryujinx" class="doc doc-heading">
        <code>
ryujinx            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.ryujinx.ryujinx" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/ryujinx.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ryujinx</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Ryujinx&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Switch&quot;</span><span class="p">)]</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Switch emulator&quot;</span><span class="p">)</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;ryujinx/publish/Ryujinx&quot;</span>
    <span class="n">download_url</span> <span class="o">=</span> <span class="s2">&quot;https://lutris.nyc3.digitaloceanspaces.com/runners/ryujinx/ryujinx-1.0.7074-linux_x64.tar.gz&quot;</span>

    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;NSP file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data, commonly called a ROM image.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;prod_keys&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Encryption keys&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;File containing the encryption keys.&quot;</span><span class="p">),</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;title_keys&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Title keys&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;File containing the title keys.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ryujinx_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return dir where Ryujinx files lie.&quot;&quot;&quot;</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;~/.local/share/ryujinx&quot;</span><span class="p">,</span> <span class="p">)</span>
        <span class="k">for</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">candidate</span><span class="p">),</span> <span class="s2">&quot;nand&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">path</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;nand&quot;</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run the game.&quot;&quot;&quot;</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">_update_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Update a keys file if set &quot;&quot;&quot;</span>
        <span class="n">ryujinx_data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ryujinx_data_dir</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ryujinx_data_dir</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Ryujinx data dir not set&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">key_type</span> <span class="o">==</span> <span class="s2">&quot;prod_keys&quot;</span><span class="p">:</span>
            <span class="n">key_loc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ryujinx_data_dir</span><span class="p">,</span> <span class="s2">&quot;keys/prod.keys&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key_type</span> <span class="o">==</span> <span class="s2">&quot;title_keys&quot;</span><span class="p">:</span>
            <span class="n">key_loc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ryujinx_data_dir</span><span class="p">,</span> <span class="s2">&quot;keys/title.keys&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid keys type </span><span class="si">%s</span><span class="s2">!&quot;</span><span class="p">,</span> <span class="n">key_type</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;No </span><span class="si">%s</span><span class="s2"> file was set.&quot;</span><span class="p">,</span> <span class="n">key_type</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Keys file </span><span class="si">%s</span><span class="s2"> does not exist!&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">keys_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">key_loc</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">keys_dir</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">keys_dir</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">key_loc</span><span class="p">)</span> <span class="ow">and</span> <span class="n">filecmp</span><span class="o">.</span><span class="n">cmp</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">key_loc</span><span class="p">):</span>
            <span class="c1"># If the files are identical, don&#39;t do anything</span>
            <span class="k">return</span>
        <span class="n">copyfile</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">key_loc</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;prod_keys&quot;</span><span class="p">,</span> <span class="s2">&quot;title_keys&quot;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_update_key</span><span class="p">(</span><span class="n">key_type</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.download_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_url</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.download_url" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.ryujinx.ryujinx.ryujinx_data_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ryujinx_data_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.ryujinx.ryujinx.ryujinx_data_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return dir where Ryujinx files lie.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.ryujinx.ryujinx.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run the game.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/ryujinx.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the game.&quot;&quot;&quot;</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.ryujinx.ryujinx.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.ryujinx.ryujinx.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/ryujinx.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;prod_keys&quot;</span><span class="p">,</span> <span class="s2">&quot;title_keys&quot;</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_key</span><span class="p">(</span><span class="n">key_type</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.scummvm" class="doc doc-heading">
        <code>scummvm</code>



<a href="#lutris.runners.scummvm" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.scummvm.scummvm" class="doc doc-heading">
        <code>
scummvm            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.scummvm.scummvm" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/scummvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">scummvm</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Engine for point-and-click games.&quot;</span><span class="p">)</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ScummVM&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">)]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;scummvm/bin/scummvm&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;game_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game identifier&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game files location&quot;</span><span class="p">)</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Command line arguments used when launching the game&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">option_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;aspect&quot;</span><span class="p">:</span> <span class="s2">&quot;--aspect-ratio&quot;</span><span class="p">,</span>
        <span class="s2">&quot;subtitles&quot;</span><span class="p">:</span> <span class="s2">&quot;--subtitles&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fullscreen&quot;</span><span class="p">:</span> <span class="s2">&quot;--fullscreen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gfx-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;--gfx-mode=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;scale-factor&quot;</span><span class="p">:</span> <span class="s2">&quot;--scale-factor=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;render-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;--render-mode=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;filtering&quot;</span><span class="p">:</span> <span class="s2">&quot;--filtering&quot;</span><span class="p">,</span>
        <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="s2">&quot;--platform=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;engine-speed&quot;</span><span class="p">:</span> <span class="s2">&quot;--engine-speed=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;talk-speed&quot;</span><span class="p">:</span> <span class="s2">&quot;--talkspeed=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dimuse-tempo&quot;</span><span class="p">:</span> <span class="s2">&quot;--dimuse-tempo=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;music-tempo&quot;</span><span class="p">:</span> <span class="s2">&quot;--tempo=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;opl-driver&quot;</span><span class="p">:</span> <span class="s2">&quot;--opl-driver=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;output-rate&quot;</span><span class="p">:</span> <span class="s2">&quot;--output-rate=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;music-driver&quot;</span><span class="p">:</span> <span class="s2">&quot;--music-driver=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;multi-midi&quot;</span><span class="p">:</span> <span class="s2">&quot;--multi-midi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;midi-gain&quot;</span><span class="p">:</span> <span class="s2">&quot;--midi-gain=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;soundfont&quot;</span><span class="p">:</span> <span class="s2">&quot;--soundfont=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;music-volume&quot;</span><span class="p">:</span> <span class="s2">&quot;--music-volume=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sfx-volume&quot;</span><span class="p">:</span> <span class="s2">&quot;--sfx-volume=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;speech-volume&quot;</span><span class="p">:</span> <span class="s2">&quot;--speech-volume=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;native-mt32&quot;</span><span class="p">:</span> <span class="s2">&quot;--native-mt32&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enable-gs&quot;</span><span class="p">:</span> <span class="s2">&quot;--enable-gs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;joystick&quot;</span><span class="p">:</span> <span class="s2">&quot;--joystick=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;--language=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alt-intro&quot;</span><span class="p">:</span> <span class="s2">&quot;--alt-intro&quot;</span><span class="p">,</span>
        <span class="s2">&quot;copy-protection&quot;</span><span class="p">:</span> <span class="s2">&quot;--copy-protection&quot;</span><span class="p">,</span>
        <span class="s2">&quot;demo-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;--demo-mode&quot;</span><span class="p">,</span>
        <span class="s2">&quot;debug-level&quot;</span><span class="p">:</span> <span class="s2">&quot;--debug-level=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;debug-flags&quot;</span><span class="p">:</span> <span class="s2">&quot;--debug-flags=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">option_empty_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;fullscreen&quot;</span><span class="p">:</span> <span class="s2">&quot;--no-fullscreen&quot;</span>
    <span class="p">}</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;subtitles&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable subtitles&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;Enable subtitles for games with voice&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;aspect&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Aspect ratio correction&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Most games supported by ScummVM were made for VGA &quot;</span>
                <span class="s2">&quot;display modes using rectangular pixels. Activating &quot;</span>
                <span class="s2">&quot;this option for these games will preserve the 4:3 &quot;</span>
                <span class="s2">&quot;aspect ratio they were made for.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;gfx-mode&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Graphic scaler&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;3x&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="s2">&quot;1x&quot;</span><span class="p">,</span> <span class="s2">&quot;1x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;2x&quot;</span><span class="p">,</span> <span class="s2">&quot;2x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;3x&quot;</span><span class="p">,</span> <span class="s2">&quot;3x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hq2x&quot;</span><span class="p">,</span> <span class="s2">&quot;hq2x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hq3x&quot;</span><span class="p">,</span> <span class="s2">&quot;hq3x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;advmame2x&quot;</span><span class="p">,</span> <span class="s2">&quot;advmame2x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;advmame3x&quot;</span><span class="p">,</span> <span class="s2">&quot;advmame3x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;2xsai&quot;</span><span class="p">,</span> <span class="s2">&quot;2xsai&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;super2xsai&quot;</span><span class="p">,</span> <span class="s2">&quot;super2xsai&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;supereagle&quot;</span><span class="p">,</span> <span class="s2">&quot;supereagle&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;tv2x&quot;</span><span class="p">,</span> <span class="s2">&quot;tv2x&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;dotmatrix&quot;</span><span class="p">,</span> <span class="s2">&quot;dotmatrix&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The algorithm used to scale up the game&#39;s base &quot;</span>
              <span class="s2">&quot;resolution, resulting in different visual styles. &quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="c1"># {</span>
        <span class="c1">#    &quot;option&quot;: &quot;scale-factor&quot;,</span>
        <span class="c1">#    &quot;label&quot;: _(&quot;Scaler factor&quot;),</span>
        <span class="c1">#    &quot;type&quot;: &quot;choice&quot;,</span>
        <span class="c1">#    &quot;choices&quot;: [</span>
        <span class="c1">#        (&quot;1&quot;, &quot;1&quot;),</span>
        <span class="c1">#        (&quot;2&quot;, &quot;2&quot;),</span>
        <span class="c1">#        (&quot;3&quot;, &quot;3&quot;),</span>
        <span class="c1">#        (&quot;4&quot;, &quot;4&quot;),</span>
        <span class="c1">#        (&quot;5&quot;, &quot;5&quot;),</span>
        <span class="c1">#    ],</span>
        <span class="c1">#    &quot;help&quot;:</span>
        <span class="c1">#    _(&quot;Changes the resolution of the game. &quot;</span>
        <span class="c1">#      &quot;For example, a 2x scaler will take a 320x200 &quot;</span>
        <span class="c1">#      &quot;resolution game and scale it up to 640x400. &quot;),</span>
        <span class="c1"># },</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;render-mode&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Render mode&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="s2">&quot;hercGreen&quot;</span><span class="p">,</span> <span class="s2">&quot;hercGreen&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;hercAmber&quot;</span><span class="p">,</span> <span class="s2">&quot;hercAmber&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;cga&quot;</span><span class="p">,</span> <span class="s2">&quot;cga&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;ega&quot;</span><span class="p">,</span> <span class="s2">&quot;ega&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;vga&quot;</span><span class="p">,</span> <span class="s2">&quot;vga&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;amiga&quot;</span><span class="p">,</span> <span class="s2">&quot;amiga&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;fmtowns&quot;</span><span class="p">,</span> <span class="s2">&quot;fmtowns&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;pc9821&quot;</span><span class="p">,</span> <span class="s2">&quot;pc9821&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;pc9801&quot;</span><span class="p">,</span> <span class="s2">&quot;pc9801&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;2gs&quot;</span><span class="p">,</span> <span class="s2">&quot;2gs&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;atari&quot;</span><span class="p">,</span> <span class="s2">&quot;atari&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;macintosh&quot;</span><span class="p">,</span> <span class="s2">&quot;macintosh&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Changes how the game is rendered.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;filtering&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Filtering&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Uses bilinear interpolation instead of nearest neighbor &quot;</span>
                      <span class="s2">&quot;resampling for the aspect ratio correction and stretch mode.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;datadir&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Data directory&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Defaults to share/scummvm if unspecified.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;platform&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Platform&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Specifes platform of game. Allowed values: 2gs, 3do, acorn, amiga, atari, c64, &quot;</span>
                      <span class="s2">&quot;fmtowns, nes, mac, pc pc98, pce, segacd, wii, windows&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;joystick&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Joystick&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enables joystick input (default: 0 = first joystick)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;language&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Language&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Selects language (en, de, fr, it, pt, es, jp, zh, kr, se, gb, hb, ru, cz)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;engine-speed&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Engine speed&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets frames per second limit (0 - 100) for Grim Fandango &quot;</span>
                      <span class="s2">&quot;or Escape from Monkey Island (default: 60).&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;talk-speed&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Talk speed&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets talk speed for games (default: 60)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;music-tempo&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Music tempo&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets music tempo (in percent, 50-200) for SCUMM games (default: 100)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dimuse-tempo&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Digital iMuse tempo&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets internal Digital iMuse tempo (10 - 100) per second (default: 10)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;music-driver&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Music driver&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="s2">&quot;null&quot;</span><span class="p">,</span> <span class="s2">&quot;null&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;seq&quot;</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;sndio&quot;</span><span class="p">,</span> <span class="s2">&quot;sndio&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;alsa&quot;</span><span class="p">,</span> <span class="s2">&quot;alsa&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;fluidsynth&quot;</span><span class="p">,</span> <span class="s2">&quot;fluidsynth&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;mt32&quot;</span><span class="p">,</span> <span class="s2">&quot;mt32&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;adlib&quot;</span><span class="p">,</span> <span class="s2">&quot;adlib&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;pcspk&quot;</span><span class="p">,</span> <span class="s2">&quot;pcspk&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;pcjr&quot;</span><span class="p">,</span> <span class="s2">&quot;pcjr&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;cms&quot;</span><span class="p">,</span> <span class="s2">&quot;cms&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;timidity&quot;</span><span class="p">,</span> <span class="s2">&quot;timidity&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Specifies the device ScummVM uses to output audio.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;output-rate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output rate&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="s2">&quot;11025&quot;</span><span class="p">,</span> <span class="s2">&quot;11025&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;22050&quot;</span><span class="p">,</span> <span class="s2">&quot;22050&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;44100&quot;</span><span class="p">,</span> <span class="s2">&quot;44100&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Selects output sample rate in Hz.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;opl-driver&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;OPL driver&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="s2">&quot;auto&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;mame&quot;</span><span class="p">,</span> <span class="s2">&quot;mame&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;db&quot;</span><span class="p">,</span> <span class="s2">&quot;db&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;nuked&quot;</span><span class="p">,</span> <span class="s2">&quot;nuked&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;alsa&quot;</span><span class="p">,</span> <span class="s2">&quot;alsa&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;op2lpt&quot;</span><span class="p">,</span> <span class="s2">&quot;op2lpt&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;op3lpt&quot;</span><span class="p">,</span> <span class="s2">&quot;op3lpt&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;rwopl3&quot;</span><span class="p">,</span> <span class="s2">&quot;rwopl3&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Chooses which emulator is used by ScummVM when the AdLib emulator &quot;</span>
                      <span class="s2">&quot;is chosen as the Preferred device.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;music-volume&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Music volume&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets the music volume, 0-255 (default: 192)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;sfx-volume&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;SFX volume&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets the sfx volume, 0-255 (default: 192)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;speech-volume&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Speech volume&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets the speech volume, 0-255 (default: 192)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;midi-gain&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;MIDI gain&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets the gain for MIDI playback. 0-1000 (default: 100)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;soundfont&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Soundfont&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Specifies the path to a soundfont file.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;multi-midi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Mixed AdLib/MIDI mode&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Combines MIDI music with AdLib sound effects.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;native-mt32&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;True Roland MT-32&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Tells ScummVM that the MIDI device is an actual Roland MT-32, &quot;</span>
                      <span class="s2">&quot;LAPC-I, CM-64, CM-32L, CM-500 or other MT-32 device.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;enable-gs&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable Roland GS&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Tells ScummVM that the MIDI device is a GS device that has &quot;</span>
                      <span class="s2">&quot;an MT-32 map, such as an SC-55, SC-88 or SC-8820.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;alt-intro&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use alternate intro&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Uses alternative intro for CD versions&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;copy-protection&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Copy protection&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enables copy protection&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;demo-mode&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Demo mode&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Starts demo mode of Maniac Mansion or The 7th Guest&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;debug-level&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Debug level&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets debug verbosity level&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;debug-flags&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Debug flags&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enables engine specific debug flags&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">game_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">libs_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;scummvm/lib&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">path</span> <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
            <span class="s2">&quot;--extrapath=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_scummvm_data_dir</span><span class="p">(),</span>
            <span class="s2">&quot;--themepath=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_scummvm_data_dir</span><span class="p">(),</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_scummvm_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;datadir&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">data_dir</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">root_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()))</span>
            <span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_dir</span><span class="p">,</span> <span class="s2">&quot;share/scummvm&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">data_dir</span>

    <span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">env</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">()</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">pathsep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">libs_dir</span><span class="p">,</span>
            <span class="n">env</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">)]))</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="n">env</span><span class="p">,</span> <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_command</span><span class="p">()}</span>

    <span class="k">def</span> <span class="nf">inject_runner_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">cmdline</span><span class="p">,</span> <span class="n">cmdline_empty</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">cmdline</span><span class="p">:</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmdline</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmdline</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">cmdline_empty</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmdline_empty</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_command</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">option</span><span class="p">,</span> <span class="n">cmdline</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">option_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inject_runner_option</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">cmdline</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">option_empty_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">))</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--path=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game_id&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">,</span> <span class="s2">&quot;ld_library_path&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">libs_dir</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_game_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the entire list of games supported by ScummVM.&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;--list-games&quot;</span><span class="p">],</span>
                              <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">scummvm_process</span><span class="p">:</span>
            <span class="n">scumm_output</span> <span class="o">=</span> <span class="n">scummvm_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">game_list</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">scumm_output</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">game_array</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">game_list_start</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">game_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">game_list_start</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">dir_limit</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dir_limit</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">dir_limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">game_dir</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">dir_limit</span><span class="p">]</span>
                    <span class="n">game_name</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="n">dir_limit</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">game</span><span class="p">)]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="n">game_array</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">game_dir</span><span class="p">,</span> <span class="n">game_name</span><span class="p">])</span>
            <span class="c1"># The actual list is below a separator</span>
            <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;-----&quot;</span><span class="p">):</span>
                <span class="n">game_list_start</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">game_array</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.scummvm.scummvm.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.scummvm.scummvm.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.game_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.scummvm.scummvm.game_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the directory where the game is installed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.scummvm.scummvm.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.libs_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">libs_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.scummvm.scummvm.libs_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.option_empty_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">option_empty_map</span></code>


<a href="#lutris.runners.scummvm.scummvm.option_empty_map" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.option_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">option_map</span></code>


<a href="#lutris.runners.scummvm.scummvm.option_map" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.scummvm.scummvm.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.scummvm.scummvm.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.scummvm.scummvm.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.scummvm.scummvm.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.scummvm.scummvm.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.scummvm.scummvm.get_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.scummvm.scummvm.get_command" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/scummvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
        <span class="s2">&quot;--extrapath=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_scummvm_data_dir</span><span class="p">(),</span>
        <span class="s2">&quot;--themepath=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_scummvm_data_dir</span><span class="p">(),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.scummvm.scummvm.get_game_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.scummvm.scummvm.get_game_list" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the entire list of games supported by ScummVM.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/scummvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the entire list of games supported by ScummVM.&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;--list-games&quot;</span><span class="p">],</span>
                          <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span> <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">scummvm_process</span><span class="p">:</span>
        <span class="n">scumm_output</span> <span class="o">=</span> <span class="n">scummvm_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">game_list</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">scumm_output</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">game_array</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">game_list_start</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">game_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">game_list_start</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">game</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">dir_limit</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dir_limit</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">dir_limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">game_dir</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">dir_limit</span><span class="p">]</span>
                <span class="n">game_name</span> <span class="o">=</span> <span class="n">game</span><span class="p">[</span><span class="n">dir_limit</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">game</span><span class="p">)]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">game_array</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">game_dir</span><span class="p">,</span> <span class="n">game_name</span><span class="p">])</span>
        <span class="c1"># The actual list is below a separator</span>
        <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;-----&quot;</span><span class="p">):</span>
            <span class="n">game_list_start</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">game_array</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.scummvm.scummvm.get_run_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.scummvm.scummvm.get_run_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return dict with command (exe &amp; args list) and env vars (dict).</p>
<p>Reimplement in derived runner if need be.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/scummvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">env</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">()</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">pathsep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">libs_dir</span><span class="p">,</span>
        <span class="n">env</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">)]))</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="n">env</span><span class="p">,</span> <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_command</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.scummvm.scummvm.get_scummvm_data_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_scummvm_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.scummvm.scummvm.get_scummvm_data_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/scummvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_scummvm_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;datadir&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">data_dir</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">root_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()))</span>
        <span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_dir</span><span class="p">,</span> <span class="s2">&quot;share/scummvm&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data_dir</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.scummvm.scummvm.inject_runner_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inject_runner_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">cmdline</span><span class="p">,</span> <span class="n">cmdline_empty</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.scummvm.scummvm.inject_runner_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/scummvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">inject_runner_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">cmdline</span><span class="p">,</span> <span class="n">cmdline_empty</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">cmdline</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmdline</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmdline</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">cmdline_empty</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmdline_empty</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.scummvm.scummvm.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.scummvm.scummvm.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/scummvm.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_command</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">option</span><span class="p">,</span> <span class="n">cmdline</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">option_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inject_runner_option</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">cmdline</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">option_empty_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">))</span>
    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--path=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game_id&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">,</span> <span class="s2">&quot;ld_library_path&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">libs_dir</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.snes9x" class="doc doc-heading">
        <code>snes9x</code>



<a href="#lutris.runners.snes9x" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.snes9x.SNES9X_DIR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SNES9X_DIR</span></code>


<a href="#lutris.runners.snes9x.SNES9X_DIR" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.snes9x.snes9x" class="doc doc-heading">
        <code>
snes9x            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.snes9x.snes9x" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/snes9x.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">snes9x</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Super Nintendo emulator&quot;</span><span class="p">)</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Snes9x&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo SNES&quot;</span><span class="p">)]</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;snes9x/bin/snes9x-gtk&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default_path&quot;</span><span class="p">:</span> <span class="s2">&quot;game_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data, commonly called a ROM image.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;maintain_aspect_ratio&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Maintain aspect ratio (4:3)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Super Nintendo games were made for 4:3 &quot;</span>
                <span class="s2">&quot;screens with rectangular pixels, but modern screens &quot;</span>
                <span class="s2">&quot;have square pixels, which results in a vertically &quot;</span>
                <span class="s2">&quot;squeezed image. This option corrects this by displaying &quot;</span>
                <span class="s2">&quot;rectangular pixels.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;sound_driver&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sound driver&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">((</span><span class="s2">&quot;SDL&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;ALSA&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;OSS&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">)),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">set_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">config_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.snes9x/snes9x.xml&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
            <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-help&quot;</span><span class="p">])</span> <span class="k">as</span> <span class="n">snes9x_process</span><span class="p">:</span>
                <span class="n">snes9x_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Snes9x config file creation failed&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;./preferences/option[@name=&#39;</span><span class="si">%s</span><span class="s2">&#39;]&quot;</span> <span class="o">%</span> <span class="n">option</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;bool&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>
        <span class="n">node</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">option_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="n">option_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option_name</span><span class="p">))</span>

        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="n">rom</span><span class="p">]}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.snes9x.snes9x.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.snes9x.snes9x.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.snes9x.snes9x.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.snes9x.snes9x.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.snes9x.snes9x.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.snes9x.snes9x.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.snes9x.snes9x.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.snes9x.snes9x.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.snes9x.snes9x.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.snes9x.snes9x.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.snes9x.snes9x.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.snes9x.snes9x.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.snes9x.snes9x.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.snes9x.snes9x.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.snes9x.snes9x.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.snes9x.snes9x.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/snes9x.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">option_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="n">option_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option_name</span><span class="p">))</span>

    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="n">rom</span><span class="p">]}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.snes9x.snes9x.set_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#lutris.runners.snes9x.snes9x.set_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/snes9x.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_option</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">config_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.snes9x/snes9x.xml&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;-help&quot;</span><span class="p">])</span> <span class="k">as</span> <span class="n">snes9x_process</span><span class="p">:</span>
            <span class="n">snes9x_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Snes9x config file creation failed&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;./preferences/option[@name=&#39;</span><span class="si">%s</span><span class="s2">&#39;]&quot;</span> <span class="o">%</span> <span class="n">option</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;bool&quot;</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>
    <span class="n">node</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.steam" class="doc doc-heading">
        <code>steam</code>



<a href="#lutris.runners.steam" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Steam for Linux runner</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.steam.steam" class="doc doc-heading">
        <code>
steam            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.steam.steam" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">steam</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Runs Steam for Linux games&quot;</span><span class="p">)</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Steam&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">)]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;steam&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;appid&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Application ID&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The application ID can be retrieved from the game&#39;s &quot;</span>
                <span class="s2">&quot;page at steampowered.com. Example: 235320 is the &quot;</span>
                <span class="s2">&quot;app ID for &lt;i&gt;Original War&lt;/i&gt; in: </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;http://store.steampowered.com/app/&lt;b&gt;235320&lt;/b&gt;/&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Command line arguments used when launching the game.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Ignored when Steam Big Picture mode is enabled.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;run_without_steam&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DRM free mode (Do not launch Steam)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Run the game directly without Steam, requires the game binary path to be set&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;steamless_binary&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Game binary path&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Path to the game executable (Required by DRM free mode)&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;quit_steam_on_exit&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Stop Steam after game exits&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Shut down Steam after the game has quit</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;(only if Steam was started by Lutris)&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;start_in_big_picture&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start Steam in Big Picture mode&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Launches Steam in Big Picture mode.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Only works if Steam is not running or &quot;</span>
                <span class="s2">&quot;already running in Big Picture mode.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Useful when playing with a Steam Controller.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;lsi_steam&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Start Steam with LSI&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Launches steam with LSI patches enabled. &quot;</span>
                <span class="s2">&quot;Make sure Lutris Runtime is disabled and &quot;</span>
                <span class="s2">&quot;you have LSI installed. &quot;</span>
                <span class="s2">&quot;https://github.com/solus-project/linux-steam-integration&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Extra command line arguments used when launching Steam&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="n">system_options_override</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;disable_runtime&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">own_game_remove_method</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Remove game data (through Steam)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_game_remove_warning</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">original_steampid</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">runnable_alone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_flatpak</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">appid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;appid&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_steam_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the &quot;Steam&quot; part of Steam&#39;s config.vdf as a dict.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">read_config</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steam_data_dir</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_library_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the &quot;libraryfolders&quot; part of Steam&#39;s libraryfolders.vdf as a dict &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">read_library_folders</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steam_data_dir</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">game_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_path_from_appid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">steam_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Main installation directory for Steam&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_steam_dir</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">library_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list Steam library paths&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steamapps_dirs</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_appmanifest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an AppManifest instance for the game&quot;&quot;&quot;</span>
        <span class="n">appmanifests</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">apps_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steamapps_dirs</span><span class="p">():</span>
            <span class="n">appmanifest</span> <span class="o">=</span> <span class="n">get_appmanifest_from_appid</span><span class="p">(</span><span class="n">apps_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">appmanifest</span><span class="p">:</span>
                <span class="n">appmanifests</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">appmanifest</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">appmanifests</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;More than one AppManifest for </span><span class="si">%s</span><span class="s2"> returning only 1st&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">appmanifests</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">appmanifests</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_flatpak</span><span class="p">:</span>
            <span class="c1"># Use xdg-open for Steam URIs in Flatpak</span>
            <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;xdg-open&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;lsi_steam&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;lsi-steam&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;lsi-steam&quot;</span><span class="p">)</span>
        <span class="n">runner_executable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">runner_executable</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">runner_executable</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">runner_executable</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">working_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the working directory to use when running the game.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;run_without_steam&quot;</span><span class="p">):</span>
            <span class="n">steamless_binary</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;steamless_binary&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">steamless_binary</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">steamless_binary</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">steamless_binary</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">working_dir</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">launch_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Provide launch arguments for Steam&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="k">if</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_flatpak</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">args</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_in_big_picture&quot;</span><span class="p">):</span>
            <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-bigpicture&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">args</span> <span class="o">+</span> <span class="n">split_arguments</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_game_path_from_appid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the game directory.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">apps_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steamapps_dirs</span><span class="p">():</span>
            <span class="n">game_path</span> <span class="o">=</span> <span class="n">get_path_from_appmanifest</span><span class="p">(</span><span class="n">apps_path</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">game_path</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">game_path</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data path for SteamApp </span><span class="si">%s</span><span class="s2"> not found.&quot;</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_steamapps_dirs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of the Steam library main + custom folders.&quot;&quot;&quot;</span>
        <span class="n">dirs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Extra colon-separated compatibility tools dirs environment variable</span>
        <span class="k">if</span> <span class="s1">&#39;STEAM_EXTRA_COMPAT_TOOLS_PATHS&#39;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
            <span class="n">dirs</span> <span class="o">+=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;STEAM_EXTRA_COMPAT_TOOLS_PATHS&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
        <span class="c1"># Main steamapps dir and compatibilitytools.d dir</span>
        <span class="k">for</span> <span class="n">data_dir</span> <span class="ow">in</span> <span class="n">STEAM_DATA_DIRS</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">_dir</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;steamapps&quot;</span><span class="p">,</span> <span class="s2">&quot;compatibilitytools.d&quot;</span><span class="p">]:</span>
                <span class="n">abs_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">data_dir</span><span class="p">),</span> <span class="n">_dir</span><span class="p">)</span>
                <span class="n">abs_dir</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">abs_dir</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">abs_dir</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">abs_dir</span><span class="p">):</span>
                    <span class="n">dirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abs_dir</span><span class="p">)</span>

        <span class="c1"># Custom dirs</span>
        <span class="n">steam_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steam_config</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">steam_config</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="s2">&quot;BaseInstallFolder_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">steam_config</span><span class="p">:</span>
                <span class="n">path</span> <span class="o">=</span> <span class="n">steam_config</span><span class="p">[</span><span class="s2">&quot;BaseInstallFolder_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/steamapps&quot;</span>
                <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                    <span class="n">dirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># New Custom dirs</span>
        <span class="n">library_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library_config</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">library_config</span><span class="p">:</span>
            <span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">library_config</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">if</span> <span class="s2">&quot;mounted&quot;</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mounted&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                        <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/steamapps&quot;</span><span class="p">)</span>
                        <span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/steamapps&quot;</span><span class="p">)</span>
                    <span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                    <span class="n">dirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">list_unique_folders</span><span class="p">(</span><span class="n">dirs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_default_steamapps_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">steamapps_paths</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steamapps_dirs</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">steamapps_paths</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">steamapps_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">NonInstallableRunnerError</span><span class="p">(</span>
            <span class="s2">&quot;Steam for Linux installation is not handled by Lutris.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;Please go to &quot;</span>
            <span class="s2">&quot;&lt;a href=&#39;http://steampowered.com&#39;&gt;http://steampowered.com&lt;/a&gt;&quot;</span>
            <span class="s2">&quot; or install Steam with the package provided by your distribution.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">install_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">generate_acf</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing steam game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">generate_acf</span><span class="p">:</span>
            <span class="n">acf_data</span> <span class="o">=</span> <span class="n">get_default_acf</span><span class="p">(</span><span class="n">appid</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
            <span class="n">acf_content</span> <span class="o">=</span> <span class="n">to_vdf</span><span class="p">(</span><span class="n">acf_data</span><span class="p">)</span>
            <span class="n">steamapps_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_steamapps_path</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">steamapps_path</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Could not find Steam path, is Steam installed?&quot;</span><span class="p">)</span>
            <span class="n">acf_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="s2">&quot;appmanifest_</span><span class="si">%s</span><span class="s2">.acf&quot;</span> <span class="o">%</span> <span class="n">appid</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">acf_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">acf_file</span><span class="p">:</span>
                <span class="n">acf_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">acf_content</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">is_running</span><span class="p">():</span>
                <span class="n">shutdown</span><span class="p">()</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;steam://install/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">appid</span><span class="p">]</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>  <span class="c1"># pylint: disable=consider-using-with</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">has_steam_shutdown</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">__</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">is_running</span><span class="p">():</span>
                    <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># If using primusrun, shutdown existing Steam first</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;optimus&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;off&quot;</span> <span class="ow">and</span> <span class="n">is_running</span><span class="p">():</span>
            <span class="n">shutdown</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">has_steam_shutdown</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Forcing Steam shutdown&quot;</span><span class="p">)</span>
                <span class="n">kill</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">has_steam_shutdown</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to shut down Steam :(&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">()}</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">game_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>

        <span class="n">binary_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;steamless_binary&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;run_without_steam&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">binary_path</span><span class="p">:</span>
            <span class="c1"># Start without steam</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">binary_path</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">binary_path</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">original_steampid</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">binary_path</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Start through steam</span>
            <span class="k">if</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_flatpak</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">game_args</span><span class="p">:</span>
                    <span class="n">steam_uri</span> <span class="o">=</span> <span class="s2">&quot;steam://run/</span><span class="si">%s</span><span class="s2">//</span><span class="si">%s</span><span class="s2">/&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">,</span> <span class="n">game_args</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">steam_uri</span> <span class="o">=</span> <span class="s2">&quot;steam://rungameid/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span>
                <span class="k">return</span> <span class="p">{</span>
                    <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span> <span class="o">+</span> <span class="p">[</span><span class="n">steam_uri</span><span class="p">],</span>
                    <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
                <span class="p">}</span>

            <span class="c1"># Get current steam pid to act as the root pid instead of lutris</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">original_steampid</span> <span class="o">=</span> <span class="n">get_steam_pid</span><span class="p">()</span>
            <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_in_big_picture&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">game_args</span><span class="p">:</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;steam://rungameid/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-applaunch&quot;</span><span class="p">)</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">game_args</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">game_args</span><span class="p">):</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">,</span>
            <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;quit_steam_on_exit&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_steampid</span><span class="p">:</span>
            <span class="n">shutdown</span><span class="p">()</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">remove_game_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">MonitoredCommand</span><span class="p">(</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;steam://uninstall/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">appid</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)],</span>
            <span class="n">runner</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.appid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">appid</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.steam.steam.appid" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.steam.steam.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.steam.steam.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.game_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.steam.steam.game_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the directory where the game is installed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.steam.steam.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.launch_args" class="doc doc-heading">
<code class="highlight language-python"><span class="n">launch_args</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.steam.steam.launch_args" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Provide launch arguments for Steam</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.library_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">library_folders</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.steam.steam.library_folders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list Steam library paths</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.steam.steam.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.steam.steam.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>bool(x) -&gt; bool</p>
<p>Returns True when the argument x is true, False otherwise.
The builtins True and False are the only two instances of the class bool.
The class bool is a subclass of the class int, and cannot be subclassed.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.steam.steam.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.steam.steam.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.steam_data_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steam_data_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.steam.steam.steam_data_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Main installation directory for Steam</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.system_options_override" class="doc doc-heading">
<code class="highlight language-python"><span class="n">system_options_override</span></code>


<a href="#lutris.runners.steam.steam.system_options_override" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.steam.steam.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.steam.steam.working_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the working directory to use when running the game.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.steam.steam.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">own_game_remove_method</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Remove game data (through Steam)&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">no_game_remove_warning</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">original_steampid</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.get_appmanifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_appmanifest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.get_appmanifest" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return an AppManifest instance for the game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_appmanifest</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return an AppManifest instance for the game&quot;&quot;&quot;</span>
    <span class="n">appmanifests</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">apps_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steamapps_dirs</span><span class="p">():</span>
        <span class="n">appmanifest</span> <span class="o">=</span> <span class="n">get_appmanifest_from_appid</span><span class="p">(</span><span class="n">apps_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">appmanifest</span><span class="p">:</span>
            <span class="n">appmanifests</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">appmanifest</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">appmanifests</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;More than one AppManifest for </span><span class="si">%s</span><span class="s2"> returning only 1st&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">appmanifests</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">appmanifests</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.get_default_steamapps_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_steamapps_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.get_default_steamapps_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_default_steamapps_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">steamapps_paths</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steamapps_dirs</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">steamapps_paths</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">steamapps_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.get_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.get_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_flatpak</span><span class="p">:</span>
        <span class="c1"># Use xdg-open for Steam URIs in Flatpak</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;xdg-open&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;lsi_steam&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;lsi-steam&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;lsi-steam&quot;</span><span class="p">)</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runner_executable&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">runner_executable</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">runner_executable</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">runner_executable</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_executable</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.get_game_path_from_appid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_path_from_appid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.get_game_path_from_appid" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the game directory.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_path_from_appid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the game directory.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">apps_path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steamapps_dirs</span><span class="p">():</span>
        <span class="n">game_path</span> <span class="o">=</span> <span class="n">get_path_from_appmanifest</span><span class="p">(</span><span class="n">apps_path</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">game_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">game_path</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Data path for SteamApp </span><span class="si">%s</span><span class="s2"> not found.&quot;</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.get_library_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_library_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.get_library_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the "libraryfolders" part of Steam's libraryfolders.vdf as a dict </p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_library_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the &quot;libraryfolders&quot; part of Steam&#39;s libraryfolders.vdf as a dict &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">read_library_folders</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steam_data_dir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.get_run_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.get_run_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return dict with command (exe &amp; args list) and env vars (dict).</p>
<p>Reimplement in derived runner if need be.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">()}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.get_steam_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steam_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.get_steam_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the "Steam" part of Steam's config.vdf as a dict.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steam_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the &quot;Steam&quot; part of Steam&#39;s config.vdf as a dict.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">read_config</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steam_data_dir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.get_steamapps_dirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steamapps_dirs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.get_steamapps_dirs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of the Steam library main + custom folders.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steamapps_dirs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of the Steam library main + custom folders.&quot;&quot;&quot;</span>
    <span class="n">dirs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Extra colon-separated compatibility tools dirs environment variable</span>
    <span class="k">if</span> <span class="s1">&#39;STEAM_EXTRA_COMPAT_TOOLS_PATHS&#39;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
        <span class="n">dirs</span> <span class="o">+=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;STEAM_EXTRA_COMPAT_TOOLS_PATHS&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
    <span class="c1"># Main steamapps dir and compatibilitytools.d dir</span>
    <span class="k">for</span> <span class="n">data_dir</span> <span class="ow">in</span> <span class="n">STEAM_DATA_DIRS</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">_dir</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;steamapps&quot;</span><span class="p">,</span> <span class="s2">&quot;compatibilitytools.d&quot;</span><span class="p">]:</span>
            <span class="n">abs_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">data_dir</span><span class="p">),</span> <span class="n">_dir</span><span class="p">)</span>
            <span class="n">abs_dir</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">abs_dir</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">abs_dir</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">abs_dir</span><span class="p">):</span>
                <span class="n">dirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abs_dir</span><span class="p">)</span>

    <span class="c1"># Custom dirs</span>
    <span class="n">steam_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_steam_config</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">steam_config</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="s2">&quot;BaseInstallFolder_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">steam_config</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">steam_config</span><span class="p">[</span><span class="s2">&quot;BaseInstallFolder_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;/steamapps&quot;</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="n">dirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># New Custom dirs</span>
    <span class="n">library_config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_library_config</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">library_config</span><span class="p">:</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">library_config</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="s2">&quot;mounted&quot;</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mounted&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                    <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/steamapps&quot;</span><span class="p">)</span>
                    <span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/steamapps&quot;</span><span class="p">)</span>
                <span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="n">dirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">list_unique_folders</span><span class="p">(</span><span class="n">dirs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">raise</span> <span class="n">NonInstallableRunnerError</span><span class="p">(</span>
        <span class="s2">&quot;Steam for Linux installation is not handled by Lutris.</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="s2">&quot;Please go to &quot;</span>
        <span class="s2">&quot;&lt;a href=&#39;http://steampowered.com&#39;&gt;http://steampowered.com&lt;/a&gt;&quot;</span>
        <span class="s2">&quot; or install Steam with the package provided by your distribution.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.install_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">generate_acf</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.install_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">generate_acf</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Installing steam game </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">generate_acf</span><span class="p">:</span>
        <span class="n">acf_data</span> <span class="o">=</span> <span class="n">get_default_acf</span><span class="p">(</span><span class="n">appid</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
        <span class="n">acf_content</span> <span class="o">=</span> <span class="n">to_vdf</span><span class="p">(</span><span class="n">acf_data</span><span class="p">)</span>
        <span class="n">steamapps_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_steamapps_path</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">steamapps_path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Could not find Steam path, is Steam installed?&quot;</span><span class="p">)</span>
        <span class="n">acf_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="s2">&quot;appmanifest_</span><span class="si">%s</span><span class="s2">.acf&quot;</span> <span class="o">%</span> <span class="n">appid</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">acf_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">acf_file</span><span class="p">:</span>
            <span class="n">acf_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">acf_content</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_running</span><span class="p">():</span>
            <span class="n">shutdown</span><span class="p">()</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;steam://install/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">appid</span><span class="p">]</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>  <span class="c1"># pylint: disable=consider-using-with</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">game_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>

    <span class="n">binary_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;steamless_binary&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;run_without_steam&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">binary_path</span><span class="p">:</span>
        <span class="c1"># Start without steam</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">binary_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">binary_path</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">original_steampid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">binary_path</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Start through steam</span>
        <span class="k">if</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_flatpak</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">game_args</span><span class="p">:</span>
                <span class="n">steam_uri</span> <span class="o">=</span> <span class="s2">&quot;steam://run/</span><span class="si">%s</span><span class="s2">//</span><span class="si">%s</span><span class="s2">/&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">,</span> <span class="n">game_args</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">steam_uri</span> <span class="o">=</span> <span class="s2">&quot;steam://rungameid/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span> <span class="o">+</span> <span class="p">[</span><span class="n">steam_uri</span><span class="p">],</span>
                <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
            <span class="p">}</span>

        <span class="c1"># Get current steam pid to act as the root pid instead of lutris</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">original_steampid</span> <span class="o">=</span> <span class="n">get_steam_pid</span><span class="p">()</span>
        <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">launch_args</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;start_in_big_picture&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">game_args</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;steam://rungameid/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-applaunch&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">game_args</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">game_args</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">,</span>
        <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">has_steam_shutdown</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">__</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_running</span><span class="p">():</span>
                <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># If using primusrun, shutdown existing Steam first</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;optimus&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;off&quot;</span> <span class="ow">and</span> <span class="n">is_running</span><span class="p">():</span>
        <span class="n">shutdown</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">has_steam_shutdown</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Forcing Steam shutdown&quot;</span><span class="p">)</span>
            <span class="n">kill</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">has_steam_shutdown</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to shut down Steam :(&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.remove_game_data" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_game_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.remove_game_data" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_game_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_installed</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">command</span> <span class="o">=</span> <span class="n">MonitoredCommand</span><span class="p">(</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="s2">&quot;steam://uninstall/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">appid</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">appid</span><span class="p">)],</span>
        <span class="n">runner</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
        <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="n">command</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.steam.steam.stop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.steam.steam.stop" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;quit_steam_on_exit&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_steampid</span><span class="p">:</span>
        <span class="n">shutdown</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.steam.get_steam_pid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steam_pid</span><span class="p">()</span></code>


<a href="#lutris.runners.steam.get_steam_pid" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return pid of Steam process.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steam_pid</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return pid of Steam process.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">get_pid</span><span class="p">(</span><span class="s2">&quot;steam$&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.steam.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">()</span></code>


<a href="#lutris.runners.steam.is_running" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Checks if Steam is running.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_running</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Checks if Steam is running.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">get_steam_pid</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.steam.kill" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kill</span><span class="p">()</span></code>


<a href="#lutris.runners.steam.kill" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Force quit Steam.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">kill</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Force quit Steam.&quot;&quot;&quot;</span>
    <span class="n">system</span><span class="o">.</span><span class="n">kill_pid</span><span class="p">(</span><span class="n">get_steam_pid</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.runners.steam.shutdown" class="doc doc-heading">
<code class="highlight language-python"><span class="n">shutdown</span><span class="p">()</span></code>


<a href="#lutris.runners.steam.shutdown" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Cleanly quit Steam.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/steam.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">shutdown</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Cleanly quit Steam.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Shutting down Steam&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_running</span><span class="p">():</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s2">&quot;steam&quot;</span><span class="p">,</span> <span class="s2">&quot;-shutdown&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.vice" class="doc doc-heading">
        <code>vice</code>



<a href="#lutris.runners.vice" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.vice.vice" class="doc doc-heading">
        <code>
vice            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.vice.vice" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">vice</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore Emulator&quot;</span><span class="p">)</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Vice&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore 64&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore 128&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore VIC20&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore PET&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore Plus/4&quot;</span><span class="p">),</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Commodore CBM II&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">machine_choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;C64&quot;</span><span class="p">,</span> <span class="s2">&quot;c64&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;C128&quot;</span><span class="p">,</span> <span class="s2">&quot;c128&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;vic20&quot;</span><span class="p">,</span> <span class="s2">&quot;vic20&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;PET&quot;</span><span class="p">,</span> <span class="s2">&quot;pet&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Plus/4&quot;</span><span class="p">,</span> <span class="s2">&quot;plus4&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;CBM-II&quot;</span><span class="p">,</span> <span class="s2">&quot;cbmii&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The game data, commonly called a ROM image.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Supported formats: X64, D64, G64, P64, D67, D71, D81, &quot;</span>
                <span class="s2">&quot;D80, D82, D1M, D2M, D4M, T46, P00 and CRT.&quot;</span>
            <span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;joy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use joysticks&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;double&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Scale up display by 2&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;aspect_ratio&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Preserve aspect ratio&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;drivesound&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable sound emulation of disk drives&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;renderer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Graphics renderer&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;OpenGL&quot;</span><span class="p">,</span> <span class="s2">&quot;opengl&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Software&quot;</span><span class="p">),</span> <span class="s2">&quot;software&quot;</span><span class="p">)],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;opengl&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;machine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Machine&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">machine_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;c64&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">machine</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">choice</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machine_choices</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">machine</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Default to C64</span>

    <span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machine</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">machine</span><span class="p">:</span>
            <span class="n">machine</span> <span class="o">=</span> <span class="s2">&quot;c64&quot;</span>
        <span class="n">executables</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="s2">&quot;x64&quot;</span><span class="p">,</span>
            <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="s2">&quot;x128&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="s2">&quot;xvic&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="s2">&quot;xpet&quot;</span><span class="p">,</span>
            <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="s2">&quot;xplus4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cbmii&quot;</span><span class="p">:</span> <span class="s2">&quot;xcbm2&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">executable</span> <span class="o">=</span> <span class="n">executables</span><span class="p">[</span><span class="n">machine</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid machine &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">machine</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">ex</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;vice/bin/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">executable</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
            <span class="n">config_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.vice&quot;</span><span class="p">)</span>
            <span class="n">lib_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;vice/lib/vice&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">lib_dir</span><span class="p">):</span>
                <span class="n">lib_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;vice/lib64/vice&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">lib_dir</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Missing lib folder in the Vice runner&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">system</span><span class="o">.</span><span class="n">merge_folders</span><span class="p">(</span><span class="n">lib_dir</span><span class="p">,</span> <span class="n">config_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
                <span class="n">callback</span><span class="p">()</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">on_runner_installed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_roms_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machine</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">machine</span><span class="p">:</span>
            <span class="n">machine</span> <span class="o">=</span> <span class="s2">&quot;c64&quot;</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="s2">&quot;C64&quot;</span><span class="p">,</span>
            <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="s2">&quot;C128&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="s2">&quot;VIC20&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="s2">&quot;PET&quot;</span><span class="p">,</span>
            <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="s2">&quot;PLUS4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cmbii&quot;</span><span class="p">:</span> <span class="s2">&quot;CBM-II&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">root_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()))</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_dir</span><span class="p">,</span> <span class="s2">&quot;lib64/vice&quot;</span><span class="p">,</span> <span class="n">paths</span><span class="p">[</span><span class="n">machine</span><span class="p">])</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_option_prefix</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
        <span class="n">prefixes</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="s2">&quot;VICII&quot;</span><span class="p">,</span>
            <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="s2">&quot;VICII&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="s2">&quot;VIC&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="s2">&quot;CRTC&quot;</span><span class="p">,</span>
            <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="s2">&quot;TED&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cmbii&quot;</span><span class="p">:</span> <span class="s2">&quot;CRTC&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">prefixes</span><span class="p">[</span><span class="n">machine</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_joydevs</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
        <span class="n">joydevs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;cmbii&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">joydevs</span><span class="p">[</span><span class="n">machine</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_rom_args</span><span class="p">(</span><span class="n">machine</span><span class="p">,</span> <span class="n">rom</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">rom</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.crt&quot;</span><span class="p">):</span>
            <span class="n">crt_option</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="s2">&quot;-cartcrt&quot;</span><span class="p">,</span>
                <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="s2">&quot;-cartcrt&quot;</span><span class="p">,</span>
                <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="s2">&quot;-cartgeneric&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="s2">&quot;-cart&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cmbii&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">crt_option</span><span class="p">[</span><span class="n">machine</span><span class="p">]:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">crt_option</span><span class="p">[</span><span class="n">machine</span><span class="p">])</span>

        <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">args</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">)</span>

        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">rom</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;No rom provided&quot;</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>

        <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(</span><span class="n">machine</span><span class="p">)]</span>
        <span class="n">rom_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-chdir&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom_dir</span><span class="p">)</span>
        <span class="n">option_prefix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_option_prefix</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">{}</span><span class="s2">full&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option_prefix</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;double&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">{}</span><span class="s2">dsize&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option_prefix</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderer&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-sdl2renderer&quot;</span><span class="p">)</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;renderer&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aspect_ratio&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-sdlaspectmode&quot;</span><span class="p">)</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;drivesound&quot;</span><span class="p">):</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-drivesound&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;joy&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">dev</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_joydevs</span><span class="p">(</span><span class="n">machine</span><span class="p">)):</span>
                <span class="n">params</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-joydev</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dev</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;4&quot;</span><span class="p">]</span>

        <span class="n">params</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rom_args</span><span class="p">(</span><span class="n">machine</span><span class="p">,</span> <span class="n">rom</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">params</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.vice.vice.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.vice.vice.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.vice.vice.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.vice.vice.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.vice.vice.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.vice.vice.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.vice.vice.machine_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">machine_choices</span></code>


<a href="#lutris.runners.vice.vice.machine_choices" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.vice.vice.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.vice.vice.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.vice.vice.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.vice.vice.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.vice.vice.get_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machine</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.vice.vice.get_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machine</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">machine</span><span class="p">:</span>
        <span class="n">machine</span> <span class="o">=</span> <span class="s2">&quot;c64&quot;</span>
    <span class="n">executables</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="s2">&quot;x64&quot;</span><span class="p">,</span>
        <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="s2">&quot;x128&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="s2">&quot;xvic&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="s2">&quot;xpet&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="s2">&quot;xplus4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cbmii&quot;</span><span class="p">:</span> <span class="s2">&quot;xcbm2&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">executable</span> <span class="o">=</span> <span class="n">executables</span><span class="p">[</span><span class="n">machine</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid machine &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">machine</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;vice/bin/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">executable</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.vice.vice.get_joydevs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_joydevs</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.vice.vice.get_joydevs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_joydevs</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
    <span class="n">joydevs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;cmbii&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">joydevs</span><span class="p">[</span><span class="n">machine</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.vice.vice.get_option_prefix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_option_prefix</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.vice.vice.get_option_prefix" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_option_prefix</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
    <span class="n">prefixes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="s2">&quot;VICII&quot;</span><span class="p">,</span>
        <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="s2">&quot;VICII&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="s2">&quot;VIC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="s2">&quot;CRTC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="s2">&quot;TED&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cmbii&quot;</span><span class="p">:</span> <span class="s2">&quot;CRTC&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">prefixes</span><span class="p">[</span><span class="n">machine</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.vice.vice.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.vice.vice.get_platform" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">machine</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">choice</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">machine_choices</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">machine</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">platforms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Default to C64</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.vice.vice.get_rom_args" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_rom_args</span><span class="p">(</span><span class="n">machine</span><span class="p">,</span> <span class="n">rom</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.vice.vice.get_rom_args" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_rom_args</span><span class="p">(</span><span class="n">machine</span><span class="p">,</span> <span class="n">rom</span><span class="p">):</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">rom</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.crt&quot;</span><span class="p">):</span>
        <span class="n">crt_option</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="s2">&quot;-cartcrt&quot;</span><span class="p">,</span>
            <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="s2">&quot;-cartcrt&quot;</span><span class="p">,</span>
            <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="s2">&quot;-cartgeneric&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="s2">&quot;-cart&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cmbii&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">crt_option</span><span class="p">[</span><span class="n">machine</span><span class="p">]:</span>
            <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">crt_option</span><span class="p">[</span><span class="n">machine</span><span class="p">])</span>

    <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">args</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.vice.vice.get_roms_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_roms_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machine</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.vice.vice.get_roms_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_roms_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machine</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">machine</span><span class="p">:</span>
        <span class="n">machine</span> <span class="o">=</span> <span class="s2">&quot;c64&quot;</span>
    <span class="n">paths</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;c64&quot;</span><span class="p">:</span> <span class="s2">&quot;C64&quot;</span><span class="p">,</span>
        <span class="s2">&quot;c128&quot;</span><span class="p">:</span> <span class="s2">&quot;C128&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vic20&quot;</span><span class="p">:</span> <span class="s2">&quot;VIC20&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pet&quot;</span><span class="p">:</span> <span class="s2">&quot;PET&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plus4&quot;</span><span class="p">:</span> <span class="s2">&quot;PLUS4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cmbii&quot;</span><span class="p">:</span> <span class="s2">&quot;CBM-II&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">root_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()))</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_dir</span><span class="p">,</span> <span class="s2">&quot;lib64/vice&quot;</span><span class="p">,</span> <span class="n">paths</span><span class="p">[</span><span class="n">machine</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.vice.vice.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.vice.vice.install" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Install runner using package management systems.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">downloader</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">on_runner_installed</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">config_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="s2">&quot;~/.vice&quot;</span><span class="p">)</span>
        <span class="n">lib_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;vice/lib/vice&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">lib_dir</span><span class="p">):</span>
            <span class="n">lib_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;vice/lib64/vice&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">lib_dir</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Missing lib folder in the Vice runner&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">system</span><span class="o">.</span><span class="n">merge_folders</span><span class="p">(</span><span class="n">lib_dir</span><span class="p">,</span> <span class="n">config_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">()</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">downloader</span><span class="p">,</span> <span class="n">on_runner_installed</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.vice.vice.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.vice.vice.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/vice.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">machine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;machine&quot;</span><span class="p">)</span>

    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">rom</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;No rom provided&quot;</span><span class="p">}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>

    <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(</span><span class="n">machine</span><span class="p">)]</span>
    <span class="n">rom_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-chdir&quot;</span><span class="p">)</span>
    <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom_dir</span><span class="p">)</span>
    <span class="n">option_prefix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_option_prefix</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fullscreen&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">{}</span><span class="s2">full&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option_prefix</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;double&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">{}</span><span class="s2">dsize&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option_prefix</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;renderer&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-sdl2renderer&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;renderer&quot;</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;aspect_ratio&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-sdlaspectmode&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;drivesound&quot;</span><span class="p">):</span>
        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-drivesound&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;joy&quot;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">dev</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_joydevs</span><span class="p">(</span><span class="n">machine</span><span class="p">)):</span>
            <span class="n">params</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-joydev</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dev</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;4&quot;</span><span class="p">]</span>

    <span class="n">params</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rom_args</span><span class="p">(</span><span class="n">machine</span><span class="p">,</span> <span class="n">rom</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">params</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.web" class="doc doc-heading">
        <code>web</code>



<a href="#lutris.runners.web" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Run web based games</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.web.DEFAULT_ICON" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT_ICON</span></code>


<a href="#lutris.runners.web.DEFAULT_ICON" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.web.web" class="doc doc-heading">
        <code>
web            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.web.web" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/web.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">web</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Web&quot;</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Runs web based games&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Web&quot;</span><span class="p">)]</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Full URL or HTML file path&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The full address of the game&#39;s web page or path to a HTML file.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Open in fullscreen&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Launch the game in fullscreen.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;maximize_window&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Open window maximized&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Maximizes the window when game starts.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;window_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Window size&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;640x480&quot;</span><span class="p">,</span>
                <span class="s2">&quot;800x600&quot;</span><span class="p">,</span>
                <span class="s2">&quot;1024x768&quot;</span><span class="p">,</span>
                <span class="s2">&quot;1280x720&quot;</span><span class="p">,</span>
                <span class="s2">&quot;1280x1024&quot;</span><span class="p">,</span>
                <span class="s2">&quot;1920x1080&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;800x600&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The initial size of the game window when not opened.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;disable_resizing&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable window resizing (disables fullscreen and maximize)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;You can&#39;t resize this window.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;frameless&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Borderless window&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The window has no borders/frame.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;disable_menu_bar&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable menu bar and default shortcuts&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;This also disables default keyboard shortcuts, &quot;</span>
                      <span class="s2">&quot;like copy/paste and fullscreen toggling.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;disable_scrolling&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable page scrolling and hide scrollbars&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disables scrolling on the page.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;hide_cursor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hide mouse cursor&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Prevents the mouse cursor from showing &quot;</span>
                      <span class="s2">&quot;when hovering above the window.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;open_links&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Open links in game window&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Enable this option if you want clicked links to open inside the &quot;</span>
                <span class="s2">&quot;game window. By default all links open in your default web browser.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;remove_margin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Remove default &lt;body&gt; margin &amp; padding&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets margin and padding to zero &quot;</span>
                      <span class="s2">&quot;on &amp;lt;html&amp;gt; and &amp;lt;body&amp;gt; elements.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;enable_flash&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable Adobe Flash Player&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable Adobe Flash Player.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;user_agent&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom User-Agent&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Overrides the default User-Agent header used by the runner.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;devtools&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Debug with Developer Tools&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Let&#39;s you debug the page.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;external_browser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Open in web browser (old behavior)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Launch the game in a web browser.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;custom_browser_executable&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom web browser executable&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Select the executable of a browser on your system.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;If left blank, Lutris will launch your default browser (xdg-open).&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;custom_browser_args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Web browser arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="s1">&#39;&quot;$GAME&quot;&#39;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Command line arguments to pass to the executable.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;$GAME or $URL inserts the game url.</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="s1">&#39;For Chrome/Chromium app mode use: --app=&quot;$GAME&quot;&#39;</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="n">system_options_override</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;disable_runtime&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;web/electron/electron&quot;</span>

    <span class="k">def</span> <span class="nf">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">env</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="p">)</span>

        <span class="n">enable_flash_player</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enable_flash&quot;</span><span class="p">)</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;ENABLE_FLASH_PLAYER&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="n">enable_flash_player</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>

        <span class="k">return</span> <span class="n">env</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The web address is empty, </span><span class="se">\n</span><span class="s2">&quot;</span>
                          <span class="s2">&quot;verify the game&#39;s configuration.&quot;</span><span class="p">),</span>
            <span class="p">}</span>

        <span class="c1"># check if it&#39;s an url or a file</span>
        <span class="n">is_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">scheme</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_url</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">{</span>
                    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The file </span><span class="si">%s</span><span class="s2"> does not exist, </span><span class="se">\n</span><span class="s2">&quot;</span>
                              <span class="s2">&quot;verify the game&#39;s configuration.&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="n">url</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;file://&quot;</span> <span class="o">+</span> <span class="n">url</span>

        <span class="n">game_data</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config_id</span><span class="p">,</span> <span class="s2">&quot;configpath&quot;</span><span class="p">)</span>

        <span class="c1"># keep the old behavior from browser runner, but with support for extra arguments!</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;external_browser&quot;</span><span class="p">):</span>
            <span class="c1"># is it possible to disable lutris runtime here?</span>
            <span class="n">browser</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom_browser_executable&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;xdg-open&quot;</span>

            <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom_browser_args&quot;</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="ow">or</span> <span class="s1">&#39;&quot;$GAME&quot;&#39;</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">safe_substitute</span><span class="p">({</span><span class="s2">&quot;GAME&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="s2">&quot;URL&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">})</span>

            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">browser</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">arguments</span><span class="p">):</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>

        <span class="n">icon</span> <span class="o">=</span> <span class="n">resources</span><span class="o">.</span><span class="n">get_icon_path</span><span class="p">(</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;slug&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">icon</span><span class="p">):</span>
            <span class="n">icon</span> <span class="o">=</span> <span class="n">DEFAULT_ICON</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;web/electron/resources/app.asar&quot;</span><span class="p">),</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="s2">&quot;--name&quot;</span><span class="p">,</span>
            <span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
            <span class="s2">&quot;--icon&quot;</span><span class="p">,</span>
            <span class="n">icon</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;frameless&quot;</span><span class="p">,</span>
            <span class="s2">&quot;devtools&quot;</span><span class="p">,</span>
            <span class="s2">&quot;disable_resizing&quot;</span><span class="p">,</span>
            <span class="s2">&quot;disable_menu_bar&quot;</span><span class="p">,</span>
            <span class="s2">&quot;maximize_window&quot;</span><span class="p">,</span>
            <span class="s2">&quot;disable_scrolling&quot;</span><span class="p">,</span>
            <span class="s2">&quot;hide_cursor&quot;</span><span class="p">,</span>
            <span class="s2">&quot;open_links&quot;</span><span class="p">,</span>
            <span class="s2">&quot;remove_margin&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="n">converted_opt_name</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--</span><span class="si">{option}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option</span><span class="o">=</span><span class="n">converted_opt_name</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;window_size&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--window-size&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;window_size&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user_agent&quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--user-agent&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user_agent&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_flatpak</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-sandbox&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="kc">False</span><span class="p">)}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.web.web.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.web.web.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.web.web.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.web.web.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.web.web.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.web.web.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.web.web.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.web.web.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.web.web.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.web.web.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.web.web.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.web.web.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.web.web.system_options_override" class="doc doc-heading">
<code class="highlight language-python"><span class="n">system_options_override</span></code>


<a href="#lutris.runners.web.web.system_options_override" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.web.web.get_env" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.runners.web.web.get_env" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return environment variables used for a game.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/web.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">env</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="p">)</span>

    <span class="n">enable_flash_player</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;enable_flash&quot;</span><span class="p">)</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;ENABLE_FLASH_PLAYER&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="n">enable_flash_player</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>

    <span class="k">return</span> <span class="n">env</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.web.web.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.web.web.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/web.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span>
            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The web address is empty, </span><span class="se">\n</span><span class="s2">&quot;</span>
                      <span class="s2">&quot;verify the game&#39;s configuration.&quot;</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="c1"># check if it&#39;s an url or a file</span>
    <span class="n">is_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">scheme</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_url</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;CUSTOM&quot;</span><span class="p">,</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The file </span><span class="si">%s</span><span class="s2"> does not exist, </span><span class="se">\n</span><span class="s2">&quot;</span>
                          <span class="s2">&quot;verify the game&#39;s configuration.&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="n">url</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;file://&quot;</span> <span class="o">+</span> <span class="n">url</span>

    <span class="n">game_data</span> <span class="o">=</span> <span class="n">get_game_by_field</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">game_config_id</span><span class="p">,</span> <span class="s2">&quot;configpath&quot;</span><span class="p">)</span>

    <span class="c1"># keep the old behavior from browser runner, but with support for extra arguments!</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;external_browser&quot;</span><span class="p">):</span>
        <span class="c1"># is it possible to disable lutris runtime here?</span>
        <span class="n">browser</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom_browser_executable&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;xdg-open&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom_browser_args&quot;</span><span class="p">)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="ow">or</span> <span class="s1">&#39;&quot;$GAME&quot;&#39;</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">.</span><span class="n">safe_substitute</span><span class="p">({</span><span class="s2">&quot;GAME&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="s2">&quot;URL&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">})</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">browser</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">arguments</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>

    <span class="n">icon</span> <span class="o">=</span> <span class="n">resources</span><span class="o">.</span><span class="n">get_icon_path</span><span class="p">(</span><span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;slug&quot;</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">icon</span><span class="p">):</span>
        <span class="n">icon</span> <span class="o">=</span> <span class="n">DEFAULT_ICON</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNNER_DIR</span><span class="p">,</span> <span class="s2">&quot;web/electron/resources/app.asar&quot;</span><span class="p">),</span>
        <span class="n">url</span><span class="p">,</span>
        <span class="s2">&quot;--name&quot;</span><span class="p">,</span>
        <span class="n">game_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
        <span class="s2">&quot;--icon&quot;</span><span class="p">,</span>
        <span class="n">icon</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="s2">&quot;fullscreen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;frameless&quot;</span><span class="p">,</span>
        <span class="s2">&quot;devtools&quot;</span><span class="p">,</span>
        <span class="s2">&quot;disable_resizing&quot;</span><span class="p">,</span>
        <span class="s2">&quot;disable_menu_bar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;maximize_window&quot;</span><span class="p">,</span>
        <span class="s2">&quot;disable_scrolling&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hide_cursor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;open_links&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remove_margin&quot;</span><span class="p">,</span>
    <span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="n">converted_opt_name</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--</span><span class="si">{option}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">option</span><span class="o">=</span><span class="n">converted_opt_name</span><span class="p">))</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;window_size&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--window-size&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;window_size&quot;</span><span class="p">))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user_agent&quot;</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--user-agent&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user_agent&quot;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">is_flatpak</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--no-sandbox&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="kc">False</span><span class="p">)}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.wine" class="doc doc-heading">
        <code>wine</code>



<a href="#lutris.runners.wine" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Wine runner</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.wine.DEFAULT_WINE_PREFIX" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT_WINE_PREFIX</span></code>


<a href="#lutris.runners.wine.DEFAULT_WINE_PREFIX" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.runners.wine.MIN_SAFE_VERSION" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MIN_SAFE_VERSION</span></code>


<a href="#lutris.runners.wine.MIN_SAFE_VERSION" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.wine.wine" class="doc doc-heading">
        <code>
wine            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.wine.wine" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">wine</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Runs Windows games&quot;</span><span class="p">)</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Windows&quot;</span><span class="p">)]</span>
    <span class="n">multiple_versions</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">entry_point_option</span> <span class="o">=</span> <span class="s2">&quot;exe&quot;</span>

    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;exe&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Executable&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game&#39;s main EXE file&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Windows command line arguments used when launching the game&quot;</span><span class="p">),</span>
            <span class="s2">&quot;validator&quot;</span><span class="p">:</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;working_dir&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Working directory&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The location where the game is run from.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;By default, Lutris uses the directory of the &quot;</span>
                <span class="s2">&quot;executable.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;prefix&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine prefix&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s1">&#39;The prefix used by Wine.</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s2">&quot;It&#39;s a directory containing a set of files and &quot;</span>
                <span class="s2">&quot;folders making up a confined Windows environment.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Prefix architecture&quot;</span><span class="p">),</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Auto&quot;</span><span class="p">),</span> <span class="s2">&quot;auto&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;32-bit&quot;</span><span class="p">),</span> <span class="s2">&quot;win32&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;64-bit&quot;</span><span class="p">),</span> <span class="s2">&quot;win64&quot;</span><span class="p">)],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The architecture of the Windows environment&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">reg_prefix</span> <span class="o">=</span> <span class="s2">&quot;HKEY_CURRENT_USER/Software/Wine&quot;</span>
    <span class="n">reg_keys</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Audio&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">/Drivers&quot;</span> <span class="o">%</span> <span class="n">reg_prefix</span><span class="p">,</span>
        <span class="s2">&quot;MouseWarpOverride&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">/DirectInput&quot;</span> <span class="o">%</span> <span class="n">reg_prefix</span><span class="p">,</span>
        <span class="s2">&quot;Desktop&quot;</span><span class="p">:</span> <span class="s2">&quot;MANAGED&quot;</span><span class="p">,</span>
        <span class="s2">&quot;WineDesktop&quot;</span><span class="p">:</span> <span class="s2">&quot;MANAGED&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ShowCrashDialog&quot;</span><span class="p">:</span> <span class="s2">&quot;MANAGED&quot;</span>
    <span class="p">}</span>

    <span class="n">core_processes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;services.exe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;winedevice.exe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plugplay.exe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;explorer.exe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rpcss.exe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rundll32.exe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wineboot.exe&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="c1"># noqa: C901</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dll_overrides</span> <span class="o">=</span> <span class="n">DEFAULT_DLL_OVERRIDES</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># we&#39;ll modify this, so we better copy it</span>

        <span class="k">def</span> <span class="nf">get_wine_version_choices</span><span class="p">():</span>
            <span class="n">version_choices</span> <span class="o">=</span> <span class="p">[(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom (select executable below)&quot;</span><span class="p">),</span> <span class="s2">&quot;custom&quot;</span><span class="p">)]</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;winehq-devel&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;WineHQ Devel (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="p">),</span>
                <span class="s2">&quot;winehq-staging&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;WineHQ Staging (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="p">),</span>
                <span class="s2">&quot;wine-development&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine Development (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="p">),</span>
                <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;System (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="p">),</span>
            <span class="p">}</span>
            <span class="n">versions</span> <span class="o">=</span> <span class="n">get_wine_versions</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">versions</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">:</span>
                    <span class="n">version_number</span> <span class="o">=</span> <span class="n">get_wine_version</span><span class="p">(</span><span class="n">WINE_PATHS</span><span class="p">[</span><span class="n">version</span><span class="p">])</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">labels</span><span class="p">[</span><span class="n">version</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version_number</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">version</span>
                <span class="n">version_choices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">label</span><span class="p">,</span> <span class="n">version</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">version_choices</span>

        <span class="k">def</span> <span class="nf">esync_limit_callback</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
            <span class="n">limits_set</span> <span class="o">=</span> <span class="n">is_esync_limit_set</span><span class="p">()</span>
            <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_path_for_version</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">])</span>
            <span class="n">wine_ver</span> <span class="o">=</span> <span class="n">is_version_esync</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">esync_display_version_warning</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">limits_set</span><span class="p">:</span>
                <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">esync_display_limit_warning</span><span class="p">)</span>
                <span class="n">response</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">response</span>

        <span class="k">def</span> <span class="nf">fsync_support_callback</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
            <span class="n">fsync_supported</span> <span class="o">=</span> <span class="n">is_fsync_supported</span><span class="p">()</span>
            <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_path_for_version</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">])</span>
            <span class="n">wine_ver</span> <span class="o">=</span> <span class="n">is_version_fsync</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">fsync_display_version_warning</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">fsync_supported</span><span class="p">:</span>
                <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">fsync_display_support_warning</span><span class="p">)</span>
                <span class="n">response</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">response</span>

        <span class="k">def</span> <span class="nf">dxvk_vulkan_callback</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
            <span class="n">response</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_vulkan_supported</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">display_vulkan_error</span><span class="p">):</span>
                    <span class="n">response</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">response</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;version&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine version&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">get_wine_version_choices</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">get_default_version</span><span class="p">(),</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;The version of Wine used to launch the game.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;Using the last version is generally recommended, &quot;</span>
                    <span class="s2">&quot;but some games work better on older versions.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;custom_wine_path&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom Wine executable&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The Wine executable to be used if you have &quot;</span>
                          <span class="s1">&#39;selected &quot;Custom&quot; as the Wine version.&#39;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;system_winetricks&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use system winetricks&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Switch on to use /usr/bin/winetricks for winetricks.&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dxvk&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable DXVK&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extended_bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">dxvk_vulkan_callback</span><span class="p">,</span>
                <span class="s2">&quot;callback_on&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Use DXVK to &quot;</span>
                    <span class="s2">&quot;increase compatibility and performance in Direct3D 11, 10 &quot;</span>
                    <span class="s2">&quot;and 9 applications by translating their calls to Vulkan.&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dxvk_version&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DXVK version&quot;</span><span class="p">),</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">DXVKManager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">DXVKManager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">},</span>

            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;vkd3d&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable VKD3D&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extended_bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">dxvk_vulkan_callback</span><span class="p">,</span>
                <span class="s2">&quot;callback_on&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Use VKD3D to enable support for Direct3D 12 &quot;</span>
                    <span class="s2">&quot;applications by translating their calls to Vulkan.&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;vkd3d_version&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;VKD3D version&quot;</span><span class="p">),</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">VKD3DManager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">VKD3DManager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;d3d_extras&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable D3D Extras&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Replace Wine&#39;s D3DX and D3DCOMPILER libraries with alternative ones. &quot;</span>
                    <span class="s2">&quot;Needed for proper functionality of DXVK with some games.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;d3d_extras_version&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;D3D Extras version&quot;</span><span class="p">),</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">D3DExtrasManager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">D3DExtrasManager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dxvk_nvapi&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable DXVK-NVAPI / DLSS&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Enable emulation of Nvidia&#39;s NVAPI and add DLSS support, if available.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dxvk_nvapi_version&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DXVK NVAPI version&quot;</span><span class="p">),</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">DXVKNVAPIManager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">DXVKNVAPIManager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dgvoodoo2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable dgvoodoo2&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;dgvoodoo2 is an alternative translation layer for rendering old games &quot;</span>
                    <span class="s2">&quot;that utilize D3D1-7 and Glide APIs. As it translates to D3D11, it&#39;s &quot;</span>
                    <span class="s2">&quot;recommended to use it in combination with DXVK. Only 32-bit apps are supported.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dgvoodoo2_version&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;dgvoodoo2 version&quot;</span><span class="p">),</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">dgvoodoo2Manager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">dgvoodoo2Manager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;esync&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable Esync&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extended_bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">esync_limit_callback</span><span class="p">,</span>
                <span class="s2">&quot;callback_on&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Enable eventfd-based synchronization (esync). &quot;</span>
                    <span class="s2">&quot;This will increase performance in applications &quot;</span>
                    <span class="s2">&quot;that take advantage of multi-core processors.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fsync&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable Fsync&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extended_bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">fsync_support_callback</span><span class="p">,</span>
                <span class="s2">&quot;callback_on&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Enable futex-based synchronization (fsync). &quot;</span>
                    <span class="s2">&quot;This will increase performance in applications &quot;</span>
                    <span class="s2">&quot;that take advantage of multi-core processors. &quot;</span>
                    <span class="s2">&quot;Requires a custom kernel with the fsync patchset.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fsr&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable AMD FidelityFX Super Resolution (FSR)&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Use FSR to upscale the game window to native resolution.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;Requires Lutris Wine FShack &gt;= 6.13 and setting the game to a lower resolution.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;Does not work with games running in borderless window mode or that perform their own upscaling.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;battleye&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable BattlEye Anti-Cheat&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Enable support for BattlEye Anti-Cheat in supported games</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;Requires Lutris Wine 6.21-2 and newer or any other compatible Wine build.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;Desktop&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Windowed (virtual desktop)&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Run the whole Windows desktop in a window.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;Otherwise, run it fullscreen.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;This corresponds to Wine&#39;s Virtual Desktop option.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;WineDesktop&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Virtual desktop resolution&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_resolutions</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The size of the virtual desktop in pixels.&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;Dpi&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable DPI Scaling&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Enables the Windows application&#39;s DPI scaling.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;Otherwise, disables DPI scaling by using 96 DPI.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;This corresponds to Wine&#39;s Screen Resolution option.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;ExplicitDpi&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DPI&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;The DPI to be used if &#39;Enable DPI Scaling&#39; is turned on.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;If blank or &#39;auto&#39;, Lutris will auto-detect this.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;MouseWarpOverride&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Mouse Warp Override&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable&quot;</span><span class="p">),</span> <span class="s2">&quot;enable&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable&quot;</span><span class="p">),</span> <span class="s2">&quot;disable&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Force&quot;</span><span class="p">),</span> <span class="s2">&quot;force&quot;</span><span class="p">),</span>
                <span class="p">],</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;enable&quot;</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Override the default mouse pointer warping behavior</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;&lt;b&gt;Enable&lt;/b&gt;: (Wine default) warp the pointer when the &quot;</span>
                    <span class="s2">&quot;mouse is exclusively acquired </span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;&lt;b&gt;Disable&lt;/b&gt;: never warp the mouse pointer </span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;&lt;b&gt;Force&lt;/b&gt;: always warp the pointer&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;Audio&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Audio driver&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Auto&quot;</span><span class="p">),</span> <span class="s2">&quot;auto&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="s2">&quot;ALSA&quot;</span><span class="p">,</span> <span class="s2">&quot;alsa&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="s2">&quot;PulseAudio&quot;</span><span class="p">,</span> <span class="s2">&quot;pulse&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="s2">&quot;OSS&quot;</span><span class="p">,</span> <span class="s2">&quot;oss&quot;</span><span class="p">),</span>
                <span class="p">],</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Which audio backend to use.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;By default, Wine automatically picks the right one &quot;</span>
                    <span class="s2">&quot;for your system.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;overrides&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;mapping&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DLL overrides&quot;</span><span class="p">),</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets WINEDLLOVERRIDES when launching the game.&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;show_debug&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output debugging info&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disabled&quot;</span><span class="p">),</span> <span class="s2">&quot;-all&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enabled&quot;</span><span class="p">),</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Inherit from environment&quot;</span><span class="p">),</span> <span class="s2">&quot;inherit&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Show FPS&quot;</span><span class="p">),</span> <span class="s2">&quot;+fps&quot;</span><span class="p">),</span>
                    <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Full (CAUTION: Will cause MASSIVE slowdown)&quot;</span><span class="p">),</span> <span class="s2">&quot;+all&quot;</span><span class="p">),</span>
                <span class="p">],</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-all&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output debugging information in the game log &quot;</span>
                          <span class="s2">&quot;(might affect performance)&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;ShowCrashDialog&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Show crash dialogs&quot;</span><span class="p">),</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;autoconf_joypad&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Autoconfigure joypads&quot;</span><span class="p">),</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span>
                <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Automatically disables one of Wine&#39;s detected joypad &quot;</span>
                  <span class="s2">&quot;to avoid having 2 controllers detected&quot;</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;sandbox&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Create a sandbox for Wine folders&quot;</span><span class="p">),</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;Do not use $HOME for desktop integration folders.</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;By default, it use the directories in the confined &quot;</span>
                    <span class="s2">&quot;Windows environment.&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;sandbox_dir&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sandbox directory&quot;</span><span class="p">),</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom directory for desktop integration folders.&quot;</span><span class="p">),</span>
                <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">context_menu_entries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the contexual menu entries for wine&quot;&quot;&quot;</span>
        <span class="n">menu_entries</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;wineexec&quot;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Run EXE inside Wine prefix&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_wineexec</span><span class="p">)]</span>
        <span class="k">if</span> <span class="s2">&quot;Proton&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">():</span>
            <span class="n">menu_entries</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot;winecfg&quot;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine configuration&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_winecfg</span><span class="p">))</span>
        <span class="n">menu_entries</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;wineshell&quot;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Open Bash terminal&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_wine_terminal</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;wineconsole&quot;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Open Wine console&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_wineconsole</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;wine-regedit&quot;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine registry&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_regedit</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;winetricks&quot;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Winetricks&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_winetricks</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;winecpl&quot;</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine Control Panel&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_winecpl</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">menu_entries</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prefix_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the absolute path of the Wine prefix&quot;&quot;&quot;</span>
        <span class="n">_prefix_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prefix&quot;</span><span class="p">)</span> \
            <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WINEPREFIX&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_prefix_path</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;exe&quot;</span><span class="p">):</span>
            <span class="c1"># Find prefix from game if we have one</span>
            <span class="n">_prefix_path</span> <span class="o">=</span> <span class="n">find_prefix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_prefix_path</span><span class="p">:</span>
            <span class="n">_prefix_path</span> <span class="o">=</span> <span class="n">DEFAULT_WINE_PREFIX</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">_prefix_path</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">game_exe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the game&#39;s executable&#39;s path, which may not exist. None</span>
<span class="sd">        if there is no exe path defined.&quot;&quot;&quot;</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;exe&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">exe</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;The game doesn&#39;t have an executable&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">exe</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;The game has an executable, but not a game path&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">,</span> <span class="n">exe</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">working_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the working directory to use when running the game.&quot;&quot;&quot;</span>
        <span class="n">option</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;working_dir&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">option</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">:</span>
            <span class="n">game_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">game_dir</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">game_dir</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">working_dir</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nvidia_shader_cache_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;WINE should give each game its own shader cache if possible.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_path</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">shader_cache_dir</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">wine_arch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the wine architecture.</span>

<span class="sd">        Get it from the config or detect it from the prefix&quot;&quot;&quot;</span>
        <span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;arch&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span>
        <span class="k">if</span> <span class="n">arch</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;win64&quot;</span><span class="p">):</span>
            <span class="n">arch</span> <span class="o">=</span> <span class="n">detect_arch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">arch</span>

    <span class="k">def</span> <span class="nf">get_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_default</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Wine version to use. use_default can be set to false to</span>
<span class="sd">        force the installation of a specific wine version&quot;&quot;&quot;</span>
        <span class="n">runner_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">runner_version</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">runner_version</span>
        <span class="k">if</span> <span class="n">use_default</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">get_default_version</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_path_for_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the absolute path of a wine executable for a given version&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">WINE_PATHS</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="n">WINE_PATHS</span><span class="p">[</span><span class="n">version</span><span class="p">])</span>
        <span class="k">if</span> <span class="s2">&quot;Proton&quot;</span> <span class="ow">in</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">proton_path</span> <span class="ow">in</span> <span class="n">get_proton_paths</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">proton_path</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;dist/bin/wine&quot;</span><span class="p">)):</span>
                    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">proton_path</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;dist/bin/wine&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">version</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;PlayOnLinux&quot;</span><span class="p">):</span>
            <span class="n">version</span><span class="p">,</span> <span class="n">arch</span> <span class="o">=</span> <span class="n">version</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">POL_PATH</span><span class="p">,</span> <span class="s2">&quot;wine&quot;</span><span class="p">,</span> <span class="s2">&quot;linux-&quot;</span> <span class="o">+</span> <span class="n">arch</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;bin/wine&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">version</span> <span class="o">==</span> <span class="s2">&quot;custom&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom_wine_path&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;bin/wine&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the path to the Wine executable.</span>
<span class="sd">        A specific version can be specified if needed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_path_for_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">wine_path</span>

        <span class="k">if</span> <span class="n">fallback</span><span class="p">:</span>
            <span class="c1"># Fallback to default version</span>
            <span class="n">default_version</span> <span class="o">=</span> <span class="n">get_default_version</span><span class="p">()</span>
            <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_path_for_version</span><span class="p">(</span><span class="n">default_version</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">wine_path</span><span class="p">:</span>
                <span class="c1"># Update the version in the config</span>
                <span class="k">if</span> <span class="n">version</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">default_version</span>
                    <span class="c1"># TODO: runner_config is a dict so we have to instanciate a</span>
                    <span class="c1"># LutrisConfig object to save it.</span>
                    <span class="c1"># XXX: The version key could be either in the game specific</span>
                    <span class="c1"># config or the runner specific config. We need to know</span>
                    <span class="c1"># which one to get the correct LutrisConfig object.</span>
            <span class="k">return</span> <span class="n">wine_path</span>

    <span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if Wine is installed.</span>
<span class="sd">        If no version is passed, checks if any version of wine is available</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">fallback</span><span class="p">))</span>

        <span class="n">wine_versions</span> <span class="o">=</span> <span class="n">get_wine_versions</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">min_version</span><span class="p">:</span>
            <span class="n">min_version_list</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">min_version</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">wine_version</span> <span class="ow">in</span> <span class="n">wine_versions</span><span class="p">:</span>
                <span class="n">version_list</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">wine_version</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">version_list</span> <span class="o">&gt;</span> <span class="n">min_version_list</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Wine </span><span class="si">%s</span><span class="s2"> or higher not found&quot;</span><span class="p">,</span> <span class="n">min_version</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">wine_versions</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">msi_exec</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">msi_file</span><span class="p">,</span>
        <span class="n">quiet</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">blocking</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">msi_args</span> <span class="o">=</span> <span class="s2">&quot;/i </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">msi_file</span>
        <span class="k">if</span> <span class="n">quiet</span><span class="p">:</span>
            <span class="n">msi_args</span> <span class="o">+=</span> <span class="s2">&quot; /q&quot;</span>
        <span class="k">return</span> <span class="n">wineexec</span><span class="p">(</span>
            <span class="s2">&quot;msiexec&quot;</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="n">msi_args</span><span class="p">,</span>
            <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
            <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_path</span><span class="p">,</span>
            <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
            <span class="n">blocking</span><span class="o">=</span><span class="n">blocking</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_run_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">executable</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Runs a Windows executable using this game&#39;s configuration&quot;&quot;&quot;</span>
        <span class="n">wineexec</span><span class="p">(</span>
            <span class="n">executable</span><span class="p">,</span>
            <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
            <span class="n">prefix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
            <span class="n">working_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_wineexec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Ask the user for an arbitrary exe file to run in the game&#39;s prefix&quot;&quot;&quot;</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">FileDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Select an EXE or MSI file&quot;</span><span class="p">),</span> <span class="n">default_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">)</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">filename</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_run_executable</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_wineconsole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Runs wineconsole inside wine prefix.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_run_executable</span><span class="p">(</span><span class="s2">&quot;wineconsole&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_winecfg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run winecfg in the current context&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
        <span class="n">winecfg</span><span class="p">(</span>
            <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
            <span class="n">prefix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
            <span class="n">arch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_regedit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run regedit in the current context&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_run_executable</span><span class="p">(</span><span class="s2">&quot;regedit&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_wine_terminal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">terminal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;terminal_app&quot;</span><span class="p">)</span>
        <span class="n">open_wine_terminal</span><span class="p">(</span>
            <span class="n">terminal</span><span class="o">=</span><span class="n">terminal</span><span class="p">,</span>
            <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
            <span class="n">prefix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
            <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_winetricks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run winetricks in the current context&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
        <span class="n">winetricks</span><span class="p">(</span>
            <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_winecpl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Execute Wine control panel.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_run_executable</span><span class="p">(</span><span class="s2">&quot;control&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_winekill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Runs wineserver -k.&quot;&quot;&quot;</span>
        <span class="n">winekill</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
            <span class="n">arch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span><span class="p">,</span>
            <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
            <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
            <span class="n">initial_pids</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_pids</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">set_regedit_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Reset regedit keys according to config.&quot;&quot;&quot;</span>
        <span class="n">prefix_manager</span> <span class="o">=</span> <span class="n">WinePrefixManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">)</span>
        <span class="c1"># Those options are directly changed with the prefix manager and skip</span>
        <span class="c1"># any calls to regedit.</span>
        <span class="n">managed_keys</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ShowCrashDialog&quot;</span><span class="p">:</span> <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_crash_dialogs</span><span class="p">,</span>
            <span class="s2">&quot;Desktop&quot;</span><span class="p">:</span> <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_virtual_desktop</span><span class="p">,</span>
            <span class="s2">&quot;WineDesktop&quot;</span><span class="p">:</span> <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_desktop_size</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">reg_keys</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">managed_keys</span><span class="p">:</span>
                <span class="n">prefix_manager</span><span class="o">.</span><span class="n">clear_registry_subkeys</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">managed_keys</span><span class="p">:</span>
                    <span class="c1"># Do not pass fallback &#39;auto&#39; value to managed keys</span>
                    <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">managed_keys</span><span class="p">[</span><span class="n">key</span><span class="p">](</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">continue</span>
                <span class="c1"># Convert numeric strings to integers so they are saved as dword</span>
                <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

                <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="c1"># We always configure the DPI, because if the user turns off DPI scaling, but it</span>
        <span class="c1"># had been on the only way to implement that is to save 96 DPI into the registry.</span>
        <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_dpi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_dpi</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">get_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the DPI to be used by Wine; returns 96 to disable scaling,</span>
<span class="sd">        as this is Window&#39;s unscaled default DPI.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Dpi&quot;</span><span class="p">)):</span>
            <span class="n">explicit_dpi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ExplicitDpi&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">explicit_dpi</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
                <span class="n">explicit_dpi</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">explicit_dpi</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">explicit_dpi</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">explicit_dpi</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="n">explicit_dpi</span> <span class="ow">or</span> <span class="n">get_default_dpi</span><span class="p">()</span>

        <span class="k">return</span> <span class="mi">96</span>

    <span class="k">def</span> <span class="nf">setup_dlls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager_class</span><span class="p">,</span> <span class="n">enable</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable or disable DLLs&quot;&quot;&quot;</span>
        <span class="n">dll_manager</span> <span class="o">=</span> <span class="n">manager_class</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
            <span class="n">arch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># manual version only sets the dlls to native</span>
        <span class="k">if</span> <span class="n">dll_manager</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;manual&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">enable</span><span class="p">:</span>
                <span class="n">dll_manager</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dll_manager</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">enable</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">dll</span> <span class="ow">in</span> <span class="n">dll_manager</span><span class="o">.</span><span class="n">managed_dlls</span><span class="p">:</span>
                <span class="c1"># We have to make sure that the dll exists before setting it to native</span>
                <span class="k">if</span> <span class="n">dll_manager</span><span class="o">.</span><span class="n">dll_exists</span><span class="p">(</span><span class="n">dll</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">dll_overrides</span><span class="p">[</span><span class="n">dll</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;n&quot;</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;user.reg&quot;</span><span class="p">)):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No valid prefix detected in </span><span class="si">%s</span><span class="s2">, creating one...&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">)</span>
            <span class="n">create_prefix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="n">arch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span><span class="p">)</span>

        <span class="n">prefix_manager</span> <span class="o">=</span> <span class="n">WinePrefixManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;autoconf_joypad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="n">prefix_manager</span><span class="o">.</span><span class="n">configure_joypads</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sandbox</span><span class="p">(</span><span class="n">prefix_manager</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_regedit_keys</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
            <span class="n">DXVKManager</span><span class="p">,</span>
            <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk&quot;</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk_version&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
            <span class="n">VKD3DManager</span><span class="p">,</span>
            <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vkd3d&quot;</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vkd3d_version&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
            <span class="n">DXVKNVAPIManager</span><span class="p">,</span>
            <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk_nvapi&quot;</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk_nvapi_version&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
            <span class="n">D3DExtrasManager</span><span class="p">,</span>
            <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;d3d_extras&quot;</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;d3d_extras_version&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
            <span class="n">dgvoodoo2Manager</span><span class="p">,</span>
            <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dgvoodoo2&quot;</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dgvoodoo2_version&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get_dll_overrides</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the DLLs overriden at runtime&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">overrides</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;overrides&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">overrides</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">overrides</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;DLL overrides is not a mapping: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">overrides</span><span class="p">)</span>
            <span class="n">overrides</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">overrides</span>

    <span class="k">def</span> <span class="nf">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return environment variables used by the game&quot;&quot;&quot;</span>
        <span class="c1"># Always false to runner.get_env, the default value</span>
        <span class="c1"># of os_env is inverted in the wine class,</span>
        <span class="c1"># the OS env is read later.</span>
        <span class="n">env</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os_env</span><span class="p">:</span>
            <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
        <span class="n">show_debug</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_debug&quot;</span><span class="p">,</span> <span class="s2">&quot;-all&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_debug</span> <span class="o">!=</span> <span class="s2">&quot;inherit&quot;</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEDEBUG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">show_debug</span>
        <span class="k">if</span> <span class="n">show_debug</span> <span class="o">==</span> <span class="s2">&quot;-all&quot;</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;DXVK_LOG_LEVEL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEARCH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINE_MONO_CACHE_DIR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(),</span> <span class="s2">&quot;mono&quot;</span><span class="p">)</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINE_GECKO_CACHE_DIR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(),</span> <span class="s2">&quot;gecko&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_gstreamer_build</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()):</span>
            <span class="n">path_64</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(),</span> <span class="s2">&quot;lib64/gstreamer-1.0/&quot;</span><span class="p">)</span>
            <span class="n">path_32</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(),</span> <span class="s2">&quot;lib/gstreamer-1.0/&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_64</span><span class="p">)</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_32</span><span class="p">):</span>
                <span class="n">env</span><span class="p">[</span><span class="s2">&quot;GST_PLUGIN_SYSTEM_PATH_1_0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path_64</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="n">path_32</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">:</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEPREFIX&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="s2">&quot;WINEESYNC&quot;</span> <span class="ow">in</span> <span class="n">env</span> <span class="ow">and</span> <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEESYNC&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEESYNC&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;esync&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="s2">&quot;WINEFSYNC&quot;</span> <span class="ow">in</span> <span class="n">env</span> <span class="ow">and</span> <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEFSYNC&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEFSYNC&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fsync&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fsr&quot;</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINE_FULLSCREEN_FSR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk_nvapi&quot;</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;DXVK_NVAPIHACK&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;battleye&quot;</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;PROTON_BATTLEYE_RUNTIME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;battleye_runtime&quot;</span><span class="p">)</span>

        <span class="n">overrides</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dll_overrides</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">overrides</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dll_overrides</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">overrides</span><span class="p">)</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEDLLOVERRIDES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_overrides_env</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dll_overrides</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">env</span>

    <span class="k">def</span> <span class="nf">get_runtime_env</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return runtime environment variables with path to wine for Lutris builds&quot;&quot;&quot;</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
        <span class="n">wine_root</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">WINE_DIR</span><span class="p">:</span>
            <span class="n">wine_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">proton_path</span> <span class="ow">in</span> <span class="n">get_proton_paths</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">proton_path</span> <span class="ow">in</span> <span class="n">wine_path</span><span class="p">:</span>
                <span class="n">wine_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span>
            <span class="n">version</span><span class="o">=</span><span class="s2">&quot;Ubuntu-18.04&quot;</span><span class="p">,</span>
            <span class="n">prefer_system_libs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prefer_system_libs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
            <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_root</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_pids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of pids of processes using the current wine exe.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">wine_path</span><span class="p">:</span>
            <span class="n">exe</span> <span class="o">=</span> <span class="n">wine_path</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">exe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">exe</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">exe</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span>
        <span class="n">pids</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_pids_using_file</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span> <span class="o">==</span> <span class="s2">&quot;win64&quot;</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;wine&quot;</span><span class="p">:</span>
            <span class="n">pids</span> <span class="o">=</span> <span class="n">pids</span> <span class="o">|</span> <span class="n">system</span><span class="o">.</span><span class="n">get_pids_using_file</span><span class="p">(</span><span class="n">exe</span> <span class="o">+</span> <span class="s2">&quot;64&quot;</span><span class="p">)</span>

        <span class="c1"># Add wineserver PIDs to the mix (at least one occurence of fuser not</span>
        <span class="c1"># picking the games&#39;s PID from wine/wine64 but from wineserver for some</span>
        <span class="c1"># unknown reason.</span>
        <span class="n">pids</span> <span class="o">=</span> <span class="n">pids</span> <span class="o">|</span> <span class="n">system</span><span class="o">.</span><span class="n">get_pids_using_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">exe</span><span class="p">),</span> <span class="s2">&quot;wineserver&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">pids</span>

    <span class="k">def</span> <span class="nf">sandbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wine_prefix</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sandbox&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
            <span class="n">wine_prefix</span><span class="o">.</span><span class="n">desktop_integration</span><span class="p">(</span><span class="n">desktop_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sandbox_dir&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">wine_prefix</span><span class="o">.</span><span class="n">desktop_integration</span><span class="p">(</span><span class="n">restore</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-return-statements # noqa: C901</span>
        <span class="n">game_exe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">launch_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)}</span>
        <span class="n">using_dxvk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">using_dxvk</span><span class="p">:</span>
            <span class="c1"># Set this to 1 to enable access to more RAM for 32bit applications</span>
            <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">][</span><span class="s2">&quot;WINE_LARGE_ADDRESS_AWARE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_vulkan_supported</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">display_vulkan_error</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
                    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;VULKAN_NOT_FOUND&quot;</span><span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">game_exe</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">game_exe</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">game_exe</span><span class="p">}</span>

        <span class="k">if</span> <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WINEESYNC&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="n">limit_set</span> <span class="o">=</span> <span class="n">is_esync_limit_set</span><span class="p">()</span>
            <span class="n">wine_ver</span> <span class="o">=</span> <span class="n">is_version_esync</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">limit_set</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
                <span class="n">esync_display_version_warning</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">esync_display_limit_warning</span><span class="p">()</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;ESYNC_LIMIT_NOT_SET&quot;</span><span class="p">}</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_esync_limit_set</span><span class="p">():</span>
                <span class="n">esync_display_limit_warning</span><span class="p">()</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;ESYNC_LIMIT_NOT_SET&quot;</span><span class="p">}</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">esync_display_version_warning</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
                    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NON_ESYNC_WINE_VERSION&quot;</span><span class="p">}</span>

        <span class="k">if</span> <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WINEFSYNC&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="n">fsync_supported</span> <span class="o">=</span> <span class="n">is_fsync_supported</span><span class="p">()</span>
            <span class="n">wine_ver</span> <span class="o">=</span> <span class="n">is_version_fsync</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">fsync_supported</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
                <span class="n">fsync_display_version_warning</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">fsync_display_support_warning</span><span class="p">()</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FSYNC_NOT_SUPPORTED&quot;</span><span class="p">}</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">fsync_supported</span><span class="p">:</span>
                <span class="n">fsync_display_support_warning</span><span class="p">()</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FSYNC_NOT_SUPPORTED&quot;</span><span class="p">}</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">fsync_display_version_warning</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
                    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NON_FSYNC_WINE_VERSION&quot;</span><span class="p">}</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="n">game_exe</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">_working_dir</span> <span class="o">=</span> <span class="n">get_real_executable</span><span class="p">(</span><span class="n">game_exe</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">working_dir</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_exe</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">command</span> <span class="o">+</span> <span class="n">args</span>

        <span class="k">if</span> <span class="n">arguments</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">arguments</span><span class="p">):</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
        <span class="k">return</span> <span class="n">launch_info</span>

    <span class="k">def</span> <span class="nf">force_stop_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Kill WINE with kindness, or at least with -k. This seems to leave a process</span>
<span class="sd">        alive for some reason, but the caller will detect this and SIGKILL it.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_winekill</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">parse_wine_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">prefix_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Take a Windows path, return the corresponding Linux path.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">prefix_path</span><span class="p">:</span>
            <span class="n">prefix_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.wine&quot;</span><span class="p">)</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;:&quot;</span><span class="p">:</span>  <span class="c1"># absolute path</span>
            <span class="n">drive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;dosdevices&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">drive</span><span class="p">):</span>  <span class="c1"># Try to resolve the path</span>
                <span class="n">drive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">readlink</span><span class="p">(</span><span class="n">drive</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">drive</span><span class="p">,</span> <span class="n">path</span><span class="p">[</span><span class="mi">3</span><span class="p">:])</span>

        <span class="k">if</span> <span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;/&quot;</span><span class="p">:</span>  <span class="c1"># drive-relative path. C is as good a guess as any..</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;drive_c&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

        <span class="c1"># Relative path</span>
        <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.context_menu_entries" class="doc doc-heading">
<code class="highlight language-python"><span class="n">context_menu_entries</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.wine.wine.context_menu_entries" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the contexual menu entries for wine</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.core_processes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">core_processes</span></code>


<a href="#lutris.runners.wine.wine.core_processes" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.wine.wine.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.entry_point_option" class="doc doc-heading">
<code class="highlight language-python"><span class="n">entry_point_option</span></code>


<a href="#lutris.runners.wine.wine.entry_point_option" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.game_exe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_exe</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.wine.wine.game_exe" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the game's executable's path, which may not exist. None
if there is no exe path defined.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.wine.wine.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.wine.wine.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.multiple_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">multiple_versions</span></code>


<a href="#lutris.runners.wine.wine.multiple_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.nvidia_shader_cache_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">nvidia_shader_cache_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.wine.wine.nvidia_shader_cache_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>WINE should give each game its own shader cache if possible.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.wine.wine.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.prefix_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prefix_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.wine.wine.prefix_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the absolute path of the Wine prefix</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.reg_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reg_keys</span></code>


<a href="#lutris.runners.wine.wine.reg_keys" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.reg_prefix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reg_prefix</span></code>


<a href="#lutris.runners.wine.wine.reg_prefix" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.wine_arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wine_arch</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.wine.wine.wine_arch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the wine architecture.</p>
<p>Get it from the config or detect it from the prefix</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.wine.wine.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.wine.wine.working_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the working directory to use when running the game.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.runners.wine.wine.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="c1"># noqa: C901</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dll_overrides</span> <span class="o">=</span> <span class="n">DEFAULT_DLL_OVERRIDES</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># we&#39;ll modify this, so we better copy it</span>

    <span class="k">def</span> <span class="nf">get_wine_version_choices</span><span class="p">():</span>
        <span class="n">version_choices</span> <span class="o">=</span> <span class="p">[(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom (select executable below)&quot;</span><span class="p">),</span> <span class="s2">&quot;custom&quot;</span><span class="p">)]</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;winehq-devel&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;WineHQ Devel (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;winehq-staging&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;WineHQ Staging (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;wine-development&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine Development (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;System (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="n">versions</span> <span class="o">=</span> <span class="n">get_wine_versions</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">versions</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">:</span>
                <span class="n">version_number</span> <span class="o">=</span> <span class="n">get_wine_version</span><span class="p">(</span><span class="n">WINE_PATHS</span><span class="p">[</span><span class="n">version</span><span class="p">])</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">labels</span><span class="p">[</span><span class="n">version</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version_number</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">version</span>
            <span class="n">version_choices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">label</span><span class="p">,</span> <span class="n">version</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">version_choices</span>

    <span class="k">def</span> <span class="nf">esync_limit_callback</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">limits_set</span> <span class="o">=</span> <span class="n">is_esync_limit_set</span><span class="p">()</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_path_for_version</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">])</span>
        <span class="n">wine_ver</span> <span class="o">=</span> <span class="n">is_version_esync</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">esync_display_version_warning</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">limits_set</span><span class="p">:</span>
            <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">esync_display_limit_warning</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">response</span>

    <span class="k">def</span> <span class="nf">fsync_support_callback</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">fsync_supported</span> <span class="o">=</span> <span class="n">is_fsync_supported</span><span class="p">()</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_path_for_version</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">])</span>
        <span class="n">wine_ver</span> <span class="o">=</span> <span class="n">is_version_fsync</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">fsync_display_version_warning</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">fsync_supported</span><span class="p">:</span>
            <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">fsync_display_support_warning</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">response</span>

    <span class="k">def</span> <span class="nf">dxvk_vulkan_callback</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_vulkan_supported</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">thread_safe_call</span><span class="p">(</span><span class="n">display_vulkan_error</span><span class="p">):</span>
                <span class="n">response</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">widget</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">response</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;version&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Wine version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">get_wine_version_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">get_default_version</span><span class="p">(),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The version of Wine used to launch the game.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Using the last version is generally recommended, &quot;</span>
                <span class="s2">&quot;but some games work better on older versions.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;custom_wine_path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom Wine executable&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The Wine executable to be used if you have &quot;</span>
                      <span class="s1">&#39;selected &quot;Custom&quot; as the Wine version.&#39;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;system_winetricks&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use system winetricks&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Switch on to use /usr/bin/winetricks for winetricks.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dxvk&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable DXVK&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extended_bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">dxvk_vulkan_callback</span><span class="p">,</span>
            <span class="s2">&quot;callback_on&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Use DXVK to &quot;</span>
                <span class="s2">&quot;increase compatibility and performance in Direct3D 11, 10 &quot;</span>
                <span class="s2">&quot;and 9 applications by translating their calls to Vulkan.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dxvk_version&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DXVK version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">DXVKManager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">DXVKManager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">},</span>

        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;vkd3d&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable VKD3D&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extended_bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">dxvk_vulkan_callback</span><span class="p">,</span>
            <span class="s2">&quot;callback_on&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Use VKD3D to enable support for Direct3D 12 &quot;</span>
                <span class="s2">&quot;applications by translating their calls to Vulkan.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;vkd3d_version&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;VKD3D version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">VKD3DManager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">VKD3DManager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;d3d_extras&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable D3D Extras&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Replace Wine&#39;s D3DX and D3DCOMPILER libraries with alternative ones. &quot;</span>
                <span class="s2">&quot;Needed for proper functionality of DXVK with some games.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;d3d_extras_version&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;D3D Extras version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">D3DExtrasManager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">D3DExtrasManager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dxvk_nvapi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable DXVK-NVAPI / DLSS&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Enable emulation of Nvidia&#39;s NVAPI and add DLSS support, if available.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dxvk_nvapi_version&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DXVK NVAPI version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">DXVKNVAPIManager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">DXVKNVAPIManager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dgvoodoo2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable dgvoodoo2&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;dgvoodoo2 is an alternative translation layer for rendering old games &quot;</span>
                <span class="s2">&quot;that utilize D3D1-7 and Glide APIs. As it translates to D3D11, it&#39;s &quot;</span>
                <span class="s2">&quot;recommended to use it in combination with DXVK. Only 32-bit apps are supported.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;dgvoodoo2_version&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;dgvoodoo2 version&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">dgvoodoo2Manager</span><span class="p">()</span><span class="o">.</span><span class="n">version_choices</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">dgvoodoo2Manager</span><span class="p">()</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;esync&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable Esync&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extended_bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">esync_limit_callback</span><span class="p">,</span>
            <span class="s2">&quot;callback_on&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Enable eventfd-based synchronization (esync). &quot;</span>
                <span class="s2">&quot;This will increase performance in applications &quot;</span>
                <span class="s2">&quot;that take advantage of multi-core processors.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fsync&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable Fsync&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extended_bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;callback&quot;</span><span class="p">:</span> <span class="n">fsync_support_callback</span><span class="p">,</span>
            <span class="s2">&quot;callback_on&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Enable futex-based synchronization (fsync). &quot;</span>
                <span class="s2">&quot;This will increase performance in applications &quot;</span>
                <span class="s2">&quot;that take advantage of multi-core processors. &quot;</span>
                <span class="s2">&quot;Requires a custom kernel with the fsync patchset.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;fsr&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable AMD FidelityFX Super Resolution (FSR)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Use FSR to upscale the game window to native resolution.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Requires Lutris Wine FShack &gt;= 6.13 and setting the game to a lower resolution.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Does not work with games running in borderless window mode or that perform their own upscaling.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;battleye&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable BattlEye Anti-Cheat&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Enable support for BattlEye Anti-Cheat in supported games</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Requires Lutris Wine 6.21-2 and newer or any other compatible Wine build.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;Desktop&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Windowed (virtual desktop)&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Run the whole Windows desktop in a window.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Otherwise, run it fullscreen.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;This corresponds to Wine&#39;s Virtual Desktop option.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;WineDesktop&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Virtual desktop resolution&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice_with_entry&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_resolutions</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The size of the virtual desktop in pixels.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;Dpi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable DPI Scaling&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Enables the Windows application&#39;s DPI scaling.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Otherwise, disables DPI scaling by using 96 DPI.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;This corresponds to Wine&#39;s Screen Resolution option.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;ExplicitDpi&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DPI&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;The DPI to be used if &#39;Enable DPI Scaling&#39; is turned on.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;If blank or &#39;auto&#39;, Lutris will auto-detect this.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;MouseWarpOverride&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Mouse Warp Override&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable&quot;</span><span class="p">),</span> <span class="s2">&quot;enable&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable&quot;</span><span class="p">),</span> <span class="s2">&quot;disable&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Force&quot;</span><span class="p">),</span> <span class="s2">&quot;force&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;enable&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Override the default mouse pointer warping behavior</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;&lt;b&gt;Enable&lt;/b&gt;: (Wine default) warp the pointer when the &quot;</span>
                <span class="s2">&quot;mouse is exclusively acquired </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;&lt;b&gt;Disable&lt;/b&gt;: never warp the mouse pointer </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;&lt;b&gt;Force&lt;/b&gt;: always warp the pointer&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;Audio&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Audio driver&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Auto&quot;</span><span class="p">),</span> <span class="s2">&quot;auto&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;ALSA&quot;</span><span class="p">,</span> <span class="s2">&quot;alsa&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;PulseAudio&quot;</span><span class="p">,</span> <span class="s2">&quot;pulse&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;OSS&quot;</span><span class="p">,</span> <span class="s2">&quot;oss&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Which audio backend to use.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;By default, Wine automatically picks the right one &quot;</span>
                <span class="s2">&quot;for your system.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;overrides&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;mapping&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;DLL overrides&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sets WINEDLLOVERRIDES when launching the game.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;show_debug&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output debugging info&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disabled&quot;</span><span class="p">),</span> <span class="s2">&quot;-all&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enabled&quot;</span><span class="p">),</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Inherit from environment&quot;</span><span class="p">),</span> <span class="s2">&quot;inherit&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Show FPS&quot;</span><span class="p">),</span> <span class="s2">&quot;+fps&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Full (CAUTION: Will cause MASSIVE slowdown)&quot;</span><span class="p">),</span> <span class="s2">&quot;+all&quot;</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;-all&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output debugging information in the game log &quot;</span>
                      <span class="s2">&quot;(might affect performance)&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;ShowCrashDialog&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Show crash dialogs&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;autoconf_joypad&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Autoconfigure joypads&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Automatically disables one of Wine&#39;s detected joypad &quot;</span>
              <span class="s2">&quot;to avoid having 2 controllers detected&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;sandbox&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Create a sandbox for Wine folders&quot;</span><span class="p">),</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Do not use $HOME for desktop integration folders.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;By default, it use the directories in the confined &quot;</span>
                <span class="s2">&quot;Windows environment.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;sandbox_dir&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Sandbox directory&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Custom directory for desktop integration folders.&quot;</span><span class="p">),</span>
            <span class="s2">&quot;advanced&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.force_stop_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">force_stop_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.force_stop_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Kill WINE with kindness, or at least with -k. This seems to leave a process
alive for some reason, but the caller will detect this and SIGKILL it.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">force_stop_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Kill WINE with kindness, or at least with -k. This seems to leave a process</span>
<span class="sd">    alive for some reason, but the caller will detect this and SIGKILL it.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_winekill</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.get_dll_overrides" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_dll_overrides</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.get_dll_overrides" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the DLLs overriden at runtime</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_dll_overrides</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the DLLs overriden at runtime&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">overrides</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;overrides&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">overrides</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">overrides</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;DLL overrides is not a mapping: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">overrides</span><span class="p">)</span>
        <span class="n">overrides</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">overrides</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.get_dpi" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.get_dpi" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the DPI to be used by Wine; returns 96 to disable scaling,
as this is Window's unscaled default DPI.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the DPI to be used by Wine; returns 96 to disable scaling,</span>
<span class="sd">    as this is Window&#39;s unscaled default DPI.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Dpi&quot;</span><span class="p">)):</span>
        <span class="n">explicit_dpi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ExplicitDpi&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">explicit_dpi</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
            <span class="n">explicit_dpi</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">explicit_dpi</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">explicit_dpi</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">explicit_dpi</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">explicit_dpi</span> <span class="ow">or</span> <span class="n">get_default_dpi</span><span class="p">()</span>

    <span class="k">return</span> <span class="mi">96</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.get_env" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.get_env" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return environment variables used by the game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return environment variables used by the game&quot;&quot;&quot;</span>
    <span class="c1"># Always false to runner.get_env, the default value</span>
    <span class="c1"># of os_env is inverted in the wine class,</span>
    <span class="c1"># the OS env is read later.</span>
    <span class="n">env</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os_env</span><span class="p">:</span>
        <span class="n">env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
    <span class="n">show_debug</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;show_debug&quot;</span><span class="p">,</span> <span class="s2">&quot;-all&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_debug</span> <span class="o">!=</span> <span class="s2">&quot;inherit&quot;</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEDEBUG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">show_debug</span>
    <span class="k">if</span> <span class="n">show_debug</span> <span class="o">==</span> <span class="s2">&quot;-all&quot;</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;DXVK_LOG_LEVEL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEARCH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINE_MONO_CACHE_DIR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(),</span> <span class="s2">&quot;mono&quot;</span><span class="p">)</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINE_GECKO_CACHE_DIR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(),</span> <span class="s2">&quot;gecko&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_gstreamer_build</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()):</span>
        <span class="n">path_64</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(),</span> <span class="s2">&quot;lib64/gstreamer-1.0/&quot;</span><span class="p">)</span>
        <span class="n">path_32</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">(),</span> <span class="s2">&quot;lib/gstreamer-1.0/&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_64</span><span class="p">)</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path_32</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="s2">&quot;GST_PLUGIN_SYSTEM_PATH_1_0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path_64</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="n">path_32</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">:</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEPREFIX&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="s2">&quot;WINEESYNC&quot;</span> <span class="ow">in</span> <span class="n">env</span> <span class="ow">and</span> <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEESYNC&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">):</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEESYNC&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;esync&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="s2">&quot;WINEFSYNC&quot;</span> <span class="ow">in</span> <span class="n">env</span> <span class="ow">and</span> <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEFSYNC&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">):</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEFSYNC&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fsync&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;0&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fsr&quot;</span><span class="p">):</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINE_FULLSCREEN_FSR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk_nvapi&quot;</span><span class="p">):</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;DXVK_NVAPIHACK&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;battleye&quot;</span><span class="p">):</span>
        <span class="n">env</span><span class="p">[</span><span class="s2">&quot;PROTON_BATTLEYE_RUNTIME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;battleye_runtime&quot;</span><span class="p">)</span>

    <span class="n">overrides</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dll_overrides</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">overrides</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dll_overrides</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">overrides</span><span class="p">)</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;WINEDLLOVERRIDES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_overrides_env</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dll_overrides</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">env</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.get_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.get_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the path to the Wine executable.
A specific version can be specified if needed.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the path to the Wine executable.</span>
<span class="sd">    A specific version can be specified if needed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_version</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_path_for_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">wine_path</span>

    <span class="k">if</span> <span class="n">fallback</span><span class="p">:</span>
        <span class="c1"># Fallback to default version</span>
        <span class="n">default_version</span> <span class="o">=</span> <span class="n">get_default_version</span><span class="p">()</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_path_for_version</span><span class="p">(</span><span class="n">default_version</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wine_path</span><span class="p">:</span>
            <span class="c1"># Update the version in the config</span>
            <span class="k">if</span> <span class="n">version</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">default_version</span>
                <span class="c1"># TODO: runner_config is a dict so we have to instanciate a</span>
                <span class="c1"># LutrisConfig object to save it.</span>
                <span class="c1"># XXX: The version key could be either in the game specific</span>
                <span class="c1"># config or the runner specific config. We need to know</span>
                <span class="c1"># which one to get the correct LutrisConfig object.</span>
        <span class="k">return</span> <span class="n">wine_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.get_path_for_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_path_for_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.get_path_for_version" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the absolute path of a wine executable for a given version</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_path_for_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the absolute path of a wine executable for a given version&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">WINE_PATHS</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="n">WINE_PATHS</span><span class="p">[</span><span class="n">version</span><span class="p">])</span>
    <span class="k">if</span> <span class="s2">&quot;Proton&quot;</span> <span class="ow">in</span> <span class="n">version</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">proton_path</span> <span class="ow">in</span> <span class="n">get_proton_paths</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">proton_path</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;dist/bin/wine&quot;</span><span class="p">)):</span>
                <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">proton_path</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;dist/bin/wine&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">version</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;PlayOnLinux&quot;</span><span class="p">):</span>
        <span class="n">version</span><span class="p">,</span> <span class="n">arch</span> <span class="o">=</span> <span class="n">version</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">POL_PATH</span><span class="p">,</span> <span class="s2">&quot;wine&quot;</span><span class="p">,</span> <span class="s2">&quot;linux-&quot;</span> <span class="o">+</span> <span class="n">arch</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;bin/wine&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">version</span> <span class="o">==</span> <span class="s2">&quot;custom&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom_wine_path&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;bin/wine&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.get_pids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.get_pids" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of pids of processes using the current wine exe.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of pids of processes using the current wine exe.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="n">wine_path</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exe</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span>
    <span class="n">pids</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_pids_using_file</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span> <span class="o">==</span> <span class="s2">&quot;win64&quot;</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;wine&quot;</span><span class="p">:</span>
        <span class="n">pids</span> <span class="o">=</span> <span class="n">pids</span> <span class="o">|</span> <span class="n">system</span><span class="o">.</span><span class="n">get_pids_using_file</span><span class="p">(</span><span class="n">exe</span> <span class="o">+</span> <span class="s2">&quot;64&quot;</span><span class="p">)</span>

    <span class="c1"># Add wineserver PIDs to the mix (at least one occurence of fuser not</span>
    <span class="c1"># picking the games&#39;s PID from wine/wine64 but from wineserver for some</span>
    <span class="c1"># unknown reason.</span>
    <span class="n">pids</span> <span class="o">=</span> <span class="n">pids</span> <span class="o">|</span> <span class="n">system</span><span class="o">.</span><span class="n">get_pids_using_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">exe</span><span class="p">),</span> <span class="s2">&quot;wineserver&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">pids</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.get_runtime_env" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runtime_env</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.get_runtime_env" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return runtime environment variables with path to wine for Lutris builds</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_runtime_env</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return runtime environment variables with path to wine for Lutris builds&quot;&quot;&quot;</span>
    <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="n">wine_root</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">WINE_DIR</span><span class="p">:</span>
        <span class="n">wine_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">proton_path</span> <span class="ow">in</span> <span class="n">get_proton_paths</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">proton_path</span> <span class="ow">in</span> <span class="n">wine_path</span><span class="p">:</span>
            <span class="n">wine_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">runtime</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span>
        <span class="n">version</span><span class="o">=</span><span class="s2">&quot;Ubuntu-18.04&quot;</span><span class="p">,</span>
        <span class="n">prefer_system_libs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prefer_system_libs&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_root</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.get_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.get_version" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the Wine version to use. use_default can be set to false to
force the installation of a specific wine version</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">use_default</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the Wine version to use. use_default can be set to false to</span>
<span class="sd">    force the installation of a specific wine version&quot;&quot;&quot;</span>
    <span class="n">runner_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">runner_version</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">runner_version</span>
    <span class="k">if</span> <span class="n">use_default</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_default_version</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.is_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.is_installed" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Check if Wine is installed.
If no version is passed, checks if any version of wine is available</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check if Wine is installed.</span>
<span class="sd">    If no version is passed, checks if any version of wine is available</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">version</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">fallback</span><span class="p">))</span>

    <span class="n">wine_versions</span> <span class="o">=</span> <span class="n">get_wine_versions</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">min_version</span><span class="p">:</span>
        <span class="n">min_version_list</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">min_version</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">wine_version</span> <span class="ow">in</span> <span class="n">wine_versions</span><span class="p">:</span>
            <span class="n">version_list</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">wine_version</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">version_list</span> <span class="o">&gt;</span> <span class="n">min_version_list</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Wine </span><span class="si">%s</span><span class="s2"> or higher not found&quot;</span><span class="p">,</span> <span class="n">min_version</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">wine_versions</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.msi_exec" class="doc doc-heading">
<code class="highlight language-python"><span class="n">msi_exec</span><span class="p">(</span><span class="n">msi_file</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">blocking</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.runners.wine.wine.msi_exec" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">msi_exec</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">msi_file</span><span class="p">,</span>
    <span class="n">quiet</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">blocking</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">msi_args</span> <span class="o">=</span> <span class="s2">&quot;/i </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">msi_file</span>
    <span class="k">if</span> <span class="n">quiet</span><span class="p">:</span>
        <span class="n">msi_args</span> <span class="o">+=</span> <span class="s2">&quot; /q&quot;</span>
    <span class="k">return</span> <span class="n">wineexec</span><span class="p">(</span>
        <span class="s2">&quot;msiexec&quot;</span><span class="p">,</span>
        <span class="n">args</span><span class="o">=</span><span class="n">msi_args</span><span class="p">,</span>
        <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="n">wine_path</span><span class="p">,</span>
        <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
        <span class="n">blocking</span><span class="o">=</span><span class="n">blocking</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.parse_wine_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_wine_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">prefix_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.runners.wine.wine.parse_wine_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Take a Windows path, return the corresponding Linux path.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">parse_wine_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">prefix_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Take a Windows path, return the corresponding Linux path.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">prefix_path</span><span class="p">:</span>
        <span class="n">prefix_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.wine&quot;</span><span class="p">)</span>

    <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;:&quot;</span><span class="p">:</span>  <span class="c1"># absolute path</span>
        <span class="n">drive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;dosdevices&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">drive</span><span class="p">):</span>  <span class="c1"># Try to resolve the path</span>
            <span class="n">drive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">readlink</span><span class="p">(</span><span class="n">drive</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">drive</span><span class="p">,</span> <span class="n">path</span><span class="p">[</span><span class="mi">3</span><span class="p">:])</span>

    <span class="k">if</span> <span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;/&quot;</span><span class="p">:</span>  <span class="c1"># drive-relative path. C is as good a guess as any..</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;drive_c&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

    <span class="c1"># Relative path</span>
    <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-return-statements # noqa: C901</span>
    <span class="n">game_exe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_exe</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">launch_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">False</span><span class="p">)}</span>
    <span class="n">using_dxvk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">using_dxvk</span><span class="p">:</span>
        <span class="c1"># Set this to 1 to enable access to more RAM for 32bit applications</span>
        <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">][</span><span class="s2">&quot;WINE_LARGE_ADDRESS_AWARE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_vulkan_supported</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">display_vulkan_error</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;VULKAN_NOT_FOUND&quot;</span><span class="p">}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">game_exe</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">game_exe</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">game_exe</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WINEESYNC&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="n">limit_set</span> <span class="o">=</span> <span class="n">is_esync_limit_set</span><span class="p">()</span>
        <span class="n">wine_ver</span> <span class="o">=</span> <span class="n">is_version_esync</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">limit_set</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
            <span class="n">esync_display_version_warning</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">esync_display_limit_warning</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;ESYNC_LIMIT_NOT_SET&quot;</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_esync_limit_set</span><span class="p">():</span>
            <span class="n">esync_display_limit_warning</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;ESYNC_LIMIT_NOT_SET&quot;</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">esync_display_version_warning</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NON_ESYNC_WINE_VERSION&quot;</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;WINEFSYNC&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="n">fsync_supported</span> <span class="o">=</span> <span class="n">is_fsync_supported</span><span class="p">()</span>
        <span class="n">wine_ver</span> <span class="o">=</span> <span class="n">is_version_fsync</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">())</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">fsync_supported</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
            <span class="n">fsync_display_version_warning</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">fsync_display_support_warning</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FSYNC_NOT_SUPPORTED&quot;</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fsync_supported</span><span class="p">:</span>
            <span class="n">fsync_display_support_warning</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FSYNC_NOT_SUPPORTED&quot;</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wine_ver</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">fsync_display_version_warning</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;NON_FSYNC_WINE_VERSION&quot;</span><span class="p">}</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="n">game_exe</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">_working_dir</span> <span class="o">=</span> <span class="n">get_real_executable</span><span class="p">(</span><span class="n">game_exe</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">working_dir</span><span class="p">)</span>
    <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_exe</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">command</span> <span class="o">+</span> <span class="n">args</span>

    <span class="k">if</span> <span class="n">arguments</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">arguments</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
    <span class="n">launch_info</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">command</span>
    <span class="k">return</span> <span class="n">launch_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;user.reg&quot;</span><span class="p">)):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No valid prefix detected in </span><span class="si">%s</span><span class="s2">, creating one...&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">)</span>
        <span class="n">create_prefix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="n">arch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span><span class="p">)</span>

    <span class="n">prefix_manager</span> <span class="o">=</span> <span class="n">WinePrefixManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;autoconf_joypad&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="n">prefix_manager</span><span class="o">.</span><span class="n">configure_joypads</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sandbox</span><span class="p">(</span><span class="n">prefix_manager</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_regedit_keys</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
        <span class="n">DXVKManager</span><span class="p">,</span>
        <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk&quot;</span><span class="p">)),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk_version&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
        <span class="n">VKD3DManager</span><span class="p">,</span>
        <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vkd3d&quot;</span><span class="p">)),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vkd3d_version&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
        <span class="n">DXVKNVAPIManager</span><span class="p">,</span>
        <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk_nvapi&quot;</span><span class="p">)),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dxvk_nvapi_version&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
        <span class="n">D3DExtrasManager</span><span class="p">,</span>
        <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;d3d_extras&quot;</span><span class="p">)),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;d3d_extras_version&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup_dlls</span><span class="p">(</span>
        <span class="n">dgvoodoo2Manager</span><span class="p">,</span>
        <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dgvoodoo2&quot;</span><span class="p">)),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dgvoodoo2_version&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.run_regedit" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_regedit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.run_regedit" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run regedit in the current context</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_regedit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run regedit in the current context&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_run_executable</span><span class="p">(</span><span class="s2">&quot;regedit&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.run_wine_terminal" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_wine_terminal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.run_wine_terminal" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_wine_terminal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="n">terminal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">system_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;terminal_app&quot;</span><span class="p">)</span>
    <span class="n">open_wine_terminal</span><span class="p">(</span>
        <span class="n">terminal</span><span class="o">=</span><span class="n">terminal</span><span class="p">,</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
        <span class="n">prefix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
        <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.run_winecfg" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_winecfg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.run_winecfg" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run winecfg in the current context</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_winecfg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run winecfg in the current context&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
    <span class="n">winecfg</span><span class="p">(</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
        <span class="n">prefix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
        <span class="n">arch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
        <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.run_wineconsole" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_wineconsole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.run_wineconsole" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Runs wineconsole inside wine prefix.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_wineconsole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Runs wineconsole inside wine prefix.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_run_executable</span><span class="p">(</span><span class="s2">&quot;wineconsole&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.run_winecpl" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_winecpl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.run_winecpl" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute Wine control panel.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_winecpl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute Wine control panel.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_run_executable</span><span class="p">(</span><span class="s2">&quot;control&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.run_wineexec" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_wineexec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.run_wineexec" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Ask the user for an arbitrary exe file to run in the game's prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_wineexec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ask the user for an arbitrary exe file to run in the game&#39;s prefix&quot;&quot;&quot;</span>
    <span class="n">dlg</span> <span class="o">=</span> <span class="n">FileDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Select an EXE or MSI file&quot;</span><span class="p">),</span> <span class="n">default_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">game_path</span><span class="p">)</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">filename</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_run_executable</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.run_winekill" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_winekill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.run_winekill" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Runs wineserver -k.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_winekill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Runs wineserver -k.&quot;&quot;&quot;</span>
    <span class="n">winekill</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
        <span class="n">arch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span><span class="p">,</span>
        <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span>
        <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(),</span>
        <span class="n">initial_pids</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_pids</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.run_winetricks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_winetricks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.run_winetricks" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run winetricks in the current context</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_winetricks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run winetricks in the current context&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prelaunch</span><span class="p">()</span>
    <span class="n">winetricks</span><span class="p">(</span>
        <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">(),</span> <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">os_env</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.sandbox" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sandbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wine_prefix</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.sandbox" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">sandbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wine_prefix</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sandbox&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
        <span class="n">wine_prefix</span><span class="o">.</span><span class="n">desktop_integration</span><span class="p">(</span><span class="n">desktop_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sandbox_dir&quot;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">wine_prefix</span><span class="o">.</span><span class="n">desktop_integration</span><span class="p">(</span><span class="n">restore</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.set_regedit_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_regedit_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.set_regedit_keys" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Reset regedit keys according to config.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_regedit_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Reset regedit keys according to config.&quot;&quot;&quot;</span>
    <span class="n">prefix_manager</span> <span class="o">=</span> <span class="n">WinePrefixManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">)</span>
    <span class="c1"># Those options are directly changed with the prefix manager and skip</span>
    <span class="c1"># any calls to regedit.</span>
    <span class="n">managed_keys</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;ShowCrashDialog&quot;</span><span class="p">:</span> <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_crash_dialogs</span><span class="p">,</span>
        <span class="s2">&quot;Desktop&quot;</span><span class="p">:</span> <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_virtual_desktop</span><span class="p">,</span>
        <span class="s2">&quot;WineDesktop&quot;</span><span class="p">:</span> <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_desktop_size</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">reg_keys</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">managed_keys</span><span class="p">:</span>
            <span class="n">prefix_manager</span><span class="o">.</span><span class="n">clear_registry_subkeys</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">managed_keys</span><span class="p">:</span>
                <span class="c1"># Do not pass fallback &#39;auto&#39; value to managed keys</span>
                <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">managed_keys</span><span class="p">[</span><span class="n">key</span><span class="p">](</span><span class="n">value</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="c1"># Convert numeric strings to integers so they are saved as dword</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

            <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="c1"># We always configure the DPI, because if the user turns off DPI scaling, but it</span>
    <span class="c1"># had been on the only way to implement that is to save 96 DPI into the registry.</span>
    <span class="n">prefix_manager</span><span class="o">.</span><span class="n">set_dpi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_dpi</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.wine.wine.setup_dlls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setup_dlls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager_class</span><span class="p">,</span> <span class="n">enable</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span></code>


<a href="#lutris.runners.wine.wine.setup_dlls" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Enable or disable DLLs</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setup_dlls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">manager_class</span><span class="p">,</span> <span class="n">enable</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enable or disable DLLs&quot;&quot;&quot;</span>
    <span class="n">dll_manager</span> <span class="o">=</span> <span class="n">manager_class</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span>
        <span class="n">arch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># manual version only sets the dlls to native</span>
    <span class="k">if</span> <span class="n">dll_manager</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;manual&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">enable</span><span class="p">:</span>
            <span class="n">dll_manager</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dll_manager</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">enable</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">dll</span> <span class="ow">in</span> <span class="n">dll_manager</span><span class="o">.</span><span class="n">managed_dlls</span><span class="p">:</span>
            <span class="c1"># We have to make sure that the dll exists before setting it to native</span>
            <span class="k">if</span> <span class="n">dll_manager</span><span class="o">.</span><span class="n">dll_exists</span><span class="p">(</span><span class="n">dll</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dll_overrides</span><span class="p">[</span><span class="n">dll</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;n&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.yuzu" class="doc doc-heading">
        <code>yuzu</code>



<a href="#lutris.runners.yuzu" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.yuzu.yuzu" class="doc doc-heading">
        <code>
yuzu            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.yuzu.yuzu" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/yuzu.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">yuzu</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Yuzu&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Switch&quot;</span><span class="p">)]</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nintendo Switch emulator&quot;</span><span class="p">)</span>
    <span class="n">runnable_alone</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;yuzu/yuzu&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ROM file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data, commonly called a ROM image.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;prod_keys&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Encryption keys&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;File containing the encryption keys.&quot;</span><span class="p">),</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;title_keys&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Title keys&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;File containing the title keys.&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">yuzu_data_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return dir where Yuzu files lie.&quot;&quot;&quot;</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;~/.local/share/yuzu&quot;</span><span class="p">,</span> <span class="p">)</span>
        <span class="k">for</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">candidate</span><span class="p">),</span> <span class="s2">&quot;nand&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">path</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;nand&quot;</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run the game.&quot;&quot;&quot;</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
        <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
        <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">_update_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_type</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Update a keys file if set &quot;&quot;&quot;</span>
        <span class="n">yuzu_data_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">yuzu_data_dir</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">yuzu_data_dir</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Yuzu data dir not set&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">key_type</span> <span class="o">==</span> <span class="s2">&quot;prod_keys&quot;</span><span class="p">:</span>
            <span class="n">key_loc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">yuzu_data_dir</span><span class="p">,</span> <span class="s2">&quot;keys/prod.keys&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">key_type</span> <span class="o">==</span> <span class="s2">&quot;title_keys&quot;</span><span class="p">:</span>
            <span class="n">key_loc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">yuzu_data_dir</span><span class="p">,</span> <span class="s2">&quot;keys/title.keys&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid keys type </span><span class="si">%s</span><span class="s2">!&quot;</span><span class="p">,</span> <span class="n">key_type</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;No </span><span class="si">%s</span><span class="s2"> file was set.&quot;</span><span class="p">,</span> <span class="n">key_type</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Keys file </span><span class="si">%s</span><span class="s2"> does not exist!&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">keys_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">key_loc</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">keys_dir</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">keys_dir</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">key_loc</span><span class="p">)</span> <span class="ow">and</span> <span class="n">filecmp</span><span class="o">.</span><span class="n">cmp</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">key_loc</span><span class="p">):</span>
            <span class="c1"># If the files are identical, don&#39;t do anything</span>
            <span class="k">return</span>
        <span class="n">copyfile</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">key_loc</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;prod_keys&quot;</span><span class="p">,</span> <span class="s2">&quot;title_keys&quot;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_update_key</span><span class="p">(</span><span class="n">key_type</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.yuzu.yuzu.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.yuzu.yuzu.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.yuzu.yuzu.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.yuzu.yuzu.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.yuzu.yuzu.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.yuzu.yuzu.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.yuzu.yuzu.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.yuzu.yuzu.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.yuzu.yuzu.runnable_alone" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runnable_alone</span></code>


<a href="#lutris.runners.yuzu.yuzu.runnable_alone" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.yuzu.yuzu.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.yuzu.yuzu.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.yuzu.yuzu.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.yuzu.yuzu.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.yuzu.yuzu.yuzu_data_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">yuzu_data_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.yuzu.yuzu.yuzu_data_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return dir where Yuzu files lie.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.yuzu.yuzu.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.yuzu.yuzu.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run the game.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/yuzu.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the game.&quot;&quot;&quot;</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>
    <span class="n">rom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">rom</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;FILE_NOT_FOUND&quot;</span><span class="p">,</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">rom</span><span class="p">}</span>
    <span class="n">arguments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rom</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">arguments</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.yuzu.yuzu.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.yuzu.yuzu.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/yuzu.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;prod_keys&quot;</span><span class="p">,</span> <span class="s2">&quot;title_keys&quot;</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_key</span><span class="p">(</span><span class="n">key_type</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.runners.zdoom" class="doc doc-heading">
        <code>zdoom</code>



<a href="#lutris.runners.zdoom" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.runners.zdoom.zdoom" class="doc doc-heading">
        <code>
zdoom            (<a class="autorefs autorefs-internal" title="lutris.runners.runner.Runner" href="runner/#lutris.runners.runner.Runner">Runner</a>)
        </code>



<a href="#lutris.runners.zdoom.zdoom" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/zdoom.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">zdoom</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="c1"># http://zdoom.org/wiki/Command_line_parameters</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ZDoom DOOM Game Engine&quot;</span><span class="p">)</span>
    <span class="n">human_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ZDoom&quot;</span><span class="p">)</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">)]</span>
    <span class="n">runner_executable</span> <span class="o">=</span> <span class="s2">&quot;zdoom/zdoom&quot;</span>
    <span class="n">game_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;main_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;WAD file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The game data, commonly called a WAD file.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;args&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Arguments&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Command line arguments used when launching the game.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;files&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;multiple&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;PWAD files&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Used to load one or more PWAD files which generally contain &quot;</span>
                      <span class="s2">&quot;user-created levels.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;warp&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Warp to map&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Starts the game on the given map.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;savedir&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;directory_chooser&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Save path&quot;</span><span class="p">),</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;User-specified path where save files should be located.&quot;</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="n">runner_options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Pixel Doubling&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Pixel Quadrupling&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;nostartup&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Disable Startup Screens&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;skill&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Skill&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;choice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">),</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;I&#39;m Too Young To Die (1)&quot;</span><span class="p">),</span> <span class="s2">&quot;1&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hey, Not Too Rough (2)&quot;</span><span class="p">),</span> <span class="s2">&quot;2&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hurt Me Plenty (3)&quot;</span><span class="p">),</span> <span class="s2">&quot;3&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Ultra-Violence (4)&quot;</span><span class="p">),</span> <span class="s2">&quot;4&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Nightmare! (5)&quot;</span><span class="p">),</span> <span class="s2">&quot;5&quot;</span><span class="p">),</span>
            <span class="p">},</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;option&quot;</span><span class="p">:</span>
            <span class="s2">&quot;config&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Config file&quot;</span><span class="p">),</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span>
            <span class="s2">&quot;file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">_</span><span class="p">(</span>
                <span class="s2">&quot;Used to load a user-created configuration file. If specified, &quot;</span>
                <span class="s2">&quot;the file must contain the wad directory list or launch will fail.&quot;</span>
            <span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">executable</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
        <span class="n">executable_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">executable</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">executable_dir</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">executable</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">executable</span><span class="p">):</span>
            <span class="n">gzdoom_executable</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">executable_dir</span><span class="p">,</span> <span class="s2">&quot;gzdoom&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">gzdoom_executable</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">gzdoom_executable</span>
        <span class="k">return</span> <span class="n">executable</span>

    <span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_soundfonts</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;FluidSynth is not installed, you might not have any music&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">working_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">wad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wad</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">wad</span><span class="p">))</span>
        <span class="n">wad_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wad_files</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">wad_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

    <span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># noqa: C901</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

        <span class="n">resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;resolution&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resolution</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">resolution</span> <span class="o">==</span> <span class="s2">&quot;desktop&quot;</span><span class="p">:</span>
                <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-width&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-height&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>

        <span class="c1"># Append any boolean options.</span>
        <span class="n">bool_options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;nostartup&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">bool_options</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">):</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">option</span><span class="p">)</span>

        <span class="c1"># Append the skill level.</span>
        <span class="n">skill</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;skill&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">skill</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-skill&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">skill</span><span class="p">)</span>

        <span class="c1"># Append directory for configuration file, if provided.</span>
        <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-config&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="c1"># Append the warp arguments.</span>
        <span class="n">warp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;warp&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">warp</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-warp&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">warparg</span> <span class="ow">in</span> <span class="n">warp</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">):</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">warparg</span><span class="p">)</span>

        <span class="c1"># Append directory for save games, if provided.</span>
        <span class="n">savedir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;savedir&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">savedir</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-savedir&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">savedir</span><span class="p">)</span>

        <span class="c1"># Append the wad file to load, if provided.</span>
        <span class="n">wad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wad</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-iwad&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">wad</span><span class="p">)</span>

        <span class="c1"># Append the pwad files to load, if provided.</span>
        <span class="n">files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
        <span class="n">pwads</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.wad&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.pk3&quot;</span><span class="p">)]</span>
        <span class="n">deh</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.deh&quot;</span><span class="p">)]</span>
        <span class="n">bex</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.bex&quot;</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">deh</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-deh&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deh</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">bex</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-bex&quot;</span><span class="p">)</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bex</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">pwads</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-file&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">pwad</span> <span class="ow">in</span> <span class="n">pwads</span><span class="p">:</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pwad</span><span class="p">)</span>

        <span class="c1"># Append additional arguments, if provided.</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.zdoom.zdoom.description" class="doc doc-heading">
<code class="highlight language-python"><span class="n">description</span></code>


<a href="#lutris.runners.zdoom.zdoom.description" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.zdoom.zdoom.game_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">game_options</span></code>


<a href="#lutris.runners.zdoom.zdoom.game_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.zdoom.zdoom.human_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_name</span></code>


<a href="#lutris.runners.zdoom.zdoom.human_name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.zdoom.zdoom.platforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">platforms</span></code>


<a href="#lutris.runners.zdoom.zdoom.platforms" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.zdoom.zdoom.runner_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_executable</span></code>


<a href="#lutris.runners.zdoom.zdoom.runner_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.zdoom.zdoom.runner_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runner_options</span></code>


<a href="#lutris.runners.zdoom.zdoom.runner_options" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.runners.zdoom.zdoom.working_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">working_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.runners.zdoom.zdoom.working_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the working directory to use when running the game.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.zdoom.zdoom.get_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.zdoom.zdoom.get_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/zdoom.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_executable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">executable</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()</span>
    <span class="n">executable_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">executable</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">executable_dir</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">executable</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">executable</span><span class="p">):</span>
        <span class="n">gzdoom_executable</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">executable_dir</span><span class="p">,</span> <span class="s2">&quot;gzdoom&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">gzdoom_executable</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">gzdoom_executable</span>
    <span class="k">return</span> <span class="n">executable</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.zdoom.zdoom.play" class="doc doc-heading">
<code class="highlight language-python"><span class="n">play</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.zdoom.zdoom.play" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/runners/zdoom.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># noqa: C901</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_executable</span><span class="p">()]</span>

    <span class="n">resolution</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;resolution&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">resolution</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">resolution</span> <span class="o">==</span> <span class="s2">&quot;desktop&quot;</span><span class="p">:</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-width&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-height&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>

    <span class="c1"># Append any boolean options.</span>
    <span class="n">bool_options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;nostartup&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">bool_options</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">option</span><span class="p">)</span>

    <span class="c1"># Append the skill level.</span>
    <span class="n">skill</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;skill&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">skill</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-skill&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">skill</span><span class="p">)</span>

    <span class="c1"># Append directory for configuration file, if provided.</span>
    <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-config&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="c1"># Append the warp arguments.</span>
    <span class="n">warp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;warp&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">warp</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-warp&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">warparg</span> <span class="ow">in</span> <span class="n">warp</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">):</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">warparg</span><span class="p">)</span>

    <span class="c1"># Append directory for save games, if provided.</span>
    <span class="n">savedir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;savedir&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">savedir</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-savedir&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">savedir</span><span class="p">)</span>

    <span class="c1"># Append the wad file to load, if provided.</span>
    <span class="n">wad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;main_file&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">wad</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-iwad&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">wad</span><span class="p">)</span>

    <span class="c1"># Append the pwad files to load, if provided.</span>
    <span class="n">files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;files&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
    <span class="n">pwads</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.wad&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.pk3&quot;</span><span class="p">)]</span>
    <span class="n">deh</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.deh&quot;</span><span class="p">)]</span>
    <span class="n">bex</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.bex&quot;</span><span class="p">)]</span>
    <span class="k">if</span> <span class="n">deh</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-deh&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deh</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">bex</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-bex&quot;</span><span class="p">)</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bex</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">pwads</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-file&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">pwad</span> <span class="ow">in</span> <span class="n">pwads</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pwad</span><span class="p">)</span>

    <span class="c1"># Append additional arguments, if provided.</span>
    <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;args&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">command</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.runners.zdoom.zdoom.prelaunch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.runners.zdoom.zdoom.prelaunch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Run actions before running the game, override this method in runners</p>

        <details class="quote">
          <summary>Source code in <code>lutris/runners/zdoom.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prelaunch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_soundfonts</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;FluidSynth is not installed, you might not have any music&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../runner_interpreter/" class="md-footer__link md-footer__link--prev" aria-label="Previous: runner_interpreter" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              runner_interpreter
            </div>
          </div>
        </a>
      
      
        
        <a href="atari800/" class="md-footer__link md-footer__link--next" aria-label="Next: atari800" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              atari800
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../../../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>