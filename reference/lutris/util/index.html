
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lutris desktop client in Python / PyGObject.">
      
      
      
        <link rel="canonical" href="https://lutris.github.io/lutris/reference/lutris/util/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.5">
    
    
      
        <title>Index - Lutris</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lutris.util" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Lutris" class="md-header__button md-logo" aria-label="Lutris" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lutris
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Index
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/lutris/lutris/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lutris/lutris
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../wiki/Home/" class="md-tabs__link">
        Wiki
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Reference
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../contributing/" class="md-tabs__link">
        Development
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Lutris" class="md-nav__button md-logo" aria-label="Lutris" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Lutris
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lutris/lutris/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lutris/lutris
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../credits/" class="md-nav__link">
        Credits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Wiki
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Wiki" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Wiki
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wiki/Home/" class="md-nav__link">
        Home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Apitracing/" class="md-nav__link">
        Apitracing a game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Battle.Net/" class="md-nav__link">
        Battle.Net
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/HowToDXVK/" class="md-nav__link">
        What is DXVK?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/HowToEsync/" class="md-nav__link">
        What is Esync?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/InstallingDrivers/" class="md-nav__link">
        InstallingDrivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/LutrisRuntime/" class="md-nav__link">
        LutrisRuntime
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Origin/" class="md-nav__link">
        Origin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Overwatch/" class="md-nav__link">
        Overwatch on Linux (Wine)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/Performance-Tweaks/" class="md-nav__link">
        Performance Tweaks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/PressureVesselResearch/" class="md-nav__link">
        Pressure Vessel Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/ProvidingLogs%26SystemInfo/" class="md-nav__link">
        What we need to help you (TLDR):
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/RetroArch/" class="md-nav__link">
        RetroArch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WineBuilds/" class="md-nav__link">
        Wine Builds
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WineDependencies/" class="md-nav__link">
        WineDependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/WorldOfWarcraft/" class="md-nav__link">
        World of Warcraft
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../lutris_docs/titanfall-2/" class="md-nav__link">
        Titanfall 2 on Linux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          lutris
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="lutris" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          lutris
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cache/" class="md-nav__link">
        cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../command/" class="md-nav__link">
        command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_6" type="checkbox" id="__nav_3_1_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_6">
          database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="database" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_6">
          <span class="md-nav__icon md-icon"></span>
          database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/categories/" class="md-nav__link">
        categories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/games/" class="md-nav__link">
        games
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/schema/" class="md-nav__link">
        schema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/services/" class="md-nav__link">
        services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/sources/" class="md-nav__link">
        sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/sql/" class="md-nav__link">
        sql
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../discord/" class="md-nav__link">
        discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../game/" class="md-nav__link">
        game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../game_actions/" class="md-nav__link">
        game_actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11" type="checkbox" id="__nav_3_1_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11">
          gui
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="gui" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_11">
          <span class="md-nav__icon md-icon"></span>
          gui
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/addgameswindow/" class="md-nav__link">
        addgameswindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/application/" class="md-nav__link">
        application
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_4" type="checkbox" id="__nav_3_1_11_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_4">
          config
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="config" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_4">
          <span class="md-nav__icon md-icon"></span>
          config
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/add_game/" class="md-nav__link">
        add_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/base_config_box/" class="md-nav__link">
        base_config_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/boxes/" class="md-nav__link">
        boxes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/common/" class="md-nav__link">
        common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/edit_game/" class="md-nav__link">
        edit_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/preferences_box/" class="md-nav__link">
        preferences_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/preferences_dialog/" class="md-nav__link">
        preferences_dialog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runner/" class="md-nav__link">
        runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runner_box/" class="md-nav__link">
        runner_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/runners_box/" class="md-nav__link">
        runners_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/services_box/" class="md-nav__link">
        services_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/config/sysinfo_box/" class="md-nav__link">
        sysinfo_box
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_5" type="checkbox" id="__nav_3_1_11_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_5">
          dialogs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="dialogs" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_5">
          <span class="md-nav__icon md-icon"></span>
          dialogs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/cache/" class="md-nav__link">
        cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/download/" class="md-nav__link">
        download
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/issue/" class="md-nav__link">
        issue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/runner_install/" class="md-nav__link">
        runner_install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/uninstall_game/" class="md-nav__link">
        uninstall_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/dialogs/webconnect_dialog/" class="md-nav__link">
        webconnect_dialog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_6" type="checkbox" id="__nav_3_1_11_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_6">
          installer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="installer" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_6">
          <span class="md-nav__icon md-icon"></span>
          installer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/file_box/" class="md-nav__link">
        file_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/files_box/" class="md-nav__link">
        files_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/script_box/" class="md-nav__link">
        script_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/script_picker/" class="md-nav__link">
        script_picker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installer/widgets/" class="md-nav__link">
        widgets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/installerwindow/" class="md-nav__link">
        installerwindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/lutriswindow/" class="md-nav__link">
        lutriswindow
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_9" type="checkbox" id="__nav_3_1_11_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_9">
          views
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="views" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_9">
          <span class="md-nav__icon md-icon"></span>
          views
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/grid/" class="md-nav__link">
        grid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/list/" class="md-nav__link">
        list
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/media_loader/" class="md-nav__link">
        media_loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/store/" class="md-nav__link">
        store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/views/store_item/" class="md-nav__link">
        store_item
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_11_10" type="checkbox" id="__nav_3_1_11_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_11_10">
          widgets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="widgets" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_11_10">
          <span class="md-nav__icon md-icon"></span>
          widgets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/cellrenderers/" class="md-nav__link">
        cellrenderers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/common/" class="md-nav__link">
        common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/contextual_menu/" class="md-nav__link">
        contextual_menu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/download_progress_box/" class="md-nav__link">
        download_progress_box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/game_bar/" class="md-nav__link">
        game_bar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/gi_composites/" class="md-nav__link">
        gi_composites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/log_text_view/" class="md-nav__link">
        log_text_view
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/notifications/" class="md-nav__link">
        notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/searchable_combobox/" class="md-nav__link">
        searchable_combobox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/sidebar/" class="md-nav__link">
        sidebar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/status_icon/" class="md-nav__link">
        status_icon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gui/widgets/window/" class="md-nav__link">
        window
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_12" type="checkbox" id="__nav_3_1_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_12">
          installer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="installer" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_12">
          <span class="md-nav__icon md-icon"></span>
          installer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/commands/" class="md-nav__link">
        commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/errors/" class="md-nav__link">
        errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/installer/" class="md-nav__link">
        installer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/installer_file/" class="md-nav__link">
        installer_file
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/interpreter/" class="md-nav__link">
        interpreter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/legacy/" class="md-nav__link">
        legacy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installer/steam_installer/" class="md-nav__link">
        steam_installer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_13" type="checkbox" id="__nav_3_1_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_13">
          migrations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="migrations" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_13">
          <span class="md-nav__icon md-icon"></span>
          migrations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/mess_to_mame/" class="md-nav__link">
        mess_to_mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_banners/" class="md-nav__link">
        migrate_banners
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_hidden_ids/" class="md-nav__link">
        migrate_hidden_ids
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrations/migrate_steam_appids/" class="md-nav__link">
        migrate_steam_appids
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runner_interpreter/" class="md-nav__link">
        runner_interpreter
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_15" type="checkbox" id="__nav_3_1_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_15">
          runners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="runners" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_15">
          <span class="md-nav__icon md-icon"></span>
          runners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/atari800/" class="md-nav__link">
        atari800
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_15_3" type="checkbox" id="__nav_3_1_15_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_15_3">
          commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="commands" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_15_3">
          <span class="md-nav__icon md-icon"></span>
          commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/commands/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/commands/dosbox/" class="md-nav__link">
        dosbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/commands/wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/dolphin/" class="md-nav__link">
        dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/dosbox/" class="md-nav__link">
        dosbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/easyrpg/" class="md-nav__link">
        easyrpg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/fsuae/" class="md-nav__link">
        fsuae
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/hatari/" class="md-nav__link">
        hatari
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/json/" class="md-nav__link">
        json
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/jzintv/" class="md-nav__link">
        jzintv
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/libretro/" class="md-nav__link">
        libretro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/linux/" class="md-nav__link">
        linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/mame/" class="md-nav__link">
        mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/mednafen/" class="md-nav__link">
        mednafen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/mupen64plus/" class="md-nav__link">
        mupen64plus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/o2em/" class="md-nav__link">
        o2em
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/openmsx/" class="md-nav__link">
        openmsx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/osmose/" class="md-nav__link">
        osmose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/pcsx2/" class="md-nav__link">
        pcsx2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/pico8/" class="md-nav__link">
        pico8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/redream/" class="md-nav__link">
        redream
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/reicast/" class="md-nav__link">
        reicast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/residualvm/" class="md-nav__link">
        residualvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/rpcs3/" class="md-nav__link">
        rpcs3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/runner/" class="md-nav__link">
        runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/ryujinx/" class="md-nav__link">
        ryujinx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/scummvm/" class="md-nav__link">
        scummvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/snes9x/" class="md-nav__link">
        snes9x
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/steam/" class="md-nav__link">
        steam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/vice/" class="md-nav__link">
        vice
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/web/" class="md-nav__link">
        web
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/yuzu/" class="md-nav__link">
        yuzu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runners/zdoom/" class="md-nav__link">
        zdoom
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/" class="md-nav__link">
        runtime
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_17" type="checkbox" id="__nav_3_1_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_17">
          scanners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="scanners" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_17">
          <span class="md-nav__icon md-icon"></span>
          scanners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/lutris/" class="md-nav__link">
        lutris
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scanners/retroarch/" class="md-nav__link">
        retroarch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_18" type="checkbox" id="__nav_3_1_18" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_18">
          services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="services" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_18">
          <span class="md-nav__icon md-icon"></span>
          services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/base/" class="md-nav__link">
        base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/battlenet/" class="md-nav__link">
        battlenet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/bethesda/" class="md-nav__link">
        bethesda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/dolphin/" class="md-nav__link">
        dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/egs/" class="md-nav__link">
        egs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/gog/" class="md-nav__link">
        gog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/humblebundle/" class="md-nav__link">
        humblebundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/itchio/" class="md-nav__link">
        itchio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/lutris/" class="md-nav__link">
        lutris
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/mame/" class="md-nav__link">
        mame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/origin/" class="md-nav__link">
        origin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/scummvm/" class="md-nav__link">
        scummvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/service_game/" class="md-nav__link">
        service_game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/service_media/" class="md-nav__link">
        service_media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/steam/" class="md-nav__link">
        steam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/steamwindows/" class="md-nav__link">
        steamwindows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/tosec/" class="md-nav__link">
        tosec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/ubisoft/" class="md-nav__link">
        ubisoft
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/xdg/" class="md-nav__link">
        xdg
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../startup/" class="md-nav__link">
        startup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../style_manager/" class="md-nav__link">
        style_manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sysoptions/" class="md-nav__link">
        sysoptions
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23" type="checkbox" id="__nav_3_1_23" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23">
          util
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="util" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_23">
          <span class="md-nav__icon md-icon"></span>
          util
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Index
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Index
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lutris.util" class="md-nav__link">
    lutris.util
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.selective_merge" class="md-nav__link">
    selective_merge()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.audio" class="md-nav__link">
    audio
  </a>
  
    <nav class="md-nav" aria-label="audio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.audio.reset_pulse" class="md-nav__link">
    reset_pulse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.cookies" class="md-nav__link">
    cookies
  </a>
  
    <nav class="md-nav" aria-label="cookies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.cookies.WebkitCookieJar" class="md-nav__link">
    WebkitCookieJar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.datapath" class="md-nav__link">
    datapath
  </a>
  
    <nav class="md-nav" aria-label="datapath">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.datapath.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.display" class="md-nav__link">
    display
  </a>
  
    <nav class="md-nav" aria-label="display">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBUS_AVAILABLE" class="md-nav__link">
    DBUS_AVAILABLE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DISPLAY_MANAGER" class="md-nav__link">
    DISPLAY_MANAGER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.GnomeDesktop" class="md-nav__link">
    GnomeDesktop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.LIB_GNOME_DESKTOP_AVAILABLE" class="md-nav__link">
    LIB_GNOME_DESKTOP_AVAILABLE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.SCREEN_SAVER_INHIBITOR" class="md-nav__link">
    SCREEN_SAVER_INHIBITOR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.USE_DRI_PRIME" class="md-nav__link">
    USE_DRI_PRIME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBusScreenSaverInhibitor" class="md-nav__link">
    DBusScreenSaverInhibitor
  </a>
  
    <nav class="md-nav" aria-label="DBusScreenSaverInhibitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBusScreenSaverInhibitor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBusScreenSaverInhibitor.inhibit" class="md-nav__link">
    inhibit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBusScreenSaverInhibitor.uninhibit" class="md-nav__link">
    uninhibit()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment" class="md-nav__link">
    DesktopEnvironment
  </a>
  
    <nav class="md-nav" aria-label="DesktopEnvironment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.DEEPIN" class="md-nav__link">
    DEEPIN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.MATE" class="md-nav__link">
    MATE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.PLASMA" class="md-nav__link">
    PLASMA
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.UNKNOWN" class="md-nav__link">
    UNKNOWN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.XFCE" class="md-nav__link">
    XFCE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager" class="md-nav__link">
    DisplayManager
  </a>
  
    <nav class="md-nav" aria-label="DisplayManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.get_current_resolution" class="md-nav__link">
    get_current_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.get_display_names" class="md-nav__link">
    get_display_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.set_resolution" class="md-nav__link">
    set_resolution()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.NoScreenDetected" class="md-nav__link">
    NoScreenDetected
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.disable_compositing" class="md-nav__link">
    disable_compositing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.enable_compositing" class="md-nav__link">
    enable_compositing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.get_default_dpi" class="md-nav__link">
    get_default_dpi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.get_desktop_environment" class="md-nav__link">
    get_desktop_environment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.get_display_manager" class="md-nav__link">
    get_display_manager()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.is_compositing_enabled" class="md-nav__link">
    is_compositing_enabled()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.restore_gamma" class="md-nav__link">
    restore_gamma()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.dolphin" class="md-nav__link">
    dolphin
  </a>
  
    <nav class="md-nav" aria-label="dolphin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader" class="md-nav__link">
    cache_reader
  </a>
  
    <nav class="md-nav" aria-label="cache_reader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.CACHE_REVISION" class="md-nav__link">
    CACHE_REVISION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DOLPHIN_GAME_CACHE_FILE" class="md-nav__link">
    DOLPHIN_GAME_CACHE_FILE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader" class="md-nav__link">
    DolphinCacheReader
  </a>
  
    <nav class="md-nav" aria-label="DolphinCacheReader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.header_size" class="md-nav__link">
    header_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.structure" class="md-nav__link">
    structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_array" class="md-nav__link">
    get_array()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_boolean" class="md-nav__link">
    get_boolean()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_cover" class="md-nav__link">
    get_cover()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_game" class="md-nav__link">
    get_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_games" class="md-nav__link">
    get_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_image" class="md-nav__link">
    get_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_raw" class="md-nav__link">
    get_raw()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_string" class="md-nav__link">
    get_string()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.get_hex_string" class="md-nav__link">
    get_hex_string()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.get_word_len" class="md-nav__link">
    get_word_len()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.downloader" class="md-nav__link">
    downloader
  </a>
  
    <nav class="md-nav" aria-label="downloader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.get_time" class="md-nav__link">
    get_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader" class="md-nav__link">
    Downloader
  </a>
  
    <nav class="md-nav" aria-label="Downloader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.CANCELLED" class="md-nav__link">
    CANCELLED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.COMPLETED" class="md-nav__link">
    COMPLETED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.DOWNLOADING" class="md-nav__link">
    DOWNLOADING
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.ERROR" class="md-nav__link">
    ERROR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.INIT" class="md-nav__link">
    INIT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.async_download" class="md-nav__link">
    async_download()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.cancel" class="md-nav__link">
    cancel()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.check_progress" class="md-nav__link">
    check_progress()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.download_cb" class="md-nav__link">
    download_cb()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.get_average_time_left" class="md-nav__link">
    get_average_time_left()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.get_speed" class="md-nav__link">
    get_speed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.get_stats" class="md-nav__link">
    get_stats()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.reset" class="md-nav__link">
    reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.egs" class="md-nav__link">
    egs
  </a>
  
    <nav class="md-nav" aria-label="egs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher" class="md-nav__link">
    egs_launcher
  </a>
  
    <nav class="md-nav" aria-label="egs_launcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher.EGSLauncher" class="md-nav__link">
    EGSLauncher
  </a>
  
    <nav class="md-nav" aria-label="EGSLauncher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher.EGSLauncher.manifests_paths" class="md-nav__link">
    manifests_paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher.EGSLauncher.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher.EGSLauncher.iter_manifests" class="md-nav__link">
    iter_manifests()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.extract" class="md-nav__link">
    extract
  </a>
  
    <nav class="md-nav" aria-label="extract">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.ExtractFailure" class="md-nav__link">
    ExtractFailure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.check_inno_exe" class="md-nav__link">
    check_inno_exe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.decompress_gog" class="md-nav__link">
    decompress_gog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.decompress_gz" class="md-nav__link">
    decompress_gz()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_7zip" class="md-nav__link">
    extract_7zip()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_archive" class="md-nav__link">
    extract_archive()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_deb" class="md-nav__link">
    extract_deb()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_exe" class="md-nav__link">
    extract_exe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_gog" class="md-nav__link">
    extract_gog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.get_archive_opener" class="md-nav__link">
    get_archive_opener()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.get_innoextract_list" class="md-nav__link">
    get_innoextract_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.get_innoextract_path" class="md-nav__link">
    get_innoextract_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.guess_extractor" class="md-nav__link">
    guess_extractor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.is_7zip_supported" class="md-nav__link">
    is_7zip_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.random_id" class="md-nav__link">
    random_id()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.fileio" class="md-nav__link">
    fileio
  </a>
  
    <nav class="md-nav" aria-label="fileio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.EvilConfigParser" class="md-nav__link">
    EvilConfigParser
  </a>
  
    <nav class="md-nav" aria-label="EvilConfigParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.EvilConfigParser.OPTCRE" class="md-nav__link">
    OPTCRE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.EvilConfigParser.OPTCRE_NV" class="md-nav__link">
    OPTCRE_NV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.EvilConfigParser.write" class="md-nav__link">
    write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.MultiOrderedDict" class="md-nav__link">
    MultiOrderedDict
  </a>
  
    <nav class="md-nav" aria-label="MultiOrderedDict">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.MultiOrderedDict.__setitem__" class="md-nav__link">
    __setitem__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.game_finder" class="md-nav__link">
    game_finder
  </a>
  
    <nav class="md-nav" aria-label="game_finder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.find_linux_game_executable" class="md-nav__link">
    find_linux_game_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.find_windows_game_executable" class="md-nav__link">
    find_windows_game_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.is_excluded_dir" class="md-nav__link">
    is_excluded_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.is_excluded_elf" class="md-nav__link">
    is_excluded_elf()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.is_excluded_exe" class="md-nav__link">
    is_excluded_exe()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb" class="md-nav__link">
    gamecontrollerdb
  </a>
  
    <nav class="md-nav" aria-label="gamecontrollerdb">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping" class="md-nav__link">
    ControllerMapping
  </a>
  
    <nav class="md-nav" aria-label="ControllerMapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping.valid_keys" class="md-nav__link">
    valid_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB" class="md-nav__link">
    GameControllerDB
  </a>
  
    <nav class="md-nav" aria-label="GameControllerDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.db_path" class="md-nav__link">
    db_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.__getitem__" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.parsedb" class="md-nav__link">
    parsedb()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.gog" class="md-nav__link">
    gog
  </a>
  
    <nav class="md-nav" aria-label="gog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.convert_gog_config_to_lutris" class="md-nav__link">
    convert_gog_config_to_lutris()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.get_game_config" class="md-nav__link">
    get_game_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.get_gog_config" class="md-nav__link">
    get_gog_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.get_gog_config_from_path" class="md-nav__link">
    get_gog_config_from_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.get_gog_game_path" class="md-nav__link">
    get_gog_game_path()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.graphics" class="md-nav__link">
    graphics
  </a>
  
    <nav class="md-nav" aria-label="graphics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig" class="md-nav__link">
    displayconfig
  </a>
  
    <nav class="md-nav" aria-label="displayconfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC" class="md-nav__link">
    CRTC
  </a>
  
    <nav class="md-nav" aria-label="CRTC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.current_mode" class="md-nav__link">
    current_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.current_transform" class="md-nav__link">
    current_transform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.geometry" class="md-nav__link">
    geometry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.geometry_str" class="md-nav__link">
    geometry_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.transforms" class="md-nav__link">
    transforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.winsys_id" class="md-nav__link">
    winsys_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayConfig" class="md-nav__link">
    DisplayConfig
  </a>
  
    <nav class="md-nav" aria-label="DisplayConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayConfig.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayConfig.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayConfig.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode" class="md-nav__link">
    DisplayMode
  </a>
  
    <nav class="md-nav" aria-label="DisplayMode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.flags" class="md-nav__link">
    flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.frequency" class="md-nav__link">
    frequency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.height" class="md-nav__link">
    height
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.width" class="md-nav__link">
    width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.winsys_id" class="md-nav__link">
    winsys_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState" class="md-nav__link">
    DisplayState
  </a>
  
    <nav class="md-nav" aria-label="DisplayState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.logical_monitors" class="md-nav__link">
    logical_monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.monitors" class="md-nav__link">
    monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.serial" class="md-nav__link">
    serial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.get_current_mode" class="md-nav__link">
    get_current_mode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.load_state" class="md-nav__link">
    load_state()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor" class="md-nav__link">
    LogicalMonitor
  </a>
  
    <nav class="md-nav" aria-label="LogicalMonitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.monitors" class="md-nav__link">
    monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.position" class="md-nav__link">
    position
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.primary" class="md-nav__link">
    primary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.scale" class="md-nav__link">
    scale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.transform" class="md-nav__link">
    transform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor" class="md-nav__link">
    Monitor
  </a>
  
    <nav class="md-nav" aria-label="Monitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.display_name" class="md-nav__link">
    display_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.is_builtin" class="md-nav__link">
    is_builtin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.is_underscanning" class="md-nav__link">
    is_underscanning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.model" class="md-nav__link">
    model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.serial_number" class="md-nav__link">
    serial_number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.vendor" class="md-nav__link">
    vendor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.get_current_mode" class="md-nav__link">
    get_current_mode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.get_mode_for_resolution" class="md-nav__link">
    get_mode_for_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.get_modes" class="md-nav__link">
    get_modes()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode" class="md-nav__link">
    MonitorMode
  </a>
  
    <nav class="md-nav" aria-label="MonitorMode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.frequency" class="md-nav__link">
    frequency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.height" class="md-nav__link">
    height
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.is_current" class="md-nav__link">
    is_current
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.scale" class="md-nav__link">
    scale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.supported_scale" class="md-nav__link">
    supported_scale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.width" class="md-nav__link">
    width
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig" class="md-nav__link">
    MutterDisplayConfig
  </a>
  
    <nav class="md-nav" aria-label="MutterDisplayConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.PERSISTENT_METHOD" class="md-nav__link">
    PERSISTENT_METHOD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.TEMPORARY_METHOD" class="md-nav__link">
    TEMPORARY_METHOD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.VERIFY_METHOD" class="md-nav__link">
    VERIFY_METHOD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.crtcs" class="md-nav__link">
    crtcs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.dbus_path" class="md-nav__link">
    dbus_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.max_screen_height" class="md-nav__link">
    max_screen_height
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.max_screen_width" class="md-nav__link">
    max_screen_width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.modes" class="md-nav__link">
    modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.namespace" class="md-nav__link">
    namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.outputs" class="md-nav__link">
    outputs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.serial" class="md-nav__link">
    serial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.apply_monitors_config" class="md-nav__link">
    apply_monitors_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.get_mode_for_resolution" class="md-nav__link">
    get_mode_for_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.get_primary_output" class="md-nav__link">
    get_primary_output()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager" class="md-nav__link">
    MutterDisplayManager
  </a>
  
    <nav class="md-nav" aria-label="MutterDisplayManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_current_resolution" class="md-nav__link">
    get_current_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_display_names" class="md-nav__link">
    get_display_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.set_resolution" class="md-nav__link">
    set_resolution()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output" class="md-nav__link">
    Output
  </a>
  
    <nav class="md-nav" aria-label="Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.clones" class="md-nav__link">
    clones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.crtcs" class="md-nav__link">
    crtcs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.current_crtc" class="md-nav__link">
    current_crtc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.display_name" class="md-nav__link">
    display_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.is_primary" class="md-nav__link">
    is_primary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.modes" class="md-nav__link">
    modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.output_id" class="md-nav__link">
    output_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.product" class="md-nav__link">
    product
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.vendor" class="md-nav__link">
    vendor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.winsys_id" class="md-nav__link">
    winsys_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers" class="md-nav__link">
    drivers
  </a>
  
    <nav class="md-nav" aria-label="drivers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.MIN_RECOMMENDED_NVIDIA_DRIVER" class="md-nav__link">
    MIN_RECOMMENDED_NVIDIA_DRIVER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.check_driver" class="md-nav__link">
    check_driver()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_gpu_info" class="md-nav__link">
    get_gpu_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_gpus" class="md-nav__link">
    get_gpus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_nvidia_driver_info" class="md-nav__link">
    get_nvidia_driver_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_nvidia_gpu_ids" class="md-nav__link">
    get_nvidia_gpu_ids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_nvidia_gpu_info" class="md-nav__link">
    get_nvidia_gpu_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.is_amd" class="md-nav__link">
    is_amd()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.is_nvidia" class="md-nav__link">
    is_nvidia()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.is_outdated" class="md-nav__link">
    is_outdated()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo" class="md-nav__link">
    glxinfo
  </a>
  
    <nav class="md-nav" aria-label="glxinfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.Container" class="md-nav__link">
    Container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo" class="md-nav__link">
    GlxInfo
  </a>
  
    <nav class="md-nav" aria-label="GlxInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo.as_dict" class="md-nav__link">
    as_dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo.get_glxinfo_output" class="md-nav__link">
    get_glxinfo_output()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery" class="md-nav__link">
    vkquery
  </a>
  
    <nav class="md-nav" aria-label="vkquery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VK_ERROR_INITIALIZATION_FAILED" class="md-nav__link">
    VK_ERROR_INITIALIZATION_FAILED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VK_STRUCTURE_TYPE_APPLICATION_INFO" class="md-nav__link">
    VK_STRUCTURE_TYPE_APPLICATION_INFO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO" class="md-nav__link">
    VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VK_SUCCESS" class="md-nav__link">
    VK_SUCCESS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkInstance" class="md-nav__link">
    VkInstance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkInstanceCreateFlags" class="md-nav__link">
    VkInstanceCreateFlags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkResult" class="md-nav__link">
    VkResult
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkStructureType" class="md-nav__link">
    VkStructureType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkApplicationInfo" class="md-nav__link">
    VkApplicationInfo
  </a>
  
    <nav class="md-nav" aria-label="VkApplicationInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkApplicationInfo.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkInstanceCreateInfo" class="md-nav__link">
    VkInstanceCreateInfo
  </a>
  
    <nav class="md-nav" aria-label="VkInstanceCreateInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkInstanceCreateInfo.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.is_vulkan_supported" class="md-nav__link">
    is_vulkan_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.vk_make_version" class="md-nav__link">
    vk_make_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xephyr" class="md-nav__link">
    xephyr
  </a>
  
    <nav class="md-nav" aria-label="xephyr">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xephyr.get_xephyr_command" class="md-nav__link">
    get_xephyr_command()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr" class="md-nav__link">
    xrandr
  </a>
  
    <nav class="md-nav" aria-label="xrandr">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager" class="md-nav__link">
    LegacyDisplayManager
  </a>
  
    <nav class="md-nav" aria-label="LegacyDisplayManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_current_resolution" class="md-nav__link">
    get_current_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_display_names" class="md-nav__link">
    get_display_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.set_resolution" class="md-nav__link">
    set_resolution()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.Output" class="md-nav__link">
    Output
  </a>
  
    <nav class="md-nav" aria-label="Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.Output.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.Output.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.Output.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.change_resolution" class="md-nav__link">
    change_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.get_outputs" class="md-nav__link">
    get_outputs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.get_unique_resolutions" class="md-nav__link">
    get_unique_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.turn_off_except" class="md-nav__link">
    turn_off_except()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.http" class="md-nav__link">
    http
  </a>
  
    <nav class="md-nav" aria-label="http">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.DEFAULT_TIMEOUT" class="md-nav__link">
    DEFAULT_TIMEOUT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.HTTPError" class="md-nav__link">
    HTTPError
  </a>
  
    <nav class="md-nav" aria-label="HTTPError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.HTTPError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request" class="md-nav__link">
    Request
  </a>
  
    <nav class="md-nav" aria-label="Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.json" class="md-nav__link">
    json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.text" class="md-nav__link">
    text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.user_agent" class="md-nav__link">
    user_agent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.post" class="md-nav__link">
    post()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.write_to_file" class="md-nav__link">
    write_to_file()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.UnauthorizedAccess" class="md-nav__link">
    UnauthorizedAccess
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.download_file" class="md-nav__link">
    download_file()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.i18n" class="md-nav__link">
    i18n
  </a>
  
    <nav class="md-nav" aria-label="i18n">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.i18n.get_lang" class="md-nav__link">
    get_lang()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.i18n.get_lang_and_country" class="md-nav__link">
    get_lang_and_country()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.i18n.get_user_locale" class="md-nav__link">
    get_user_locale()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.jobs" class="md-nav__link">
    jobs
  </a>
  
    <nav class="md-nav" aria-label="jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.AsyncCall" class="md-nav__link">
    AsyncCall
  </a>
  
    <nav class="md-nav" aria-label="AsyncCall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.AsyncCall.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.AsyncCall.target" class="md-nav__link">
    target()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.synchronized_call" class="md-nav__link">
    synchronized_call()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.thread_safe_call" class="md-nav__link">
    thread_safe_call()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.joypad" class="md-nav__link">
    joypad
  </a>
  
    <nav class="md-nav" aria-label="joypad">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.get_controller_mappings" class="md-nav__link">
    get_controller_mappings()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.get_devices" class="md-nav__link">
    get_devices()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.get_joypads" class="md-nav__link">
    get_joypads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.get_sdl_identifier" class="md-nav__link">
    get_sdl_identifier()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.read_button" class="md-nav__link">
    read_button()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.keyring" class="md-nav__link">
    keyring
  </a>
  
    <nav class="md-nav" aria-label="keyring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.keyring.KEYRING_NAME" class="md-nav__link">
    KEYRING_NAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.keyring.store_credentials" class="md-nav__link">
    store_credentials()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.libretro" class="md-nav__link">
    libretro
  </a>
  
    <nav class="md-nav" aria-label="libretro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig" class="md-nav__link">
    RetroConfig
  </a>
  
    <nav class="md-nav" aria-label="RetroConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.value_map" class="md-nav__link">
    value_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.__getitem__" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.__setitem__" class="md-nav__link">
    __setitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.deserialize_value" class="md-nav__link">
    deserialize_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.keys" class="md-nav__link">
    keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.load_config" class="md-nav__link">
    load_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.serialize_value" class="md-nav__link">
    serialize_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.linux" class="md-nav__link">
    linux
  </a>
  
    <nav class="md-nav" aria-label="linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LINUX_SYSTEM" class="md-nav__link">
    LINUX_SYSTEM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SYSTEM_COMPONENTS" class="md-nav__link">
    SYSTEM_COMPONENTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.linux_distribution" class="md-nav__link">
    linux_distribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem" class="md-nav__link">
    LinuxSystem
  </a>
  
    <nav class="md-nav" aria-label="LinuxSystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.critical_requirements" class="md-nav__link">
    critical_requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.display_server" class="md-nav__link">
    display_server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.flatpak_info_path" class="md-nav__link">
    flatpak_info_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.has_steam" class="md-nav__link">
    has_steam
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.is_flatpak" class="md-nav__link">
    is_flatpak
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.multiarch_lib_folders" class="md-nav__link">
    multiarch_lib_folders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.optional_components" class="md-nav__link">
    optional_components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.recommended_no_file_open" class="md-nav__link">
    recommended_no_file_open
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.required_components" class="md-nav__link">
    required_components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.requirements" class="md-nav__link">
    requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.runtime_architectures" class="md-nav__link">
    runtime_architectures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.soundfont_folders" class="md-nav__link">
    soundfont_folders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.gamemode_available" class="md-nav__link">
    gamemode_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_arch" class="md-nav__link">
    get_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_cpus" class="md-nav__link">
    get_cpus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_dist_info" class="md-nav__link">
    get_dist_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_drives" class="md-nav__link">
    get_drives()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_file_limits" class="md-nav__link">
    get_file_limits()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_fs_type_for_path" class="md-nav__link">
    get_fs_type_for_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_glxinfo" class="md-nav__link">
    get_glxinfo()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_kernel_version" class="md-nav__link">
    get_kernel_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_ldconfig_libs" class="md-nav__link">
    get_ldconfig_libs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_lib_folders" class="md-nav__link">
    get_lib_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_missing_libs" class="md-nav__link">
    get_missing_libs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_missing_requirement_libs" class="md-nav__link">
    get_missing_requirement_libs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_ram_info" class="md-nav__link">
    get_ram_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_requirements" class="md-nav__link">
    get_requirements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_sbin_path" class="md-nav__link">
    get_sbin_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_shared_libraries" class="md-nav__link">
    get_shared_libraries()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_soundfonts" class="md-nav__link">
    get_soundfonts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_terminals" class="md-nav__link">
    get_terminals()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.has_enough_file_descriptors" class="md-nav__link">
    has_enough_file_descriptors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.is_feature_supported" class="md-nav__link">
    is_feature_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.iter_lib_folders" class="md-nav__link">
    iter_lib_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.populate_libraries" class="md-nav__link">
    populate_libraries()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.populate_sound_fonts" class="md-nav__link">
    populate_sound_fonts()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary" class="md-nav__link">
    SharedLibrary
  </a>
  
    <nav class="md-nav" aria-label="SharedLibrary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.arch" class="md-nav__link">
    arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.basename" class="md-nav__link">
    basename
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.default_arch" class="md-nav__link">
    default_arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.dirname" class="md-nav__link">
    dirname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.new_from_ldconfig" class="md-nav__link">
    new_from_ldconfig()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.gather_system_info" class="md-nav__link">
    gather_system_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.gather_system_info_str" class="md-nav__link">
    gather_system_info_str()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.get_default_terminal" class="md-nav__link">
    get_default_terminal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.get_terminal_apps" class="md-nav__link">
    get_terminal_apps()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.log" class="md-nav__link">
    log
  </a>
  
    <nav class="md-nav" aria-label="log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.CACHE_DIR" class="md-nav__link">
    CACHE_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.DEBUG_FORMATTER" class="md-nav__link">
    DEBUG_FORMATTER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.FILE_FORMATTER" class="md-nav__link">
    FILE_FORMATTER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.LOG_BUFFERS" class="md-nav__link">
    LOG_BUFFERS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.LOG_FILENAME" class="md-nav__link">
    LOG_FILENAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.SIMPLE_FORMATTER" class="md-nav__link">
    SIMPLE_FORMATTER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.console_handler" class="md-nav__link">
    console_handler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.loghandler" class="md-nav__link">
    loghandler
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.magic" class="md-nav__link">
    magic
  </a>
  
    <nav class="md-nav" aria-label="magic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_CHECK" class="md-nav__link">
    MAGIC_CHECK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_COMPRESS" class="md-nav__link">
    MAGIC_COMPRESS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_CONTINUE" class="md-nav__link">
    MAGIC_CONTINUE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_DEBUG" class="md-nav__link">
    MAGIC_DEBUG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_DEVICES" class="md-nav__link">
    MAGIC_DEVICES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_ERROR" class="md-nav__link">
    MAGIC_ERROR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_EXTENSION" class="md-nav__link">
    MAGIC_EXTENSION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_MIME" class="md-nav__link">
    MAGIC_MIME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_MIME_ENCODING" class="md-nav__link">
    MAGIC_MIME_ENCODING
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_MIME_TYPE" class="md-nav__link">
    MAGIC_MIME_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NONE" class="md-nav__link">
    MAGIC_NONE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_APPTYPE" class="md-nav__link">
    MAGIC_NO_CHECK_APPTYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_ASCII" class="md-nav__link">
    MAGIC_NO_CHECK_ASCII
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_COMPRESS" class="md-nav__link">
    MAGIC_NO_CHECK_COMPRESS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_ELF" class="md-nav__link">
    MAGIC_NO_CHECK_ELF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_FORTRAN" class="md-nav__link">
    MAGIC_NO_CHECK_FORTRAN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_SOFT" class="md-nav__link">
    MAGIC_NO_CHECK_SOFT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_TAR" class="md-nav__link">
    MAGIC_NO_CHECK_TAR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_TOKENS" class="md-nav__link">
    MAGIC_NO_CHECK_TOKENS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_TROFF" class="md-nav__link">
    MAGIC_NO_CHECK_TROFF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_BYTES_MAX" class="md-nav__link">
    MAGIC_PARAM_BYTES_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_ELF_NOTES_MAX" class="md-nav__link">
    MAGIC_PARAM_ELF_NOTES_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_ELF_PHNUM_MAX" class="md-nav__link">
    MAGIC_PARAM_ELF_PHNUM_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_ELF_SHNUM_MAX" class="md-nav__link">
    MAGIC_PARAM_ELF_SHNUM_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_INDIR_MAX" class="md-nav__link">
    MAGIC_PARAM_INDIR_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_NAME_MAX" class="md-nav__link">
    MAGIC_PARAM_NAME_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_REGEX_MAX" class="md-nav__link">
    MAGIC_PARAM_REGEX_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PRESERVE_ATIME" class="md-nav__link">
    MAGIC_PRESERVE_ATIME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_RAW" class="md-nav__link">
    MAGIC_RAW
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_SYMLINK" class="md-nav__link">
    MAGIC_SYMLINK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.dll" class="md-nav__link">
    dll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.libmagic" class="md-nav__link">
    libmagic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_check" class="md-nav__link">
    magic_check
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_close" class="md-nav__link">
    magic_close
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_compile" class="md-nav__link">
    magic_compile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_errno" class="md-nav__link">
    magic_errno
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_error" class="md-nav__link">
    magic_error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_open" class="md-nav__link">
    magic_open
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_setflags" class="md-nav__link">
    magic_setflags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_t" class="md-nav__link">
    magic_t
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_version" class="md-nav__link">
    magic_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic" class="md-nav__link">
    Magic
  </a>
  
    <nav class="md-nav" aria-label="Magic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.__del__" class="md-nav__link">
    __del__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.from_buffer" class="md-nav__link">
    from_buffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.from_descriptor" class="md-nav__link">
    from_descriptor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.from_file" class="md-nav__link">
    from_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.getparam" class="md-nav__link">
    getparam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.setparam" class="md-nav__link">
    setparam()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MagicException" class="md-nav__link">
    MagicException
  </a>
  
    <nav class="md-nav" aria-label="MagicException">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MagicException.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.coerce_filename" class="md-nav__link">
    coerce_filename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.errorcheck_negative_one" class="md-nav__link">
    errorcheck_negative_one()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.errorcheck_null" class="md-nav__link">
    errorcheck_null()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.from_buffer" class="md-nav__link">
    from_buffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.from_descriptor" class="md-nav__link">
    from_descriptor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.from_file" class="md-nav__link">
    from_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_buffer" class="md-nav__link">
    magic_buffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_descriptor" class="md-nav__link">
    magic_descriptor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_file" class="md-nav__link">
    magic_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_getparam" class="md-nav__link">
    magic_getparam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_load" class="md-nav__link">
    magic_load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_setparam" class="md-nav__link">
    magic_setparam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.maybe_decode" class="md-nav__link">
    maybe_decode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.version" class="md-nav__link">
    version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.mame" class="md-nav__link">
    mame
  </a>
  
    <nav class="md-nav" aria-label="mame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database" class="md-nav__link">
    database
  </a>
  
    <nav class="md-nav" aria-label="database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.CACHE_DIR" class="md-nav__link">
    CACHE_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.get_games" class="md-nav__link">
    get_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.get_machine_info" class="md-nav__link">
    get_machine_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.get_supported_systems" class="md-nav__link">
    get_supported_systems()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.has_software_list" class="md-nav__link">
    has_software_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.is_game" class="md-nav__link">
    is_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.is_system" class="md-nav__link">
    is_system()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.iter_machines" class="md-nav__link">
    iter_machines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.simplify_manufacturer" class="md-nav__link">
    simplify_manufacturer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini" class="md-nav__link">
    ini
  </a>
  
    <nav class="md-nav" aria-label="ini">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni" class="md-nav__link">
    MameIni
  </a>
  
    <nav class="md-nav" aria-label="MameIni">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni.read" class="md-nav__link">
    read()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni.write" class="md-nav__link">
    write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.nvidia" class="md-nav__link">
    nvidia
  </a>
  
    <nav class="md-nav" aria-label="nvidia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.nvidia.RTLD_DI_LINKMAP" class="md-nav__link">
    RTLD_DI_LINKMAP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.nvidia.LinkMap" class="md-nav__link">
    LinkMap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.nvidia.get_nvidia_dll_path" class="md-nav__link">
    get_nvidia_dll_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.nvidia.get_nvidia_glx_path" class="md-nav__link">
    get_nvidia_glx_path()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.process" class="md-nav__link">
    process
  </a>
  
    <nav class="md-nav" aria-label="process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.IGNORED_PROCESSES" class="md-nav__link">
    IGNORED_PROCESSES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.InvalidPid" class="md-nav__link">
    InvalidPid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process" class="md-nav__link">
    Process
  </a>
  
    <nav class="md-nav" aria-label="Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.children" class="md-nav__link">
    children
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.cmdline" class="md-nav__link">
    cmdline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.cwd" class="md-nav__link">
    cwd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.environ" class="md-nav__link">
    environ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.state" class="md-nav__link">
    state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.get_children_pids_of_thread" class="md-nav__link">
    get_children_pids_of_thread()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.get_stat" class="md-nav__link">
    get_stat()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.get_thread_ids" class="md-nav__link">
    get_thread_ids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.iter_children" class="md-nav__link">
    iter_children()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.wait_for_finish" class="md-nav__link">
    wait_for_finish()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.process_watcher" class="md-nav__link">
    process_watcher
  </a>
  
    <nav class="md-nav" aria-label="process_watcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.SYSTEM_PROCESSES" class="md-nav__link">
    SYSTEM_PROCESSES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher" class="md-nav__link">
    ProcessWatcher
  </a>
  
    <nav class="md-nav" aria-label="ProcessWatcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.is_alive" class="md-nav__link">
    is_alive()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.iterate_children" class="md-nav__link">
    iterate_children()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.iterate_processes" class="md-nav__link">
    iterate_processes()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.parse_process_list" class="md-nav__link">
    parse_process_list()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.resources" class="md-nav__link">
    resources
  </a>
  
    <nav class="md-nav" aria-label="resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.resources.get_icon_path" class="md-nav__link">
    get_icon_path()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.settings" class="md-nav__link">
    settings
  </a>
  
    <nav class="md-nav" aria-label="settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.settings.SettingsIO" class="md-nav__link">
    SettingsIO
  </a>
  
    <nav class="md-nav" aria-label="SettingsIO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.settings.SettingsIO.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.settings.SettingsIO.read_setting" class="md-nav__link">
    read_setting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.settings.SettingsIO.write_setting" class="md-nav__link">
    write_setting()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.shell" class="md-nav__link">
    shell
  </a>
  
    <nav class="md-nav" aria-label="shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.shell.get_bash_rc_file" class="md-nav__link">
    get_bash_rc_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.shell.get_shell_command" class="md-nav__link">
    get_shell_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.shell.get_terminal_script" class="md-nav__link">
    get_terminal_script()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.steam" class="md-nav__link">
    steam
  </a>
  
    <nav class="md-nav" aria-label="steam">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest" class="md-nav__link">
    appmanifest
  </a>
  
    <nav class="md-nav" aria-label="appmanifest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.APP_STATE_FLAGS" class="md-nav__link">
    APP_STATE_FLAGS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest" class="md-nav__link">
    AppManifest
  </a>
  
    <nav class="md-nav" aria-label="AppManifest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.app_state" class="md-nav__link">
    app_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.installdir" class="md-nav__link">
    installdir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.slug" class="md-nav__link">
    slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.states" class="md-nav__link">
    states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.user_config" class="md-nav__link">
    user_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.get_install_path" class="md-nav__link">
    get_install_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.get_appmanifest_from_appid" class="md-nav__link">
    get_appmanifest_from_appid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.get_appmanifests" class="md-nav__link">
    get_appmanifests()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.get_path_from_appmanifest" class="md-nav__link">
    get_path_from_appmanifest()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config" class="md-nav__link">
    config
  </a>
  
    <nav class="md-nav" aria-label="config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.STEAM_DATA_DIRS" class="md-nav__link">
    STEAM_DATA_DIRS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_config_value" class="md-nav__link">
    get_config_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_default_acf" class="md-nav__link">
    get_default_acf()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_steam_dir" class="md-nav__link">
    get_steam_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_steam_library" class="md-nav__link">
    get_steam_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_steamapps_paths" class="md-nav__link">
    get_steamapps_paths()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_user_steam_id" class="md-nav__link">
    get_user_steam_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.read_config" class="md-nav__link">
    read_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.read_library_folders" class="md-nav__link">
    read_library_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.read_user_config" class="md-nav__link">
    read_user_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.search_in_steam_dirs" class="md-nav__link">
    search_in_steam_dirs()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.log" class="md-nav__link">
    log
  </a>
  
    <nav class="md-nav" aria-label="log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.log.get_app_log" class="md-nav__link">
    get_app_log()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.log.get_app_state_log" class="md-nav__link">
    get_app_state_log()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.vdf" class="md-nav__link">
    vdf
  </a>
  
    <nav class="md-nav" aria-label="vdf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.vdf.to_vdf" class="md-nav__link">
    to_vdf()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.vdf.vdf_parse" class="md-nav__link">
    vdf_parse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.vdf.vdf_write" class="md-nav__link">
    vdf_write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.watcher" class="md-nav__link">
    watcher
  </a>
  
    <nav class="md-nav" aria-label="watcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.watcher.SteamWatcher" class="md-nav__link">
    SteamWatcher
  </a>
  
    <nav class="md-nav" aria-label="SteamWatcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.watcher.SteamWatcher.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.strings" class="md-nav__link">
    strings
  </a>
  
    <nav class="md-nav" aria-label="strings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.NO_PLAYTIME" class="md-nav__link">
    NO_PLAYTIME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.add_url_tags" class="md-nav__link">
    add_url_tags()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.get_formatted_playtime" class="md-nav__link">
    get_formatted_playtime()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.gtk_safe" class="md-nav__link">
    gtk_safe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.human_size" class="md-nav__link">
    human_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.lookup_string_in_text" class="md-nav__link">
    lookup_string_in_text()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.parse_version" class="md-nav__link">
    parse_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.slugify" class="md-nav__link">
    slugify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.split_arguments" class="md-nav__link">
    split_arguments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.unpack_dependencies" class="md-nav__link">
    unpack_dependencies()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.version_sort" class="md-nav__link">
    version_sort()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.system" class="md-nav__link">
    system
  </a>
  
    <nav class="md-nav" aria-label="system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.PROTECTED_HOME_FOLDERS" class="md-nav__link">
    PROTECTED_HOME_FOLDERS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.create_folder" class="md-nav__link">
    create_folder()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.execute" class="md-nav__link">
    execute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.find_executable" class="md-nav__link">
    find_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.find_mount_point" class="md-nav__link">
    find_mount_point()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.fix_path_case" class="md-nav__link">
    fix_path_case()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_disk_size" class="md-nav__link">
    get_disk_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_drive_for_path" class="md-nav__link">
    get_drive_for_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_existing_parent" class="md-nav__link">
    get_existing_parent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_file_checksum" class="md-nav__link">
    get_file_checksum()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_md5_hash" class="md-nav__link">
    get_md5_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_mounted_discs" class="md-nav__link">
    get_mounted_discs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_mountpoint_drives" class="md-nav__link">
    get_mountpoint_drives()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_pid" class="md-nav__link">
    get_pid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_pids_using_file" class="md-nav__link">
    get_pids_using_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_running_pid_list" class="md-nav__link">
    get_running_pid_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.is_executable" class="md-nav__link">
    is_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.is_removeable" class="md-nav__link">
    is_removeable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.kill_pid" class="md-nav__link">
    kill_pid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.list_unique_folders" class="md-nav__link">
    list_unique_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.make_executable" class="md-nav__link">
    make_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.merge_folders" class="md-nav__link">
    merge_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.path_exists" class="md-nav__link">
    path_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.python_identifier" class="md-nav__link">
    python_identifier()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.read_process_output" class="md-nav__link">
    read_process_output()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.remove_folder" class="md-nav__link">
    remove_folder()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.reset_library_preloads" class="md-nav__link">
    reset_library_preloads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.reverse_expanduser" class="md-nav__link">
    reverse_expanduser()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.substitute" class="md-nav__link">
    substitute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.update_desktop_icons" class="md-nav__link">
    update_desktop_icons()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.test_config" class="md-nav__link">
    test_config
  </a>
  
    <nav class="md-nav" aria-label="test_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.test_config.setup_test_environment" class="md-nav__link">
    setup_test_environment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.timer" class="md-nav__link">
    timer
  </a>
  
    <nav class="md-nav" aria-label="timer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer" class="md-nav__link">
    Timer
  </a>
  
    <nav class="md-nav" aria-label="Timer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer.duration" class="md-nav__link">
    duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer.end" class="md-nav__link">
    end()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.update_cache" class="md-nav__link">
    update_cache
  </a>
  
    <nav class="md-nav" aria-label="update_cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.DATE_FORMAT" class="md-nav__link">
    DATE_FORMAT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.UPDATE_CACHE_PATH" class="md-nav__link">
    UPDATE_CACHE_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.get_last_call" class="md-nav__link">
    get_last_call()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.read_date_from_cache" class="md-nav__link">
    read_date_from_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.write_date_to_cache" class="md-nav__link">
    write_date_to_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.urlhandler" class="md-nav__link">
    urlhandler
  </a>
  
    <nav class="md-nav" aria-label="urlhandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.urlhandler.register_url_handler" class="md-nav__link">
    register_url_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall" class="md-nav__link">
    cabinstall
  </a>
  
    <nav class="md-nav" aria-label="cabinstall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller" class="md-nav__link">
    CabInstaller
  </a>
  
    <nav class="md-nav" aria-label="CabInstaller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.apply_to_registry" class="md-nav__link">
    apply_to_registry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.check_dll_arch" class="md-nav__link">
    check_dll_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.cleanup" class="md-nav__link">
    cleanup()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.extract_from_cab" class="md-nav__link">
    extract_from_cab()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_arch_from_dll" class="md-nav__link">
    get_arch_from_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_arch_from_manifest" class="md-nav__link">
    get_arch_from_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_dll_destdir" class="md-nav__link">
    get_dll_destdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_registry_files" class="md-nav__link">
    get_registry_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_registry_from_manifest" class="md-nav__link">
    get_registry_from_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_system32_realdir" class="md-nav__link">
    get_system32_realdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_winebin" class="md-nav__link">
    get_winebin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_wineprefix_arch" class="md-nav__link">
    get_wineprefix_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.install_dll" class="md-nav__link">
    install_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.process_key" class="md-nav__link">
    process_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.process_value" class="md-nav__link">
    process_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.replace_variables" class="md-nav__link">
    replace_variables()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras" class="md-nav__link">
    d3d_extras
  </a>
  
    <nav class="md-nav" aria-label="d3d_extras">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager" class="md-nav__link">
    D3DExtrasManager
  </a>
  
    <nav class="md-nav" aria-label="D3DExtrasManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2" class="md-nav__link">
    dgvoodoo2
  </a>
  
    <nav class="md-nav" aria-label="dgvoodoo2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager" class="md-nav__link">
    dgvoodoo2Manager
  </a>
  
    <nav class="md-nav" aria-label="dgvoodoo2Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.managed_appdata_files" class="md-nav__link">
    managed_appdata_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager" class="md-nav__link">
    dll_manager
  </a>
  
    <nav class="md-nav" aria-label="dll_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager" class="md-nav__link">
    DLLManager
  </a>
  
    <nav class="md-nav" aria-label="DLLManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.archs" class="md-nav__link">
    archs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.managed_appdata_files" class="md-nav__link">
    managed_appdata_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.version_choices" class="md-nav__link">
    version_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.versions" class="md-nav__link">
    versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.disable" class="md-nav__link">
    disable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.disable_dll" class="md-nav__link">
    disable_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.disable_user_file" class="md-nav__link">
    disable_user_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.dll_exists" class="md-nav__link">
    dll_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.download" class="md-nav__link">
    download()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.enable" class="md-nav__link">
    enable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.enable_dll" class="md-nav__link">
    enable_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.enable_user_file" class="md-nav__link">
    enable_user_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.fetch_versions" class="md-nav__link">
    fetch_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.get_download_url" class="md-nav__link">
    get_download_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.is_available" class="md-nav__link">
    is_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.is_managed_dll" class="md-nav__link">
    is_managed_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.load_versions" class="md-nav__link">
    load_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.upgrade" class="md-nav__link">
    upgrade()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk" class="md-nav__link">
    dxvk
  </a>
  
    <nav class="md-nav" aria-label="dxvk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager" class="md-nav__link">
    DXVKManager
  </a>
  
    <nav class="md-nav" aria-label="DXVKManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.is_managed_dll" class="md-nav__link">
    is_managed_dll()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi" class="md-nav__link">
    dxvk_nvapi
  </a>
  
    <nav class="md-nav" aria-label="dxvk_nvapi">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager" class="md-nav__link">
    DXVKNVAPIManager
  </a>
  
    <nav class="md-nav" aria-label="DXVKNVAPIManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.dlss_dlls" class="md-nav__link">
    dlss_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.disable" class="md-nav__link">
    disable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.disable_dll" class="md-nav__link">
    disable_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.enable" class="md-nav__link">
    enable()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync" class="md-nav__link">
    fsync
  </a>
  
    <nav class="md-nav" aria-label="fsync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.__all__" class="md-nav__link">
    __all__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.futex_waitv" class="md-nav__link">
    futex_waitv
  </a>
  
    <nav class="md-nav" aria-label="futex_waitv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.futex_waitv.__slots__" class="md-nav__link">
    __slots__
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.timespec" class="md-nav__link">
    timespec
  </a>
  
    <nav class="md-nav" aria-label="timespec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.timespec.__slots__" class="md-nav__link">
    __slots__
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.is_fsync_supported" class="md-nav__link">
    is_fsync_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.is_futex2_supported" class="md-nav__link">
    is_futex2_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.is_futex_wait_multiple_supported" class="md-nav__link">
    is_futex_wait_multiple_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.is_futex_waitv_supported" class="md-nav__link">
    is_futex_waitv_supported()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix" class="md-nav__link">
    prefix
  </a>
  
    <nav class="md-nav" aria-label="prefix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.DEFAULT_DESKTOP_FOLDERS" class="md-nav__link">
    DEFAULT_DESKTOP_FOLDERS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.DEFAULT_DLL_OVERRIDES" class="md-nav__link">
    DEFAULT_DLL_OVERRIDES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.DESKTOP_KEYS" class="md-nav__link">
    DESKTOP_KEYS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.DESKTOP_XDG" class="md-nav__link">
    DESKTOP_XDG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager" class="md-nav__link">
    WinePrefixManager
  </a>
  
    <nav class="md-nav" aria-label="WinePrefixManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.appdata_dir" class="md-nav__link">
    appdata_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.hkcu_prefix" class="md-nav__link">
    hkcu_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.hklm_prefix" class="md-nav__link">
    hklm_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.user_dir" class="md-nav__link">
    user_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.clear_registry_key" class="md-nav__link">
    clear_registry_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.clear_registry_subkeys" class="md-nav__link">
    clear_registry_subkeys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.configure_joypads" class="md-nav__link">
    configure_joypads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.desktop_integration" class="md-nav__link">
    desktop_integration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.get_desktop_folders" class="md-nav__link">
    get_desktop_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.get_key_path" class="md-nav__link">
    get_key_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.get_registry_key" class="md-nav__link">
    get_registry_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.get_registry_path" class="md-nav__link">
    get_registry_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.override_dll" class="md-nav__link">
    override_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_crash_dialogs" class="md-nav__link">
    set_crash_dialogs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_desktop_size" class="md-nav__link">
    set_desktop_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_dpi" class="md-nav__link">
    set_dpi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_registry_key" class="md-nav__link">
    set_registry_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_virtual_desktop" class="md-nav__link">
    set_virtual_desktop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.setup_defaults" class="md-nav__link">
    setup_defaults()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.find_prefix" class="md-nav__link">
    find_prefix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.is_prefix" class="md-nav__link">
    is_prefix()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry" class="md-nav__link">
    registry
  </a>
  
    <nav class="md-nav" aria-label="registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.DATA_TYPES" class="md-nav__link">
    DATA_TYPES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_BINARY" class="md-nav__link">
    REG_BINARY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_DWORD" class="md-nav__link">
    REG_DWORD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_DWORD_BIG_ENDIAN" class="md-nav__link">
    REG_DWORD_BIG_ENDIAN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_EXPAND_SZ" class="md-nav__link">
    REG_EXPAND_SZ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_LINK" class="md-nav__link">
    REG_LINK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_MULTI_SZ" class="md-nav__link">
    REG_MULTI_SZ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_NONE" class="md-nav__link">
    REG_NONE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_SZ" class="md-nav__link">
    REG_SZ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime" class="md-nav__link">
    WindowsFileTime
  </a>
  
    <nav class="md-nav" aria-label="WindowsFileTime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.epoch_delta" class="md-nav__link">
    epoch_delta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.ticks_per_seconds" class="md-nav__link">
    ticks_per_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.from_hex" class="md-nav__link">
    from_hex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.from_unix_timestamp" class="md-nav__link">
    from_unix_timestamp()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.to_date_time" class="md-nav__link">
    to_date_time()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.to_hex" class="md-nav__link">
    to_hex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.to_unix_timestamp" class="md-nav__link">
    to_unix_timestamp()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry" class="md-nav__link">
    WineRegistry
  </a>
  
    <nav class="md-nav" aria-label="WineRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.prefix_path" class="md-nav__link">
    prefix_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.relative_to_header" class="md-nav__link">
    relative_to_header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.version_header" class="md-nav__link">
    version_header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.clear_key" class="md-nav__link">
    clear_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.clear_subkeys" class="md-nav__link">
    clear_subkeys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.get_raw_registry" class="md-nav__link">
    get_raw_registry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.get_unix_path" class="md-nav__link">
    get_unix_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.parse_reg_file" class="md-nav__link">
    parse_reg_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.query" class="md-nav__link">
    query()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.render" class="md-nav__link">
    render()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.set_value" class="md-nav__link">
    set_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey" class="md-nav__link">
    WineRegistryKey
  </a>
  
    <nav class="md-nav" aria-label="WineRegistryKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.add_meta" class="md-nav__link">
    add_meta()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.add_to_last" class="md-nav__link">
    add_to_last()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.decode_unicode" class="md-nav__link">
    decode_unicode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.get_meta" class="md-nav__link">
    get_meta()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.get_subkey" class="md-nav__link">
    get_subkey()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.render" class="md-nav__link">
    render()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.render_value" class="md-nav__link">
    render_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.set_subkey" class="md-nav__link">
    set_subkey()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d" class="md-nav__link">
    vkd3d
  </a>
  
    <nav class="md-nav" aria-label="vkd3d">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager" class="md-nav__link">
    VKD3DManager
  </a>
  
    <nav class="md-nav" aria-label="VKD3DManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.ESYNC_LIMIT_CHECK" class="md-nav__link">
    ESYNC_LIMIT_CHECK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.FSYNC_SUPPORT_CHECK" class="md-nav__link">
    FSYNC_SUPPORT_CHECK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.POL_PATH" class="md-nav__link">
    POL_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.WINE_DEFAULT_ARCH" class="md-nav__link">
    WINE_DEFAULT_ARCH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.WINE_DIR" class="md-nav__link">
    WINE_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.WINE_PATHS" class="md-nav__link">
    WINE_PATHS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.detect_arch" class="md-nav__link">
    detect_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.detect_prefix_arch" class="md-nav__link">
    detect_prefix_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.display_vulkan_error" class="md-nav__link">
    display_vulkan_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.esync_display_limit_warning" class="md-nav__link">
    esync_display_limit_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.esync_display_version_warning" class="md-nav__link">
    esync_display_version_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.fsync_display_support_warning" class="md-nav__link">
    fsync_display_support_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.fsync_display_version_warning" class="md-nav__link">
    fsync_display_version_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_default_version" class="md-nav__link">
    get_default_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_lutris_wine_versions" class="md-nav__link">
    get_lutris_wine_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_overrides_env" class="md-nav__link">
    get_overrides_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_playonlinux" class="md-nav__link">
    get_playonlinux()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_pol_wine_versions" class="md-nav__link">
    get_pol_wine_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_proton_paths" class="md-nav__link">
    get_proton_paths()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_proton_versions" class="md-nav__link">
    get_proton_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_real_executable" class="md-nav__link">
    get_real_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_system_wine_versions" class="md-nav__link">
    get_system_wine_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_wine_version" class="md-nav__link">
    get_wine_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_wine_version_exe" class="md-nav__link">
    get_wine_version_exe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_wine_versions" class="md-nav__link">
    get_wine_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_esync_limit_set" class="md-nav__link">
    is_esync_limit_set()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_fsync_supported" class="md-nav__link">
    is_fsync_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_gstreamer_build" class="md-nav__link">
    is_gstreamer_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_installed_systemwide" class="md-nav__link">
    is_installed_systemwide()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_mingw_build" class="md-nav__link">
    is_mingw_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_version_esync" class="md-nav__link">
    is_version_esync()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_version_fsync" class="md-nav__link">
    is_version_fsync()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_version_installed" class="md-nav__link">
    is_version_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.set_drive_path" class="md-nav__link">
    set_drive_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.use_lutris_runtime" class="md-nav__link">
    use_lutris_runtime()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts" class="md-nav__link">
    xdgshortcuts
  </a>
  
    <nav class="md-nav" aria-label="xdgshortcuts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.create_launcher" class="md-nav__link">
    create_launcher()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.desktop_launcher_exists" class="md-nav__link">
    desktop_launcher_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.get_launcher_path" class="md-nav__link">
    get_launcher_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.get_menu_launcher_path" class="md-nav__link">
    get_menu_launcher_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.get_xdg_basename" class="md-nav__link">
    get_xdg_basename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.get_xdg_entry" class="md-nav__link">
    get_xdg_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.menu_launcher_exists" class="md-nav__link">
    menu_launcher_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.remove_launcher" class="md-nav__link">
    remove_launcher()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.yaml" class="md-nav__link">
    yaml
  </a>
  
    <nav class="md-nav" aria-label="yaml">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.yaml.read_yaml_from_file" class="md-nav__link">
    read_yaml_from_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.yaml.write_yaml_to_file" class="md-nav__link">
    write_yaml_to_file()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="audio/" class="md-nav__link">
        audio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="cookies/" class="md-nav__link">
        cookies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="datapath/" class="md-nav__link">
        datapath
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="display/" class="md-nav__link">
        display
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_6" type="checkbox" id="__nav_3_1_23_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_6">
          dolphin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="dolphin" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_6">
          <span class="md-nav__icon md-icon"></span>
          dolphin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="dolphin/" class="md-nav__link">
        Dolphin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="dolphin/cache_reader/" class="md-nav__link">
        cache_reader
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="downloader/" class="md-nav__link">
        downloader
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_8" type="checkbox" id="__nav_3_1_23_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_8">
          egs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="egs" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_8">
          <span class="md-nav__icon md-icon"></span>
          egs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="egs/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="egs/egs_launcher/" class="md-nav__link">
        egs_launcher
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="extract/" class="md-nav__link">
        extract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="fileio/" class="md-nav__link">
        fileio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="game_finder/" class="md-nav__link">
        game_finder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="gamecontrollerdb/" class="md-nav__link">
        gamecontrollerdb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="gog/" class="md-nav__link">
        gog
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_14" type="checkbox" id="__nav_3_1_23_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_14">
          graphics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="graphics" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_14">
          <span class="md-nav__icon md-icon"></span>
          graphics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="graphics/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="graphics/displayconfig/" class="md-nav__link">
        displayconfig
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="graphics/drivers/" class="md-nav__link">
        drivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="graphics/glxinfo/" class="md-nav__link">
        glxinfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="graphics/vkquery/" class="md-nav__link">
        vkquery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="graphics/xephyr/" class="md-nav__link">
        xephyr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="graphics/xrandr/" class="md-nav__link">
        xrandr
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="http/" class="md-nav__link">
        http
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="i18n/" class="md-nav__link">
        i18n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="jobs/" class="md-nav__link">
        jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="joypad/" class="md-nav__link">
        joypad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="keyring/" class="md-nav__link">
        keyring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="libretro/" class="md-nav__link">
        libretro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="linux/" class="md-nav__link">
        linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="magic/" class="md-nav__link">
        magic
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_24" type="checkbox" id="__nav_3_1_23_24" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_24">
          mame
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="mame" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_24">
          <span class="md-nav__icon md-icon"></span>
          mame
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mame/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mame/database/" class="md-nav__link">
        database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mame/ini/" class="md-nav__link">
        ini
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="nvidia/" class="md-nav__link">
        nvidia
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="process/" class="md-nav__link">
        process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="process_watcher/" class="md-nav__link">
        process_watcher
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="resources/" class="md-nav__link">
        resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_29" type="checkbox" id="__nav_3_1_23_29" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_29">
          retroarch
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="retroarch" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_29">
          <span class="md-nav__icon md-icon"></span>
          retroarch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="retroarch/core_config/" class="md-nav__link">
        core_config
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="settings/" class="md-nav__link">
        settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="shell/" class="md-nav__link">
        shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_32" type="checkbox" id="__nav_3_1_23_32" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_32">
          steam
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="steam" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_32">
          <span class="md-nav__icon md-icon"></span>
          steam
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steam/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steam/appmanifest/" class="md-nav__link">
        appmanifest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steam/config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steam/log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steam/vdf/" class="md-nav__link">
        vdf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="steam/watcher/" class="md-nav__link">
        watcher
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="strings/" class="md-nav__link">
        strings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="system/" class="md-nav__link">
        system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="test_config/" class="md-nav__link">
        test_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="timer/" class="md-nav__link">
        timer
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_37" type="checkbox" id="__nav_3_1_23_37" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_37">
          ubisoft
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ubisoft" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_37">
          <span class="md-nav__icon md-icon"></span>
          ubisoft
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ubisoft/client/" class="md-nav__link">
        client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ubisoft/consts/" class="md-nav__link">
        consts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ubisoft/helpers/" class="md-nav__link">
        helpers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ubisoft/parser/" class="md-nav__link">
        parser
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="update_cache/" class="md-nav__link">
        update_cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="urlhandler/" class="md-nav__link">
        urlhandler
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_23_40" type="checkbox" id="__nav_3_1_23_40" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_23_40">
          wine
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="wine" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_1_23_40">
          <span class="md-nav__icon md-icon"></span>
          wine
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/cabinstall/" class="md-nav__link">
        cabinstall
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/d3d_extras/" class="md-nav__link">
        d3d_extras
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/dgvoodoo2/" class="md-nav__link">
        dgvoodoo2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/dll_manager/" class="md-nav__link">
        dll_manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/dxvk/" class="md-nav__link">
        dxvk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/dxvk_nvapi/" class="md-nav__link">
        dxvk_nvapi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/fsync/" class="md-nav__link">
        fsync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/prefix/" class="md-nav__link">
        prefix
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/registry/" class="md-nav__link">
        registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/vkd3d/" class="md-nav__link">
        vkd3d
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="wine/wine/" class="md-nav__link">
        wine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xdgshortcuts/" class="md-nav__link">
        xdgshortcuts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="yaml/" class="md-nav__link">
        yaml
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lutris.util" class="md-nav__link">
    lutris.util
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.selective_merge" class="md-nav__link">
    selective_merge()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.audio" class="md-nav__link">
    audio
  </a>
  
    <nav class="md-nav" aria-label="audio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.audio.reset_pulse" class="md-nav__link">
    reset_pulse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.cookies" class="md-nav__link">
    cookies
  </a>
  
    <nav class="md-nav" aria-label="cookies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.cookies.WebkitCookieJar" class="md-nav__link">
    WebkitCookieJar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.datapath" class="md-nav__link">
    datapath
  </a>
  
    <nav class="md-nav" aria-label="datapath">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.datapath.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.display" class="md-nav__link">
    display
  </a>
  
    <nav class="md-nav" aria-label="display">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBUS_AVAILABLE" class="md-nav__link">
    DBUS_AVAILABLE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DISPLAY_MANAGER" class="md-nav__link">
    DISPLAY_MANAGER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.GnomeDesktop" class="md-nav__link">
    GnomeDesktop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.LIB_GNOME_DESKTOP_AVAILABLE" class="md-nav__link">
    LIB_GNOME_DESKTOP_AVAILABLE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.SCREEN_SAVER_INHIBITOR" class="md-nav__link">
    SCREEN_SAVER_INHIBITOR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.USE_DRI_PRIME" class="md-nav__link">
    USE_DRI_PRIME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBusScreenSaverInhibitor" class="md-nav__link">
    DBusScreenSaverInhibitor
  </a>
  
    <nav class="md-nav" aria-label="DBusScreenSaverInhibitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBusScreenSaverInhibitor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBusScreenSaverInhibitor.inhibit" class="md-nav__link">
    inhibit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DBusScreenSaverInhibitor.uninhibit" class="md-nav__link">
    uninhibit()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment" class="md-nav__link">
    DesktopEnvironment
  </a>
  
    <nav class="md-nav" aria-label="DesktopEnvironment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.DEEPIN" class="md-nav__link">
    DEEPIN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.MATE" class="md-nav__link">
    MATE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.PLASMA" class="md-nav__link">
    PLASMA
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.UNKNOWN" class="md-nav__link">
    UNKNOWN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DesktopEnvironment.XFCE" class="md-nav__link">
    XFCE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager" class="md-nav__link">
    DisplayManager
  </a>
  
    <nav class="md-nav" aria-label="DisplayManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.get_current_resolution" class="md-nav__link">
    get_current_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.get_display_names" class="md-nav__link">
    get_display_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.DisplayManager.set_resolution" class="md-nav__link">
    set_resolution()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.NoScreenDetected" class="md-nav__link">
    NoScreenDetected
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.disable_compositing" class="md-nav__link">
    disable_compositing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.enable_compositing" class="md-nav__link">
    enable_compositing()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.get_default_dpi" class="md-nav__link">
    get_default_dpi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.get_desktop_environment" class="md-nav__link">
    get_desktop_environment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.get_display_manager" class="md-nav__link">
    get_display_manager()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.is_compositing_enabled" class="md-nav__link">
    is_compositing_enabled()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.display.restore_gamma" class="md-nav__link">
    restore_gamma()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.dolphin" class="md-nav__link">
    dolphin
  </a>
  
    <nav class="md-nav" aria-label="dolphin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader" class="md-nav__link">
    cache_reader
  </a>
  
    <nav class="md-nav" aria-label="cache_reader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.CACHE_REVISION" class="md-nav__link">
    CACHE_REVISION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DOLPHIN_GAME_CACHE_FILE" class="md-nav__link">
    DOLPHIN_GAME_CACHE_FILE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader" class="md-nav__link">
    DolphinCacheReader
  </a>
  
    <nav class="md-nav" aria-label="DolphinCacheReader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.header_size" class="md-nav__link">
    header_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.structure" class="md-nav__link">
    structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_array" class="md-nav__link">
    get_array()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_boolean" class="md-nav__link">
    get_boolean()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_cover" class="md-nav__link">
    get_cover()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_game" class="md-nav__link">
    get_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_games" class="md-nav__link">
    get_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_image" class="md-nav__link">
    get_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_raw" class="md-nav__link">
    get_raw()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_string" class="md-nav__link">
    get_string()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.get_hex_string" class="md-nav__link">
    get_hex_string()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.dolphin.cache_reader.get_word_len" class="md-nav__link">
    get_word_len()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.downloader" class="md-nav__link">
    downloader
  </a>
  
    <nav class="md-nav" aria-label="downloader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.get_time" class="md-nav__link">
    get_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader" class="md-nav__link">
    Downloader
  </a>
  
    <nav class="md-nav" aria-label="Downloader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.CANCELLED" class="md-nav__link">
    CANCELLED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.COMPLETED" class="md-nav__link">
    COMPLETED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.DOWNLOADING" class="md-nav__link">
    DOWNLOADING
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.ERROR" class="md-nav__link">
    ERROR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.INIT" class="md-nav__link">
    INIT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.async_download" class="md-nav__link">
    async_download()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.cancel" class="md-nav__link">
    cancel()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.check_progress" class="md-nav__link">
    check_progress()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.download_cb" class="md-nav__link">
    download_cb()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.get_average_time_left" class="md-nav__link">
    get_average_time_left()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.get_speed" class="md-nav__link">
    get_speed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.get_stats" class="md-nav__link">
    get_stats()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.reset" class="md-nav__link">
    reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.downloader.Downloader.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.egs" class="md-nav__link">
    egs
  </a>
  
    <nav class="md-nav" aria-label="egs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher" class="md-nav__link">
    egs_launcher
  </a>
  
    <nav class="md-nav" aria-label="egs_launcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher.EGSLauncher" class="md-nav__link">
    EGSLauncher
  </a>
  
    <nav class="md-nav" aria-label="EGSLauncher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher.EGSLauncher.manifests_paths" class="md-nav__link">
    manifests_paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher.EGSLauncher.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.egs.egs_launcher.EGSLauncher.iter_manifests" class="md-nav__link">
    iter_manifests()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.extract" class="md-nav__link">
    extract
  </a>
  
    <nav class="md-nav" aria-label="extract">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.ExtractFailure" class="md-nav__link">
    ExtractFailure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.check_inno_exe" class="md-nav__link">
    check_inno_exe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.decompress_gog" class="md-nav__link">
    decompress_gog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.decompress_gz" class="md-nav__link">
    decompress_gz()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_7zip" class="md-nav__link">
    extract_7zip()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_archive" class="md-nav__link">
    extract_archive()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_deb" class="md-nav__link">
    extract_deb()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_exe" class="md-nav__link">
    extract_exe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.extract_gog" class="md-nav__link">
    extract_gog()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.get_archive_opener" class="md-nav__link">
    get_archive_opener()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.get_innoextract_list" class="md-nav__link">
    get_innoextract_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.get_innoextract_path" class="md-nav__link">
    get_innoextract_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.guess_extractor" class="md-nav__link">
    guess_extractor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.is_7zip_supported" class="md-nav__link">
    is_7zip_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.extract.random_id" class="md-nav__link">
    random_id()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.fileio" class="md-nav__link">
    fileio
  </a>
  
    <nav class="md-nav" aria-label="fileio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.EvilConfigParser" class="md-nav__link">
    EvilConfigParser
  </a>
  
    <nav class="md-nav" aria-label="EvilConfigParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.EvilConfigParser.OPTCRE" class="md-nav__link">
    OPTCRE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.EvilConfigParser.OPTCRE_NV" class="md-nav__link">
    OPTCRE_NV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.EvilConfigParser.write" class="md-nav__link">
    write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.MultiOrderedDict" class="md-nav__link">
    MultiOrderedDict
  </a>
  
    <nav class="md-nav" aria-label="MultiOrderedDict">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.fileio.MultiOrderedDict.__setitem__" class="md-nav__link">
    __setitem__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.game_finder" class="md-nav__link">
    game_finder
  </a>
  
    <nav class="md-nav" aria-label="game_finder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.find_linux_game_executable" class="md-nav__link">
    find_linux_game_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.find_windows_game_executable" class="md-nav__link">
    find_windows_game_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.is_excluded_dir" class="md-nav__link">
    is_excluded_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.is_excluded_elf" class="md-nav__link">
    is_excluded_elf()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.game_finder.is_excluded_exe" class="md-nav__link">
    is_excluded_exe()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb" class="md-nav__link">
    gamecontrollerdb
  </a>
  
    <nav class="md-nav" aria-label="gamecontrollerdb">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping" class="md-nav__link">
    ControllerMapping
  </a>
  
    <nav class="md-nav" aria-label="ControllerMapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping.valid_keys" class="md-nav__link">
    valid_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.ControllerMapping.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB" class="md-nav__link">
    GameControllerDB
  </a>
  
    <nav class="md-nav" aria-label="GameControllerDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.db_path" class="md-nav__link">
    db_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.__getitem__" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gamecontrollerdb.GameControllerDB.parsedb" class="md-nav__link">
    parsedb()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.gog" class="md-nav__link">
    gog
  </a>
  
    <nav class="md-nav" aria-label="gog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.convert_gog_config_to_lutris" class="md-nav__link">
    convert_gog_config_to_lutris()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.get_game_config" class="md-nav__link">
    get_game_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.get_gog_config" class="md-nav__link">
    get_gog_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.get_gog_config_from_path" class="md-nav__link">
    get_gog_config_from_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.gog.get_gog_game_path" class="md-nav__link">
    get_gog_game_path()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.graphics" class="md-nav__link">
    graphics
  </a>
  
    <nav class="md-nav" aria-label="graphics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig" class="md-nav__link">
    displayconfig
  </a>
  
    <nav class="md-nav" aria-label="displayconfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC" class="md-nav__link">
    CRTC
  </a>
  
    <nav class="md-nav" aria-label="CRTC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.current_mode" class="md-nav__link">
    current_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.current_transform" class="md-nav__link">
    current_transform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.geometry" class="md-nav__link">
    geometry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.geometry_str" class="md-nav__link">
    geometry_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.transforms" class="md-nav__link">
    transforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.winsys_id" class="md-nav__link">
    winsys_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.CRTC.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayConfig" class="md-nav__link">
    DisplayConfig
  </a>
  
    <nav class="md-nav" aria-label="DisplayConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayConfig.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayConfig.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayConfig.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode" class="md-nav__link">
    DisplayMode
  </a>
  
    <nav class="md-nav" aria-label="DisplayMode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.flags" class="md-nav__link">
    flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.frequency" class="md-nav__link">
    frequency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.height" class="md-nav__link">
    height
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.width" class="md-nav__link">
    width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.winsys_id" class="md-nav__link">
    winsys_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayMode.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState" class="md-nav__link">
    DisplayState
  </a>
  
    <nav class="md-nav" aria-label="DisplayState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.logical_monitors" class="md-nav__link">
    logical_monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.monitors" class="md-nav__link">
    monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.serial" class="md-nav__link">
    serial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.get_current_mode" class="md-nav__link">
    get_current_mode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.DisplayState.load_state" class="md-nav__link">
    load_state()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor" class="md-nav__link">
    LogicalMonitor
  </a>
  
    <nav class="md-nav" aria-label="LogicalMonitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.monitors" class="md-nav__link">
    monitors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.position" class="md-nav__link">
    position
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.primary" class="md-nav__link">
    primary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.scale" class="md-nav__link">
    scale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.transform" class="md-nav__link">
    transform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.LogicalMonitor.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor" class="md-nav__link">
    Monitor
  </a>
  
    <nav class="md-nav" aria-label="Monitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.display_name" class="md-nav__link">
    display_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.is_builtin" class="md-nav__link">
    is_builtin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.is_underscanning" class="md-nav__link">
    is_underscanning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.model" class="md-nav__link">
    model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.serial_number" class="md-nav__link">
    serial_number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.vendor" class="md-nav__link">
    vendor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.get_current_mode" class="md-nav__link">
    get_current_mode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.get_mode_for_resolution" class="md-nav__link">
    get_mode_for_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Monitor.get_modes" class="md-nav__link">
    get_modes()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode" class="md-nav__link">
    MonitorMode
  </a>
  
    <nav class="md-nav" aria-label="MonitorMode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.frequency" class="md-nav__link">
    frequency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.height" class="md-nav__link">
    height
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.is_current" class="md-nav__link">
    is_current
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.scale" class="md-nav__link">
    scale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.supported_scale" class="md-nav__link">
    supported_scale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MonitorMode.width" class="md-nav__link">
    width
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig" class="md-nav__link">
    MutterDisplayConfig
  </a>
  
    <nav class="md-nav" aria-label="MutterDisplayConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.PERSISTENT_METHOD" class="md-nav__link">
    PERSISTENT_METHOD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.TEMPORARY_METHOD" class="md-nav__link">
    TEMPORARY_METHOD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.VERIFY_METHOD" class="md-nav__link">
    VERIFY_METHOD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.crtcs" class="md-nav__link">
    crtcs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.dbus_path" class="md-nav__link">
    dbus_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.max_screen_height" class="md-nav__link">
    max_screen_height
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.max_screen_width" class="md-nav__link">
    max_screen_width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.modes" class="md-nav__link">
    modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.namespace" class="md-nav__link">
    namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.outputs" class="md-nav__link">
    outputs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.serial" class="md-nav__link">
    serial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.apply_monitors_config" class="md-nav__link">
    apply_monitors_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.get_mode_for_resolution" class="md-nav__link">
    get_mode_for_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.get_primary_output" class="md-nav__link">
    get_primary_output()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager" class="md-nav__link">
    MutterDisplayManager
  </a>
  
    <nav class="md-nav" aria-label="MutterDisplayManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_current_resolution" class="md-nav__link">
    get_current_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_display_names" class="md-nav__link">
    get_display_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.set_resolution" class="md-nav__link">
    set_resolution()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output" class="md-nav__link">
    Output
  </a>
  
    <nav class="md-nav" aria-label="Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.clones" class="md-nav__link">
    clones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.crtcs" class="md-nav__link">
    crtcs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.current_crtc" class="md-nav__link">
    current_crtc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.display_name" class="md-nav__link">
    display_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.is_primary" class="md-nav__link">
    is_primary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.modes" class="md-nav__link">
    modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.output_id" class="md-nav__link">
    output_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.product" class="md-nav__link">
    product
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.properties" class="md-nav__link">
    properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.vendor" class="md-nav__link">
    vendor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.winsys_id" class="md-nav__link">
    winsys_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.displayconfig.Output.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers" class="md-nav__link">
    drivers
  </a>
  
    <nav class="md-nav" aria-label="drivers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.MIN_RECOMMENDED_NVIDIA_DRIVER" class="md-nav__link">
    MIN_RECOMMENDED_NVIDIA_DRIVER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.check_driver" class="md-nav__link">
    check_driver()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_gpu_info" class="md-nav__link">
    get_gpu_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_gpus" class="md-nav__link">
    get_gpus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_nvidia_driver_info" class="md-nav__link">
    get_nvidia_driver_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_nvidia_gpu_ids" class="md-nav__link">
    get_nvidia_gpu_ids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.get_nvidia_gpu_info" class="md-nav__link">
    get_nvidia_gpu_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.is_amd" class="md-nav__link">
    is_amd()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.is_nvidia" class="md-nav__link">
    is_nvidia()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.drivers.is_outdated" class="md-nav__link">
    is_outdated()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo" class="md-nav__link">
    glxinfo
  </a>
  
    <nav class="md-nav" aria-label="glxinfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.Container" class="md-nav__link">
    Container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo" class="md-nav__link">
    GlxInfo
  </a>
  
    <nav class="md-nav" aria-label="GlxInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo.as_dict" class="md-nav__link">
    as_dict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo.get_glxinfo_output" class="md-nav__link">
    get_glxinfo_output()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.glxinfo.GlxInfo.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery" class="md-nav__link">
    vkquery
  </a>
  
    <nav class="md-nav" aria-label="vkquery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VK_ERROR_INITIALIZATION_FAILED" class="md-nav__link">
    VK_ERROR_INITIALIZATION_FAILED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VK_STRUCTURE_TYPE_APPLICATION_INFO" class="md-nav__link">
    VK_STRUCTURE_TYPE_APPLICATION_INFO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO" class="md-nav__link">
    VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VK_SUCCESS" class="md-nav__link">
    VK_SUCCESS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkInstance" class="md-nav__link">
    VkInstance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkInstanceCreateFlags" class="md-nav__link">
    VkInstanceCreateFlags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkResult" class="md-nav__link">
    VkResult
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkStructureType" class="md-nav__link">
    VkStructureType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkApplicationInfo" class="md-nav__link">
    VkApplicationInfo
  </a>
  
    <nav class="md-nav" aria-label="VkApplicationInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkApplicationInfo.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkInstanceCreateInfo" class="md-nav__link">
    VkInstanceCreateInfo
  </a>
  
    <nav class="md-nav" aria-label="VkInstanceCreateInfo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.VkInstanceCreateInfo.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.is_vulkan_supported" class="md-nav__link">
    is_vulkan_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.vkquery.vk_make_version" class="md-nav__link">
    vk_make_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xephyr" class="md-nav__link">
    xephyr
  </a>
  
    <nav class="md-nav" aria-label="xephyr">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xephyr.get_xephyr_command" class="md-nav__link">
    get_xephyr_command()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr" class="md-nav__link">
    xrandr
  </a>
  
    <nav class="md-nav" aria-label="xrandr">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager" class="md-nav__link">
    LegacyDisplayManager
  </a>
  
    <nav class="md-nav" aria-label="LegacyDisplayManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_config" class="md-nav__link">
    get_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_current_resolution" class="md-nav__link">
    get_current_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_display_names" class="md-nav__link">
    get_display_names()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.set_resolution" class="md-nav__link">
    set_resolution()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.Output" class="md-nav__link">
    Output
  </a>
  
    <nav class="md-nav" aria-label="Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.Output.__getnewargs__" class="md-nav__link">
    __getnewargs__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.Output.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.Output.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.change_resolution" class="md-nav__link">
    change_resolution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.get_outputs" class="md-nav__link">
    get_outputs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.get_resolutions" class="md-nav__link">
    get_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.get_unique_resolutions" class="md-nav__link">
    get_unique_resolutions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.graphics.xrandr.turn_off_except" class="md-nav__link">
    turn_off_except()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.http" class="md-nav__link">
    http
  </a>
  
    <nav class="md-nav" aria-label="http">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.DEFAULT_TIMEOUT" class="md-nav__link">
    DEFAULT_TIMEOUT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.HTTPError" class="md-nav__link">
    HTTPError
  </a>
  
    <nav class="md-nav" aria-label="HTTPError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.HTTPError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request" class="md-nav__link">
    Request
  </a>
  
    <nav class="md-nav" aria-label="Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.json" class="md-nav__link">
    json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.text" class="md-nav__link">
    text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.user_agent" class="md-nav__link">
    user_agent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.post" class="md-nav__link">
    post()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.Request.write_to_file" class="md-nav__link">
    write_to_file()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.UnauthorizedAccess" class="md-nav__link">
    UnauthorizedAccess
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.http.download_file" class="md-nav__link">
    download_file()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.i18n" class="md-nav__link">
    i18n
  </a>
  
    <nav class="md-nav" aria-label="i18n">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.i18n.get_lang" class="md-nav__link">
    get_lang()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.i18n.get_lang_and_country" class="md-nav__link">
    get_lang_and_country()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.i18n.get_user_locale" class="md-nav__link">
    get_user_locale()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.jobs" class="md-nav__link">
    jobs
  </a>
  
    <nav class="md-nav" aria-label="jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.AsyncCall" class="md-nav__link">
    AsyncCall
  </a>
  
    <nav class="md-nav" aria-label="AsyncCall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.AsyncCall.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.AsyncCall.target" class="md-nav__link">
    target()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.synchronized_call" class="md-nav__link">
    synchronized_call()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.jobs.thread_safe_call" class="md-nav__link">
    thread_safe_call()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.joypad" class="md-nav__link">
    joypad
  </a>
  
    <nav class="md-nav" aria-label="joypad">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.get_controller_mappings" class="md-nav__link">
    get_controller_mappings()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.get_devices" class="md-nav__link">
    get_devices()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.get_joypads" class="md-nav__link">
    get_joypads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.get_sdl_identifier" class="md-nav__link">
    get_sdl_identifier()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.joypad.read_button" class="md-nav__link">
    read_button()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.keyring" class="md-nav__link">
    keyring
  </a>
  
    <nav class="md-nav" aria-label="keyring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.keyring.KEYRING_NAME" class="md-nav__link">
    KEYRING_NAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.keyring.store_credentials" class="md-nav__link">
    store_credentials()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.libretro" class="md-nav__link">
    libretro
  </a>
  
    <nav class="md-nav" aria-label="libretro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig" class="md-nav__link">
    RetroConfig
  </a>
  
    <nav class="md-nav" aria-label="RetroConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.value_map" class="md-nav__link">
    value_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.__getitem__" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.__setitem__" class="md-nav__link">
    __setitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.deserialize_value" class="md-nav__link">
    deserialize_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.keys" class="md-nav__link">
    keys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.load_config" class="md-nav__link">
    load_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.libretro.RetroConfig.serialize_value" class="md-nav__link">
    serialize_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.linux" class="md-nav__link">
    linux
  </a>
  
    <nav class="md-nav" aria-label="linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LINUX_SYSTEM" class="md-nav__link">
    LINUX_SYSTEM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SYSTEM_COMPONENTS" class="md-nav__link">
    SYSTEM_COMPONENTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.linux_distribution" class="md-nav__link">
    linux_distribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem" class="md-nav__link">
    LinuxSystem
  </a>
  
    <nav class="md-nav" aria-label="LinuxSystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.critical_requirements" class="md-nav__link">
    critical_requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.display_server" class="md-nav__link">
    display_server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.flatpak_info_path" class="md-nav__link">
    flatpak_info_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.has_steam" class="md-nav__link">
    has_steam
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.is_flatpak" class="md-nav__link">
    is_flatpak
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.multiarch_lib_folders" class="md-nav__link">
    multiarch_lib_folders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.optional_components" class="md-nav__link">
    optional_components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.recommended_no_file_open" class="md-nav__link">
    recommended_no_file_open
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.required_components" class="md-nav__link">
    required_components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.requirements" class="md-nav__link">
    requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.runtime_architectures" class="md-nav__link">
    runtime_architectures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.soundfont_folders" class="md-nav__link">
    soundfont_folders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.gamemode_available" class="md-nav__link">
    gamemode_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_arch" class="md-nav__link">
    get_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_cpus" class="md-nav__link">
    get_cpus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_dist_info" class="md-nav__link">
    get_dist_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_drives" class="md-nav__link">
    get_drives()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_file_limits" class="md-nav__link">
    get_file_limits()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_fs_type_for_path" class="md-nav__link">
    get_fs_type_for_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_glxinfo" class="md-nav__link">
    get_glxinfo()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_kernel_version" class="md-nav__link">
    get_kernel_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_ldconfig_libs" class="md-nav__link">
    get_ldconfig_libs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_lib_folders" class="md-nav__link">
    get_lib_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_missing_libs" class="md-nav__link">
    get_missing_libs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_missing_requirement_libs" class="md-nav__link">
    get_missing_requirement_libs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_ram_info" class="md-nav__link">
    get_ram_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_requirements" class="md-nav__link">
    get_requirements()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_sbin_path" class="md-nav__link">
    get_sbin_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_shared_libraries" class="md-nav__link">
    get_shared_libraries()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_soundfonts" class="md-nav__link">
    get_soundfonts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.get_terminals" class="md-nav__link">
    get_terminals()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.has_enough_file_descriptors" class="md-nav__link">
    has_enough_file_descriptors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.is_feature_supported" class="md-nav__link">
    is_feature_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.iter_lib_folders" class="md-nav__link">
    iter_lib_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.populate_libraries" class="md-nav__link">
    populate_libraries()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.LinuxSystem.populate_sound_fonts" class="md-nav__link">
    populate_sound_fonts()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary" class="md-nav__link">
    SharedLibrary
  </a>
  
    <nav class="md-nav" aria-label="SharedLibrary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.arch" class="md-nav__link">
    arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.basename" class="md-nav__link">
    basename
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.default_arch" class="md-nav__link">
    default_arch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.dirname" class="md-nav__link">
    dirname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.SharedLibrary.new_from_ldconfig" class="md-nav__link">
    new_from_ldconfig()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.gather_system_info" class="md-nav__link">
    gather_system_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.gather_system_info_str" class="md-nav__link">
    gather_system_info_str()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.get_default_terminal" class="md-nav__link">
    get_default_terminal()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.linux.get_terminal_apps" class="md-nav__link">
    get_terminal_apps()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.log" class="md-nav__link">
    log
  </a>
  
    <nav class="md-nav" aria-label="log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.CACHE_DIR" class="md-nav__link">
    CACHE_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.DEBUG_FORMATTER" class="md-nav__link">
    DEBUG_FORMATTER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.FILE_FORMATTER" class="md-nav__link">
    FILE_FORMATTER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.LOG_BUFFERS" class="md-nav__link">
    LOG_BUFFERS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.LOG_FILENAME" class="md-nav__link">
    LOG_FILENAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.SIMPLE_FORMATTER" class="md-nav__link">
    SIMPLE_FORMATTER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.console_handler" class="md-nav__link">
    console_handler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.log.loghandler" class="md-nav__link">
    loghandler
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.magic" class="md-nav__link">
    magic
  </a>
  
    <nav class="md-nav" aria-label="magic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_CHECK" class="md-nav__link">
    MAGIC_CHECK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_COMPRESS" class="md-nav__link">
    MAGIC_COMPRESS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_CONTINUE" class="md-nav__link">
    MAGIC_CONTINUE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_DEBUG" class="md-nav__link">
    MAGIC_DEBUG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_DEVICES" class="md-nav__link">
    MAGIC_DEVICES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_ERROR" class="md-nav__link">
    MAGIC_ERROR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_EXTENSION" class="md-nav__link">
    MAGIC_EXTENSION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_MIME" class="md-nav__link">
    MAGIC_MIME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_MIME_ENCODING" class="md-nav__link">
    MAGIC_MIME_ENCODING
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_MIME_TYPE" class="md-nav__link">
    MAGIC_MIME_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NONE" class="md-nav__link">
    MAGIC_NONE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_APPTYPE" class="md-nav__link">
    MAGIC_NO_CHECK_APPTYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_ASCII" class="md-nav__link">
    MAGIC_NO_CHECK_ASCII
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_COMPRESS" class="md-nav__link">
    MAGIC_NO_CHECK_COMPRESS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_ELF" class="md-nav__link">
    MAGIC_NO_CHECK_ELF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_FORTRAN" class="md-nav__link">
    MAGIC_NO_CHECK_FORTRAN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_SOFT" class="md-nav__link">
    MAGIC_NO_CHECK_SOFT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_TAR" class="md-nav__link">
    MAGIC_NO_CHECK_TAR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_TOKENS" class="md-nav__link">
    MAGIC_NO_CHECK_TOKENS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_NO_CHECK_TROFF" class="md-nav__link">
    MAGIC_NO_CHECK_TROFF
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_BYTES_MAX" class="md-nav__link">
    MAGIC_PARAM_BYTES_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_ELF_NOTES_MAX" class="md-nav__link">
    MAGIC_PARAM_ELF_NOTES_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_ELF_PHNUM_MAX" class="md-nav__link">
    MAGIC_PARAM_ELF_PHNUM_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_ELF_SHNUM_MAX" class="md-nav__link">
    MAGIC_PARAM_ELF_SHNUM_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_INDIR_MAX" class="md-nav__link">
    MAGIC_PARAM_INDIR_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_NAME_MAX" class="md-nav__link">
    MAGIC_PARAM_NAME_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PARAM_REGEX_MAX" class="md-nav__link">
    MAGIC_PARAM_REGEX_MAX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_PRESERVE_ATIME" class="md-nav__link">
    MAGIC_PRESERVE_ATIME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_RAW" class="md-nav__link">
    MAGIC_RAW
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MAGIC_SYMLINK" class="md-nav__link">
    MAGIC_SYMLINK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.dll" class="md-nav__link">
    dll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.libmagic" class="md-nav__link">
    libmagic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_check" class="md-nav__link">
    magic_check
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_close" class="md-nav__link">
    magic_close
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_compile" class="md-nav__link">
    magic_compile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_errno" class="md-nav__link">
    magic_errno
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_error" class="md-nav__link">
    magic_error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_open" class="md-nav__link">
    magic_open
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_setflags" class="md-nav__link">
    magic_setflags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_t" class="md-nav__link">
    magic_t
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_version" class="md-nav__link">
    magic_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic" class="md-nav__link">
    Magic
  </a>
  
    <nav class="md-nav" aria-label="Magic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.__del__" class="md-nav__link">
    __del__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.from_buffer" class="md-nav__link">
    from_buffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.from_descriptor" class="md-nav__link">
    from_descriptor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.from_file" class="md-nav__link">
    from_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.getparam" class="md-nav__link">
    getparam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.Magic.setparam" class="md-nav__link">
    setparam()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MagicException" class="md-nav__link">
    MagicException
  </a>
  
    <nav class="md-nav" aria-label="MagicException">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.MagicException.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.coerce_filename" class="md-nav__link">
    coerce_filename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.errorcheck_negative_one" class="md-nav__link">
    errorcheck_negative_one()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.errorcheck_null" class="md-nav__link">
    errorcheck_null()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.from_buffer" class="md-nav__link">
    from_buffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.from_descriptor" class="md-nav__link">
    from_descriptor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.from_file" class="md-nav__link">
    from_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_buffer" class="md-nav__link">
    magic_buffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_descriptor" class="md-nav__link">
    magic_descriptor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_file" class="md-nav__link">
    magic_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_getparam" class="md-nav__link">
    magic_getparam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_load" class="md-nav__link">
    magic_load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.magic_setparam" class="md-nav__link">
    magic_setparam()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.maybe_decode" class="md-nav__link">
    maybe_decode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.magic.version" class="md-nav__link">
    version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.mame" class="md-nav__link">
    mame
  </a>
  
    <nav class="md-nav" aria-label="mame">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database" class="md-nav__link">
    database
  </a>
  
    <nav class="md-nav" aria-label="database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.CACHE_DIR" class="md-nav__link">
    CACHE_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.get_games" class="md-nav__link">
    get_games()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.get_machine_info" class="md-nav__link">
    get_machine_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.get_supported_systems" class="md-nav__link">
    get_supported_systems()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.has_software_list" class="md-nav__link">
    has_software_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.is_game" class="md-nav__link">
    is_game()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.is_system" class="md-nav__link">
    is_system()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.iter_machines" class="md-nav__link">
    iter_machines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.database.simplify_manufacturer" class="md-nav__link">
    simplify_manufacturer()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini" class="md-nav__link">
    ini
  </a>
  
    <nav class="md-nav" aria-label="ini">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni" class="md-nav__link">
    MameIni
  </a>
  
    <nav class="md-nav" aria-label="MameIni">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni.read" class="md-nav__link">
    read()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.mame.ini.MameIni.write" class="md-nav__link">
    write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.nvidia" class="md-nav__link">
    nvidia
  </a>
  
    <nav class="md-nav" aria-label="nvidia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.nvidia.RTLD_DI_LINKMAP" class="md-nav__link">
    RTLD_DI_LINKMAP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.nvidia.LinkMap" class="md-nav__link">
    LinkMap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.nvidia.get_nvidia_dll_path" class="md-nav__link">
    get_nvidia_dll_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.nvidia.get_nvidia_glx_path" class="md-nav__link">
    get_nvidia_glx_path()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.process" class="md-nav__link">
    process
  </a>
  
    <nav class="md-nav" aria-label="process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.IGNORED_PROCESSES" class="md-nav__link">
    IGNORED_PROCESSES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.InvalidPid" class="md-nav__link">
    InvalidPid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process" class="md-nav__link">
    Process
  </a>
  
    <nav class="md-nav" aria-label="Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.children" class="md-nav__link">
    children
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.cmdline" class="md-nav__link">
    cmdline
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.cwd" class="md-nav__link">
    cwd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.environ" class="md-nav__link">
    environ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.state" class="md-nav__link">
    state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.get_children_pids_of_thread" class="md-nav__link">
    get_children_pids_of_thread()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.get_stat" class="md-nav__link">
    get_stat()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.get_thread_ids" class="md-nav__link">
    get_thread_ids()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.iter_children" class="md-nav__link">
    iter_children()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process.Process.wait_for_finish" class="md-nav__link">
    wait_for_finish()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.process_watcher" class="md-nav__link">
    process_watcher
  </a>
  
    <nav class="md-nav" aria-label="process_watcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.SYSTEM_PROCESSES" class="md-nav__link">
    SYSTEM_PROCESSES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher" class="md-nav__link">
    ProcessWatcher
  </a>
  
    <nav class="md-nav" aria-label="ProcessWatcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.is_alive" class="md-nav__link">
    is_alive()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.iterate_children" class="md-nav__link">
    iterate_children()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.iterate_processes" class="md-nav__link">
    iterate_processes()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.process_watcher.ProcessWatcher.parse_process_list" class="md-nav__link">
    parse_process_list()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.resources" class="md-nav__link">
    resources
  </a>
  
    <nav class="md-nav" aria-label="resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.resources.get_icon_path" class="md-nav__link">
    get_icon_path()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.settings" class="md-nav__link">
    settings
  </a>
  
    <nav class="md-nav" aria-label="settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.settings.SettingsIO" class="md-nav__link">
    SettingsIO
  </a>
  
    <nav class="md-nav" aria-label="SettingsIO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.settings.SettingsIO.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.settings.SettingsIO.read_setting" class="md-nav__link">
    read_setting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.settings.SettingsIO.write_setting" class="md-nav__link">
    write_setting()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.shell" class="md-nav__link">
    shell
  </a>
  
    <nav class="md-nav" aria-label="shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.shell.get_bash_rc_file" class="md-nav__link">
    get_bash_rc_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.shell.get_shell_command" class="md-nav__link">
    get_shell_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.shell.get_terminal_script" class="md-nav__link">
    get_terminal_script()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.steam" class="md-nav__link">
    steam
  </a>
  
    <nav class="md-nav" aria-label="steam">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest" class="md-nav__link">
    appmanifest
  </a>
  
    <nav class="md-nav" aria-label="appmanifest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.APP_STATE_FLAGS" class="md-nav__link">
    APP_STATE_FLAGS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest" class="md-nav__link">
    AppManifest
  </a>
  
    <nav class="md-nav" aria-label="AppManifest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.app_state" class="md-nav__link">
    app_state
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.installdir" class="md-nav__link">
    installdir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.slug" class="md-nav__link">
    slug
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.states" class="md-nav__link">
    states
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.user_config" class="md-nav__link">
    user_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.get_install_path" class="md-nav__link">
    get_install_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.get_platform" class="md-nav__link">
    get_platform()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.AppManifest.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.get_appmanifest_from_appid" class="md-nav__link">
    get_appmanifest_from_appid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.get_appmanifests" class="md-nav__link">
    get_appmanifests()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.appmanifest.get_path_from_appmanifest" class="md-nav__link">
    get_path_from_appmanifest()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config" class="md-nav__link">
    config
  </a>
  
    <nav class="md-nav" aria-label="config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.STEAM_DATA_DIRS" class="md-nav__link">
    STEAM_DATA_DIRS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_config_value" class="md-nav__link">
    get_config_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_default_acf" class="md-nav__link">
    get_default_acf()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_steam_dir" class="md-nav__link">
    get_steam_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_steam_library" class="md-nav__link">
    get_steam_library()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_steamapps_paths" class="md-nav__link">
    get_steamapps_paths()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.get_user_steam_id" class="md-nav__link">
    get_user_steam_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.read_config" class="md-nav__link">
    read_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.read_library_folders" class="md-nav__link">
    read_library_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.read_user_config" class="md-nav__link">
    read_user_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.config.search_in_steam_dirs" class="md-nav__link">
    search_in_steam_dirs()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.log" class="md-nav__link">
    log
  </a>
  
    <nav class="md-nav" aria-label="log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.log.get_app_log" class="md-nav__link">
    get_app_log()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.log.get_app_state_log" class="md-nav__link">
    get_app_state_log()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.vdf" class="md-nav__link">
    vdf
  </a>
  
    <nav class="md-nav" aria-label="vdf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.vdf.to_vdf" class="md-nav__link">
    to_vdf()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.vdf.vdf_parse" class="md-nav__link">
    vdf_parse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.vdf.vdf_write" class="md-nav__link">
    vdf_write()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.watcher" class="md-nav__link">
    watcher
  </a>
  
    <nav class="md-nav" aria-label="watcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.watcher.SteamWatcher" class="md-nav__link">
    SteamWatcher
  </a>
  
    <nav class="md-nav" aria-label="SteamWatcher">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.steam.watcher.SteamWatcher.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.strings" class="md-nav__link">
    strings
  </a>
  
    <nav class="md-nav" aria-label="strings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.NO_PLAYTIME" class="md-nav__link">
    NO_PLAYTIME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.add_url_tags" class="md-nav__link">
    add_url_tags()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.get_formatted_playtime" class="md-nav__link">
    get_formatted_playtime()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.gtk_safe" class="md-nav__link">
    gtk_safe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.human_size" class="md-nav__link">
    human_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.lookup_string_in_text" class="md-nav__link">
    lookup_string_in_text()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.parse_version" class="md-nav__link">
    parse_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.slugify" class="md-nav__link">
    slugify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.split_arguments" class="md-nav__link">
    split_arguments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.unpack_dependencies" class="md-nav__link">
    unpack_dependencies()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.strings.version_sort" class="md-nav__link">
    version_sort()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.system" class="md-nav__link">
    system
  </a>
  
    <nav class="md-nav" aria-label="system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.PROTECTED_HOME_FOLDERS" class="md-nav__link">
    PROTECTED_HOME_FOLDERS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.create_folder" class="md-nav__link">
    create_folder()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.execute" class="md-nav__link">
    execute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.find_executable" class="md-nav__link">
    find_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.find_mount_point" class="md-nav__link">
    find_mount_point()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.fix_path_case" class="md-nav__link">
    fix_path_case()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_disk_size" class="md-nav__link">
    get_disk_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_drive_for_path" class="md-nav__link">
    get_drive_for_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_existing_parent" class="md-nav__link">
    get_existing_parent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_file_checksum" class="md-nav__link">
    get_file_checksum()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_md5_hash" class="md-nav__link">
    get_md5_hash()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_mounted_discs" class="md-nav__link">
    get_mounted_discs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_mountpoint_drives" class="md-nav__link">
    get_mountpoint_drives()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_pid" class="md-nav__link">
    get_pid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_pids_using_file" class="md-nav__link">
    get_pids_using_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.get_running_pid_list" class="md-nav__link">
    get_running_pid_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.is_executable" class="md-nav__link">
    is_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.is_removeable" class="md-nav__link">
    is_removeable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.kill_pid" class="md-nav__link">
    kill_pid()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.list_unique_folders" class="md-nav__link">
    list_unique_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.make_executable" class="md-nav__link">
    make_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.merge_folders" class="md-nav__link">
    merge_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.path_exists" class="md-nav__link">
    path_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.python_identifier" class="md-nav__link">
    python_identifier()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.read_process_output" class="md-nav__link">
    read_process_output()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.remove_folder" class="md-nav__link">
    remove_folder()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.reset_library_preloads" class="md-nav__link">
    reset_library_preloads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.reverse_expanduser" class="md-nav__link">
    reverse_expanduser()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.substitute" class="md-nav__link">
    substitute()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.system.update_desktop_icons" class="md-nav__link">
    update_desktop_icons()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.test_config" class="md-nav__link">
    test_config
  </a>
  
    <nav class="md-nav" aria-label="test_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.test_config.setup_test_environment" class="md-nav__link">
    setup_test_environment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.timer" class="md-nav__link">
    timer
  </a>
  
    <nav class="md-nav" aria-label="timer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer" class="md-nav__link">
    Timer
  </a>
  
    <nav class="md-nav" aria-label="Timer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer.duration" class="md-nav__link">
    duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer.end" class="md-nav__link">
    end()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.timer.Timer.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.update_cache" class="md-nav__link">
    update_cache
  </a>
  
    <nav class="md-nav" aria-label="update_cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.DATE_FORMAT" class="md-nav__link">
    DATE_FORMAT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.UPDATE_CACHE_PATH" class="md-nav__link">
    UPDATE_CACHE_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.get_last_call" class="md-nav__link">
    get_last_call()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.read_date_from_cache" class="md-nav__link">
    read_date_from_cache()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.update_cache.write_date_to_cache" class="md-nav__link">
    write_date_to_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.urlhandler" class="md-nav__link">
    urlhandler
  </a>
  
    <nav class="md-nav" aria-label="urlhandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.urlhandler.register_url_handler" class="md-nav__link">
    register_url_handler()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall" class="md-nav__link">
    cabinstall
  </a>
  
    <nav class="md-nav" aria-label="cabinstall">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller" class="md-nav__link">
    CabInstaller
  </a>
  
    <nav class="md-nav" aria-label="CabInstaller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.apply_to_registry" class="md-nav__link">
    apply_to_registry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.check_dll_arch" class="md-nav__link">
    check_dll_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.cleanup" class="md-nav__link">
    cleanup()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.extract_from_cab" class="md-nav__link">
    extract_from_cab()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_arch_from_dll" class="md-nav__link">
    get_arch_from_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_arch_from_manifest" class="md-nav__link">
    get_arch_from_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_dll_destdir" class="md-nav__link">
    get_dll_destdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_registry_files" class="md-nav__link">
    get_registry_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_registry_from_manifest" class="md-nav__link">
    get_registry_from_manifest()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_system32_realdir" class="md-nav__link">
    get_system32_realdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_winebin" class="md-nav__link">
    get_winebin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.get_wineprefix_arch" class="md-nav__link">
    get_wineprefix_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.install" class="md-nav__link">
    install()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.install_dll" class="md-nav__link">
    install_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.process_key" class="md-nav__link">
    process_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.process_value" class="md-nav__link">
    process_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.cabinstall.CabInstaller.replace_variables" class="md-nav__link">
    replace_variables()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras" class="md-nav__link">
    d3d_extras
  </a>
  
    <nav class="md-nav" aria-label="d3d_extras">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager" class="md-nav__link">
    D3DExtrasManager
  </a>
  
    <nav class="md-nav" aria-label="D3DExtrasManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2" class="md-nav__link">
    dgvoodoo2
  </a>
  
    <nav class="md-nav" aria-label="dgvoodoo2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager" class="md-nav__link">
    dgvoodoo2Manager
  </a>
  
    <nav class="md-nav" aria-label="dgvoodoo2Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.managed_appdata_files" class="md-nav__link">
    managed_appdata_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager" class="md-nav__link">
    dll_manager
  </a>
  
    <nav class="md-nav" aria-label="dll_manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager" class="md-nav__link">
    DLLManager
  </a>
  
    <nav class="md-nav" aria-label="DLLManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.archs" class="md-nav__link">
    archs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.managed_appdata_files" class="md-nav__link">
    managed_appdata_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.version_choices" class="md-nav__link">
    version_choices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.versions" class="md-nav__link">
    versions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.disable" class="md-nav__link">
    disable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.disable_dll" class="md-nav__link">
    disable_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.disable_user_file" class="md-nav__link">
    disable_user_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.dll_exists" class="md-nav__link">
    dll_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.download" class="md-nav__link">
    download()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.enable" class="md-nav__link">
    enable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.enable_dll" class="md-nav__link">
    enable_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.enable_user_file" class="md-nav__link">
    enable_user_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.fetch_versions" class="md-nav__link">
    fetch_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.get_download_url" class="md-nav__link">
    get_download_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.is_available" class="md-nav__link">
    is_available()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.is_managed_dll" class="md-nav__link">
    is_managed_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.load_versions" class="md-nav__link">
    load_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dll_manager.DLLManager.upgrade" class="md-nav__link">
    upgrade()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk" class="md-nav__link">
    dxvk
  </a>
  
    <nav class="md-nav" aria-label="dxvk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager" class="md-nav__link">
    DXVKManager
  </a>
  
    <nav class="md-nav" aria-label="DXVKManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk.DXVKManager.is_managed_dll" class="md-nav__link">
    is_managed_dll()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi" class="md-nav__link">
    dxvk_nvapi
  </a>
  
    <nav class="md-nav" aria-label="dxvk_nvapi">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager" class="md-nav__link">
    DXVKNVAPIManager
  </a>
  
    <nav class="md-nav" aria-label="DXVKNVAPIManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.dlss_dlls" class="md-nav__link">
    dlss_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.disable" class="md-nav__link">
    disable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.disable_dll" class="md-nav__link">
    disable_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.enable" class="md-nav__link">
    enable()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync" class="md-nav__link">
    fsync
  </a>
  
    <nav class="md-nav" aria-label="fsync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.__all__" class="md-nav__link">
    __all__
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.futex_waitv" class="md-nav__link">
    futex_waitv
  </a>
  
    <nav class="md-nav" aria-label="futex_waitv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.futex_waitv.__slots__" class="md-nav__link">
    __slots__
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.timespec" class="md-nav__link">
    timespec
  </a>
  
    <nav class="md-nav" aria-label="timespec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.timespec.__slots__" class="md-nav__link">
    __slots__
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.is_fsync_supported" class="md-nav__link">
    is_fsync_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.is_futex2_supported" class="md-nav__link">
    is_futex2_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.is_futex_wait_multiple_supported" class="md-nav__link">
    is_futex_wait_multiple_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.fsync.is_futex_waitv_supported" class="md-nav__link">
    is_futex_waitv_supported()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix" class="md-nav__link">
    prefix
  </a>
  
    <nav class="md-nav" aria-label="prefix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.DEFAULT_DESKTOP_FOLDERS" class="md-nav__link">
    DEFAULT_DESKTOP_FOLDERS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.DEFAULT_DLL_OVERRIDES" class="md-nav__link">
    DEFAULT_DLL_OVERRIDES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.DESKTOP_KEYS" class="md-nav__link">
    DESKTOP_KEYS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.DESKTOP_XDG" class="md-nav__link">
    DESKTOP_XDG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager" class="md-nav__link">
    WinePrefixManager
  </a>
  
    <nav class="md-nav" aria-label="WinePrefixManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.appdata_dir" class="md-nav__link">
    appdata_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.hkcu_prefix" class="md-nav__link">
    hkcu_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.hklm_prefix" class="md-nav__link">
    hklm_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.user_dir" class="md-nav__link">
    user_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.clear_registry_key" class="md-nav__link">
    clear_registry_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.clear_registry_subkeys" class="md-nav__link">
    clear_registry_subkeys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.configure_joypads" class="md-nav__link">
    configure_joypads()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.desktop_integration" class="md-nav__link">
    desktop_integration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.get_desktop_folders" class="md-nav__link">
    get_desktop_folders()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.get_key_path" class="md-nav__link">
    get_key_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.get_registry_key" class="md-nav__link">
    get_registry_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.get_registry_path" class="md-nav__link">
    get_registry_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.override_dll" class="md-nav__link">
    override_dll()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_crash_dialogs" class="md-nav__link">
    set_crash_dialogs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_desktop_size" class="md-nav__link">
    set_desktop_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_dpi" class="md-nav__link">
    set_dpi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_registry_key" class="md-nav__link">
    set_registry_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.set_virtual_desktop" class="md-nav__link">
    set_virtual_desktop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.WinePrefixManager.setup_defaults" class="md-nav__link">
    setup_defaults()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.find_prefix" class="md-nav__link">
    find_prefix()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.prefix.is_prefix" class="md-nav__link">
    is_prefix()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry" class="md-nav__link">
    registry
  </a>
  
    <nav class="md-nav" aria-label="registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.DATA_TYPES" class="md-nav__link">
    DATA_TYPES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_BINARY" class="md-nav__link">
    REG_BINARY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_DWORD" class="md-nav__link">
    REG_DWORD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_DWORD_BIG_ENDIAN" class="md-nav__link">
    REG_DWORD_BIG_ENDIAN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_EXPAND_SZ" class="md-nav__link">
    REG_EXPAND_SZ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_LINK" class="md-nav__link">
    REG_LINK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_MULTI_SZ" class="md-nav__link">
    REG_MULTI_SZ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_NONE" class="md-nav__link">
    REG_NONE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.REG_SZ" class="md-nav__link">
    REG_SZ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime" class="md-nav__link">
    WindowsFileTime
  </a>
  
    <nav class="md-nav" aria-label="WindowsFileTime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.epoch_delta" class="md-nav__link">
    epoch_delta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.ticks_per_seconds" class="md-nav__link">
    ticks_per_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.from_hex" class="md-nav__link">
    from_hex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.from_unix_timestamp" class="md-nav__link">
    from_unix_timestamp()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.to_date_time" class="md-nav__link">
    to_date_time()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.to_hex" class="md-nav__link">
    to_hex()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WindowsFileTime.to_unix_timestamp" class="md-nav__link">
    to_unix_timestamp()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry" class="md-nav__link">
    WineRegistry
  </a>
  
    <nav class="md-nav" aria-label="WineRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.prefix_path" class="md-nav__link">
    prefix_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.relative_to_header" class="md-nav__link">
    relative_to_header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.version_header" class="md-nav__link">
    version_header
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.clear_key" class="md-nav__link">
    clear_key()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.clear_subkeys" class="md-nav__link">
    clear_subkeys()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.get_raw_registry" class="md-nav__link">
    get_raw_registry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.get_unix_path" class="md-nav__link">
    get_unix_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.parse_reg_file" class="md-nav__link">
    parse_reg_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.query" class="md-nav__link">
    query()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.render" class="md-nav__link">
    render()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistry.set_value" class="md-nav__link">
    set_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey" class="md-nav__link">
    WineRegistryKey
  </a>
  
    <nav class="md-nav" aria-label="WineRegistryKey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.add_meta" class="md-nav__link">
    add_meta()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.add_to_last" class="md-nav__link">
    add_to_last()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.decode_unicode" class="md-nav__link">
    decode_unicode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.get_meta" class="md-nav__link">
    get_meta()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.get_subkey" class="md-nav__link">
    get_subkey()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.parse" class="md-nav__link">
    parse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.render" class="md-nav__link">
    render()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.render_value" class="md-nav__link">
    render_value()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.registry.WineRegistryKey.set_subkey" class="md-nav__link">
    set_subkey()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d" class="md-nav__link">
    vkd3d
  </a>
  
    <nav class="md-nav" aria-label="vkd3d">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager" class="md-nav__link">
    VKD3DManager
  </a>
  
    <nav class="md-nav" aria-label="VKD3DManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.base_dir" class="md-nav__link">
    base_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.component" class="md-nav__link">
    component
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.managed_dlls" class="md-nav__link">
    managed_dlls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.releases_url" class="md-nav__link">
    releases_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.vkd3d.VKD3DManager.versions_path" class="md-nav__link">
    versions_path
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine" class="md-nav__link">
    wine
  </a>
  
    <nav class="md-nav" aria-label="wine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.ESYNC_LIMIT_CHECK" class="md-nav__link">
    ESYNC_LIMIT_CHECK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.FSYNC_SUPPORT_CHECK" class="md-nav__link">
    FSYNC_SUPPORT_CHECK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.POL_PATH" class="md-nav__link">
    POL_PATH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.WINE_DEFAULT_ARCH" class="md-nav__link">
    WINE_DEFAULT_ARCH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.WINE_DIR" class="md-nav__link">
    WINE_DIR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.WINE_PATHS" class="md-nav__link">
    WINE_PATHS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.detect_arch" class="md-nav__link">
    detect_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.detect_prefix_arch" class="md-nav__link">
    detect_prefix_arch()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.display_vulkan_error" class="md-nav__link">
    display_vulkan_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.esync_display_limit_warning" class="md-nav__link">
    esync_display_limit_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.esync_display_version_warning" class="md-nav__link">
    esync_display_version_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.fsync_display_support_warning" class="md-nav__link">
    fsync_display_support_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.fsync_display_version_warning" class="md-nav__link">
    fsync_display_version_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_default_version" class="md-nav__link">
    get_default_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_lutris_wine_versions" class="md-nav__link">
    get_lutris_wine_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_overrides_env" class="md-nav__link">
    get_overrides_env()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_playonlinux" class="md-nav__link">
    get_playonlinux()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_pol_wine_versions" class="md-nav__link">
    get_pol_wine_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_proton_paths" class="md-nav__link">
    get_proton_paths()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_proton_versions" class="md-nav__link">
    get_proton_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_real_executable" class="md-nav__link">
    get_real_executable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_system_wine_versions" class="md-nav__link">
    get_system_wine_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_wine_version" class="md-nav__link">
    get_wine_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_wine_version_exe" class="md-nav__link">
    get_wine_version_exe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.get_wine_versions" class="md-nav__link">
    get_wine_versions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_esync_limit_set" class="md-nav__link">
    is_esync_limit_set()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_fsync_supported" class="md-nav__link">
    is_fsync_supported()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_gstreamer_build" class="md-nav__link">
    is_gstreamer_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_installed_systemwide" class="md-nav__link">
    is_installed_systemwide()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_mingw_build" class="md-nav__link">
    is_mingw_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_version_esync" class="md-nav__link">
    is_version_esync()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_version_fsync" class="md-nav__link">
    is_version_fsync()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.is_version_installed" class="md-nav__link">
    is_version_installed()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.set_drive_path" class="md-nav__link">
    set_drive_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.wine.wine.use_lutris_runtime" class="md-nav__link">
    use_lutris_runtime()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts" class="md-nav__link">
    xdgshortcuts
  </a>
  
    <nav class="md-nav" aria-label="xdgshortcuts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.create_launcher" class="md-nav__link">
    create_launcher()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.desktop_launcher_exists" class="md-nav__link">
    desktop_launcher_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.get_launcher_path" class="md-nav__link">
    get_launcher_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.get_menu_launcher_path" class="md-nav__link">
    get_menu_launcher_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.get_xdg_basename" class="md-nav__link">
    get_xdg_basename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.get_xdg_entry" class="md-nav__link">
    get_xdg_entry()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.menu_launcher_exists" class="md-nav__link">
    menu_launcher_exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.xdgshortcuts.remove_launcher" class="md-nav__link">
    remove_launcher()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lutris.util.yaml" class="md-nav__link">
    yaml
  </a>
  
    <nav class="md-nav" aria-label="yaml">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lutris.util.yaml.read_yaml_from_file" class="md-nav__link">
    read_yaml_from_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lutris.util.yaml.write_yaml_to_file" class="md-nav__link">
    write_yaml_to_file()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/lutris/lutris/edit/master/docs/lutris/util/__init__.py" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



  <h1>Index</h1>

<div class="doc doc-object doc-module">

<a id="lutris.util"></a>
    <div class="doc doc-contents first">

      <p>Misc common functions </p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h2 id="lutris.util.selective_merge" class="doc doc-heading">
<code class="highlight language-python"><span class="n">selective_merge</span><span class="p">(</span><span class="n">base_obj</span><span class="p">,</span> <span class="n">delta_obj</span><span class="p">)</span></code>


<a href="#lutris.util.selective_merge" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>used by write_json </p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">selective_merge</span><span class="p">(</span><span class="n">base_obj</span><span class="p">,</span> <span class="n">delta_obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; used by write_json &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">base_obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">delta_obj</span>
    <span class="n">common_keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">base_obj</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">delta_obj</span><span class="p">)</span>
    <span class="n">new_keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">delta_obj</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">common_keys</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">common_keys</span><span class="p">:</span>
        <span class="n">base_obj</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">selective_merge</span><span class="p">(</span><span class="n">base_obj</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">delta_obj</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">new_keys</span><span class="p">:</span>
        <span class="n">base_obj</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">delta_obj</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">base_obj</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-module">



<h2 id="lutris.util.audio" class="doc doc-heading">
        <code>audio</code>



<a href="#lutris.util.audio" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Whatever it is we want to do with audio module</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.audio.reset_pulse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reset_pulse</span><span class="p">()</span></code>


<a href="#lutris.util.audio.reset_pulse" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Reset pulseaudio.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/audio.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">reset_pulse</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Reset pulseaudio.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;pulseaudio&quot;</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;PulseAudio not installed. Nothing to do.&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">([</span><span class="s2">&quot;pulseaudio&quot;</span><span class="p">,</span> <span class="s2">&quot;--kill&quot;</span><span class="p">])</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">system</span><span class="o">.</span><span class="n">execute</span><span class="p">([</span><span class="s2">&quot;pulseaudio&quot;</span><span class="p">,</span> <span class="s2">&quot;--start&quot;</span><span class="p">])</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;PulseAudio restarted&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.cookies" class="doc doc-heading">
        <code>cookies</code>



<a href="#lutris.util.cookies" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.util.cookies.WebkitCookieJar" class="doc doc-heading">
        <code>
WebkitCookieJar            (<span title="http.cookiejar.MozillaCookieJar">MozillaCookieJar</span>)
        </code>



<a href="#lutris.util.cookies.WebkitCookieJar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Subclass of MozillaCookieJar for compatibility with cookies
coming from Webkit2.
This disables the magic_re header which is not present and adds
compatibility with HttpOnly cookies (See <a href="http://bugs.python.org/issue2190">http://bugs.python.org/issue2190</a>)</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/cookies.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WebkitCookieJar</span><span class="p">(</span><span class="n">MozillaCookieJar</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Subclass of MozillaCookieJar for compatibility with cookies</span>
<span class="sd">    coming from Webkit2.</span>
<span class="sd">    This disables the magic_re header which is not present and adds</span>
<span class="sd">    compatibility with HttpOnly cookies (See http://bugs.python.org/issue2190)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_really_load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">ignore_discard</span><span class="p">,</span> <span class="n">ignore_expires</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-locals</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="k">break</span>

                <span class="c1"># last field may be absent, so keep any trailing tab</span>
                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="n">sline</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="c1"># support HttpOnly cookies (as stored by curl or old Firefox).</span>
                <span class="k">if</span> <span class="n">sline</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#HttpOnly_&quot;</span><span class="p">):</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="n">sline</span><span class="p">[</span><span class="mi">10</span><span class="p">:]</span>
                <span class="k">elif</span> <span class="n">sline</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">sline</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="n">domain</span><span class="p">,</span> <span class="n">domain_specified</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">secure</span><span class="p">,</span> <span class="n">expires</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="n">_extra</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">secure</span> <span class="o">=</span> <span class="n">secure</span> <span class="o">==</span> <span class="s2">&quot;TRUE&quot;</span>
                <span class="n">domain_specified</span> <span class="o">=</span> <span class="n">domain_specified</span> <span class="o">==</span> <span class="s2">&quot;TRUE&quot;</span>
                <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="c1"># cookies.txt regards &#39;Set-Cookie: foo&#39; as a cookie</span>
                    <span class="c1"># with no name, whereas http.cookiejar regards it as a</span>
                    <span class="c1"># cookie with no value.</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">value</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="n">initial_dot</span> <span class="o">=</span> <span class="n">domain</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">domain_specified</span> <span class="o">==</span> <span class="n">initial_dot</span>

                <span class="n">discard</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">if</span> <span class="n">expires</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="n">expires</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">discard</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="c1"># assume path_specified is false</span>
                <span class="n">c</span> <span class="o">=</span> <span class="n">Cookie</span><span class="p">(</span>
                    <span class="mi">0</span><span class="p">,</span>
                    <span class="n">name</span><span class="p">,</span>
                    <span class="n">value</span><span class="p">,</span>
                    <span class="kc">None</span><span class="p">,</span>
                    <span class="kc">False</span><span class="p">,</span>
                    <span class="n">domain</span><span class="p">,</span>
                    <span class="n">domain_specified</span><span class="p">,</span>
                    <span class="n">initial_dot</span><span class="p">,</span>
                    <span class="n">path</span><span class="p">,</span>
                    <span class="kc">False</span><span class="p">,</span>
                    <span class="n">secure</span><span class="p">,</span>
                    <span class="n">expires</span><span class="p">,</span>
                    <span class="n">discard</span><span class="p">,</span>
                    <span class="kc">None</span><span class="p">,</span>
                    <span class="kc">None</span><span class="p">,</span>
                    <span class="p">{},</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">ignore_discard</span> <span class="ow">and</span> <span class="n">c</span><span class="o">.</span><span class="n">discard</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">ignore_expires</span> <span class="ow">and</span> <span class="n">c</span><span class="o">.</span><span class="n">is_expired</span><span class="p">(</span><span class="n">now</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_cookie</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="n">_warn_unhandled_exception</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;invalid Netscape format cookies file </span><span class="si">%r</span><span class="s2">: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">err</span>
</code></pre></div>
        </details>


    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.datapath" class="doc doc-heading">
        <code>datapath</code>



<a href="#lutris.util.datapath" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Utility to get the path of Lutris assets</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.datapath.get" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get</span><span class="p">()</span></code>


<a href="#lutris.util.datapath.get" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the path for the resources.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/datapath.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the path for the resources.&quot;&quot;&quot;</span>
    <span class="n">launch_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">launch_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/usr/local&quot;</span><span class="p">):</span>
        <span class="n">data_path</span> <span class="o">=</span> <span class="s2">&quot;/usr/local/share/lutris&quot;</span>
    <span class="k">elif</span> <span class="n">launch_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/usr&quot;</span><span class="p">):</span>
        <span class="n">data_path</span> <span class="o">=</span> <span class="s2">&quot;/usr/share/lutris&quot;</span>
    <span class="k">elif</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;share&quot;</span><span class="p">))):</span>
        <span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;share/lutris&quot;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">launch_path</span><span class="p">,</span> <span class="s2">&quot;../../share/lutris&quot;</span><span class="p">))):</span>
        <span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">launch_path</span><span class="p">,</span> <span class="s2">&quot;../../share/lutris&quot;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">lutris</span>

        <span class="n">lutris_module</span> <span class="o">=</span> <span class="n">lutris</span><span class="o">.</span><span class="vm">__file__</span>
        <span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">lutris_module</span><span class="p">)),</span> <span class="s2">&quot;share/lutris&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">data_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;data_path can&#39;t be found at : </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">data_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data_path</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.display" class="doc doc-heading">
        <code>display</code>



<a href="#lutris.util.display" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Module to deal with various aspects of displays</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.display.DBUS_AVAILABLE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DBUS_AVAILABLE</span></code>


<a href="#lutris.util.display.DBUS_AVAILABLE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.display.DISPLAY_MANAGER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DISPLAY_MANAGER</span></code>


<a href="#lutris.util.display.DISPLAY_MANAGER" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.display.GnomeDesktop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">GnomeDesktop</span></code>


<a href="#lutris.util.display.GnomeDesktop" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.display.LIB_GNOME_DESKTOP_AVAILABLE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">LIB_GNOME_DESKTOP_AVAILABLE</span></code>


<a href="#lutris.util.display.LIB_GNOME_DESKTOP_AVAILABLE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.display.SCREEN_SAVER_INHIBITOR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SCREEN_SAVER_INHIBITOR</span></code>


<a href="#lutris.util.display.SCREEN_SAVER_INHIBITOR" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.display.USE_DRI_PRIME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">USE_DRI_PRIME</span></code>


<a href="#lutris.util.display.USE_DRI_PRIME" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.util.display.DBusScreenSaverInhibitor" class="doc doc-heading">
        <code>
DBusScreenSaverInhibitor        </code>



<a href="#lutris.util.display.DBusScreenSaverInhibitor" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Inhibit and uninhibit the screen saver using DBus.
Requires the Inhibit() and UnInhibit() methods to be exposed over DBus.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DBusScreenSaverInhibitor</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Inhibit and uninhibit the screen saver using DBus.</span>
<span class="sd">    Requires the Inhibit() and UnInhibit() methods to be exposed over DBus.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">bus_type</span><span class="o">=</span><span class="n">Gio</span><span class="o">.</span><span class="n">BusType</span><span class="o">.</span><span class="n">SESSION</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">DBusProxy</span><span class="o">.</span><span class="n">new_for_bus_sync</span><span class="p">(</span>
            <span class="n">bus_type</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">DBusProxyFlags</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">inhibit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Inhibit the screen saver.</span>
<span class="sd">        Returns a cookie that must be passed to the corresponding uninhibit() call.</span>
<span class="sd">        If an error occurs, None is returned instead.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">Inhibit</span><span class="p">(</span><span class="s2">&quot;(ss)&quot;</span><span class="p">,</span> <span class="s2">&quot;Lutris&quot;</span><span class="p">,</span> <span class="s2">&quot;Running game: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">game_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">uninhibit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookie</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Uninhibit the screen saver.</span>
<span class="sd">        Takes a cookie as returned by inhibit. If cookie is None, no action is taken.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">cookie</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">UnInhibit</span><span class="p">(</span><span class="s2">&quot;(u)&quot;</span><span class="p">,</span> <span class="n">cookie</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DBusScreenSaverInhibitor.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">bus_type</span><span class="o">=&lt;</span><span class="n">enum</span> <span class="n">G_BUS_TYPE_SESSION</span> <span class="n">of</span> <span class="nb">type</span> <span class="n">Gio</span><span class="o">.</span><span class="n">BusType</span><span class="o">&gt;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.display.DBusScreenSaverInhibitor.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">bus_type</span><span class="o">=</span><span class="n">Gio</span><span class="o">.</span><span class="n">BusType</span><span class="o">.</span><span class="n">SESSION</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">DBusProxy</span><span class="o">.</span><span class="n">new_for_bus_sync</span><span class="p">(</span>
        <span class="n">bus_type</span><span class="p">,</span> <span class="n">Gio</span><span class="o">.</span><span class="n">DBusProxyFlags</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DBusScreenSaverInhibitor.inhibit" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inhibit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_name</span><span class="p">)</span></code>


<a href="#lutris.util.display.DBusScreenSaverInhibitor.inhibit" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Inhibit the screen saver.
Returns a cookie that must be passed to the corresponding uninhibit() call.
If an error occurs, None is returned instead.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">inhibit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Inhibit the screen saver.</span>
<span class="sd">    Returns a cookie that must be passed to the corresponding uninhibit() call.</span>
<span class="sd">    If an error occurs, None is returned instead.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">Inhibit</span><span class="p">(</span><span class="s2">&quot;(ss)&quot;</span><span class="p">,</span> <span class="s2">&quot;Lutris&quot;</span><span class="p">,</span> <span class="s2">&quot;Running game: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">game_name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DBusScreenSaverInhibitor.uninhibit" class="doc doc-heading">
<code class="highlight language-python"><span class="n">uninhibit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookie</span><span class="p">)</span></code>


<a href="#lutris.util.display.DBusScreenSaverInhibitor.uninhibit" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Uninhibit the screen saver.
Takes a cookie as returned by inhibit. If cookie is None, no action is taken.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">uninhibit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cookie</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Uninhibit the screen saver.</span>
<span class="sd">    Takes a cookie as returned by inhibit. If cookie is None, no action is taken.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">cookie</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">UnInhibit</span><span class="p">(</span><span class="s2">&quot;(u)&quot;</span><span class="p">,</span> <span class="n">cookie</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.display.DesktopEnvironment" class="doc doc-heading">
        <code>
DesktopEnvironment            (<span title="enum.Enum">Enum</span>)
        </code>



<a href="#lutris.util.display.DesktopEnvironment" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Enum of desktop environments.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DesktopEnvironment</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Enum of desktop environments.&quot;&quot;&quot;</span>

    <span class="n">PLASMA</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">MATE</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">XFCE</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">DEEPIN</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">UNKNOWN</span> <span class="o">=</span> <span class="mi">999</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.display.DesktopEnvironment.DEEPIN" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEEPIN</span></code>


<a href="#lutris.util.display.DesktopEnvironment.DEEPIN" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.display.DesktopEnvironment.MATE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MATE</span></code>


<a href="#lutris.util.display.DesktopEnvironment.MATE" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.display.DesktopEnvironment.PLASMA" class="doc doc-heading">
<code class="highlight language-python"><span class="n">PLASMA</span></code>


<a href="#lutris.util.display.DesktopEnvironment.PLASMA" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.display.DesktopEnvironment.UNKNOWN" class="doc doc-heading">
<code class="highlight language-python"><span class="n">UNKNOWN</span></code>


<a href="#lutris.util.display.DesktopEnvironment.UNKNOWN" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.display.DesktopEnvironment.XFCE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">XFCE</span></code>


<a href="#lutris.util.display.DesktopEnvironment.XFCE" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.display.DisplayManager" class="doc doc-heading">
        <code>
DisplayManager        </code>



<a href="#lutris.util.display.DisplayManager" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get display and resolution using GnomeDesktop</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DisplayManager</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get display and resolution using GnomeDesktop&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">LIB_GNOME_DESKTOP_AVAILABLE</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;libgnomedesktop unavailable&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">screen</span> <span class="o">=</span> <span class="n">Gdk</span><span class="o">.</span><span class="n">Screen</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">screen</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoScreenDetected</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rr_screen</span> <span class="o">=</span> <span class="n">GnomeDesktop</span><span class="o">.</span><span class="n">RRScreen</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rr_config</span> <span class="o">=</span> <span class="n">GnomeDesktop</span><span class="o">.</span><span class="n">RRConfig</span><span class="o">.</span><span class="n">new_current</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rr_screen</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rr_config</span><span class="o">.</span><span class="n">load_current</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_display_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return names of connected displays&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">output_info</span><span class="o">.</span><span class="n">get_display_name</span><span class="p">()</span> <span class="k">for</span> <span class="n">output_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rr_config</span><span class="o">.</span><span class="n">get_outputs</span><span class="p">()]</span>

    <span class="k">def</span> <span class="nf">get_resolutions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return available resolutions&quot;&quot;&quot;</span>
        <span class="n">resolutions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">x</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">get_width</span><span class="p">(),</span> <span class="n">mode</span><span class="o">.</span><span class="n">get_height</span><span class="p">())</span> <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rr_screen</span><span class="o">.</span><span class="n">list_modes</span><span class="p">()]</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">resolutions</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_primary_output</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the RROutput used as a primary display&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rr_screen</span><span class="o">.</span><span class="n">list_outputs</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">get_is_primary</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">output</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">get_current_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the current resolution for the primary display&quot;&quot;&quot;</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_primary_output</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">output</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get a default output&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
        <span class="n">current_mode</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">get_current_mode</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_mode</span><span class="o">.</span><span class="n">get_width</span><span class="p">()),</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_mode</span><span class="o">.</span><span class="n">get_height</span><span class="p">())</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the resolution of one or more displays.</span>
<span class="sd">        The resolution can either be a string, which will be applied to the</span>
<span class="sd">        primary display or a list of configurations as returned by `get_config`.</span>
<span class="sd">        This method uses XrandR and will not work on Wayland.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">change_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_config</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return the current display resolution</span>
<span class="sd">        This method uses XrandR and will not work on wayland</span>
<span class="sd">        The output can be fed in `set_resolution`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_outputs</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DisplayManager.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.display.DisplayManager.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">LIB_GNOME_DESKTOP_AVAILABLE</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;libgnomedesktop unavailable&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">screen</span> <span class="o">=</span> <span class="n">Gdk</span><span class="o">.</span><span class="n">Screen</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">screen</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">NoScreenDetected</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rr_screen</span> <span class="o">=</span> <span class="n">GnomeDesktop</span><span class="o">.</span><span class="n">RRScreen</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rr_config</span> <span class="o">=</span> <span class="n">GnomeDesktop</span><span class="o">.</span><span class="n">RRConfig</span><span class="o">.</span><span class="n">new_current</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rr_screen</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rr_config</span><span class="o">.</span><span class="n">load_current</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DisplayManager.get_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_config</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.display.DisplayManager.get_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the current display resolution
This method uses XrandR and will not work on wayland
The output can be fed in <code>set_resolution</code></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_config</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the current display resolution</span>
<span class="sd">    This method uses XrandR and will not work on wayland</span>
<span class="sd">    The output can be fed in `set_resolution`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_outputs</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DisplayManager.get_current_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.display.DisplayManager.get_current_resolution" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the current resolution for the primary display</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the current resolution for the primary display&quot;&quot;&quot;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_primary_output</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">output</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get a default output&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
    <span class="n">current_mode</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">get_current_mode</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_mode</span><span class="o">.</span><span class="n">get_width</span><span class="p">()),</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_mode</span><span class="o">.</span><span class="n">get_height</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DisplayManager.get_display_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_display_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.display.DisplayManager.get_display_names" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return names of connected displays</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_display_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return names of connected displays&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">output_info</span><span class="o">.</span><span class="n">get_display_name</span><span class="p">()</span> <span class="k">for</span> <span class="n">output_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rr_config</span><span class="o">.</span><span class="n">get_outputs</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DisplayManager.get_resolutions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_resolutions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.display.DisplayManager.get_resolutions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return available resolutions</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_resolutions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return available resolutions&quot;&quot;&quot;</span>
    <span class="n">resolutions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">x</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">get_width</span><span class="p">(),</span> <span class="n">mode</span><span class="o">.</span><span class="n">get_height</span><span class="p">())</span> <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rr_screen</span><span class="o">.</span><span class="n">list_modes</span><span class="p">()]</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">resolutions</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.display.DisplayManager.set_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.display.DisplayManager.set_resolution" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Set the resolution of one or more displays.
The resolution can either be a string, which will be applied to the
primary display or a list of configurations as returned by <code>get_config</code>.
This method uses XrandR and will not work on Wayland.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">set_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set the resolution of one or more displays.</span>
<span class="sd">    The resolution can either be a string, which will be applied to the</span>
<span class="sd">    primary display or a list of configurations as returned by `get_config`.</span>
<span class="sd">    This method uses XrandR and will not work on Wayland.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">change_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.display.NoScreenDetected" class="doc doc-heading">
        <code>
NoScreenDetected            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.util.display.NoScreenDetected" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Raise this when unable to detect screens</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NoScreenDetected</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Raise this when unable to detect screens&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.util.display.disable_compositing" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_compositing</span><span class="p">()</span></code>


<a href="#lutris.util.display.disable_compositing" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Disable compositing if not already disabled.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">disable_compositing</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Disable compositing if not already disabled.&quot;&quot;&quot;</span>
    <span class="n">compositing_enabled</span> <span class="o">=</span> <span class="n">is_compositing_enabled</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">compositing_enabled</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">compositing_enabled</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">_COMPOSITING_DISABLED_STACK</span><span class="p">):</span>
        <span class="n">compositing_enabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_COMPOSITING_DISABLED_STACK</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compositing_enabled</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">compositing_enabled</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">stop_compositor</span> <span class="o">=</span> <span class="n">_get_compositor_commands</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">stop_compositor</span><span class="p">:</span>
        <span class="n">_run_command</span><span class="p">(</span><span class="o">*</span><span class="n">stop_compositor</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.display.enable_compositing" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_compositing</span><span class="p">()</span></code>


<a href="#lutris.util.display.enable_compositing" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Re-enable compositing if the corresponding call to disable_compositing
disabled it.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable_compositing</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Re-enable compositing if the corresponding call to disable_compositing</span>
<span class="sd">    disabled it.&quot;&quot;&quot;</span>

    <span class="n">compositing_disabled</span> <span class="o">=</span> <span class="n">_COMPOSITING_DISABLED_STACK</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">compositing_disabled</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">start_compositor</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">_get_compositor_commands</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">start_compositor</span><span class="p">:</span>
        <span class="n">_run_command</span><span class="p">(</span><span class="o">*</span><span class="n">start_compositor</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.display.get_default_dpi" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_dpi</span><span class="p">()</span></code>


<a href="#lutris.util.display.get_default_dpi" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Computes the DPI to use for the primary monitor
which we pass to WINE.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_default_dpi</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Computes the DPI to use for the primary monitor</span>
<span class="sd">    which we pass to WINE.&quot;&quot;&quot;</span>
    <span class="n">display</span> <span class="o">=</span> <span class="n">Gdk</span><span class="o">.</span><span class="n">Display</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
    <span class="n">monitor</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">get_primary_monitor</span><span class="p">()</span>
    <span class="n">scale</span> <span class="o">=</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get_scale_factor</span><span class="p">()</span>
    <span class="n">dpi</span> <span class="o">=</span> <span class="mi">96</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">dpi</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.display.get_desktop_environment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_desktop_environment</span><span class="p">()</span></code>


<a href="#lutris.util.display.get_desktop_environment" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Converts the value of the DESKTOP_SESSION environment variable
to one of the constants in the DesktopEnvironment class.
Returns None if DESKTOP_SESSION is empty or unset.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_desktop_environment</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Converts the value of the DESKTOP_SESSION environment variable</span>
<span class="sd">    to one of the constants in the DesktopEnvironment class.</span>
<span class="sd">    Returns None if DESKTOP_SESSION is empty or unset.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">desktop_session</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DESKTOP_SESSION&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">desktop_session</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">desktop_session</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;plasma&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">PLASMA</span>
    <span class="k">if</span> <span class="n">desktop_session</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;mate&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">MATE</span>
    <span class="k">if</span> <span class="n">desktop_session</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;xfce&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">XFCE</span>
    <span class="k">if</span> <span class="n">desktop_session</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;deepin&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">DEEPIN</span>
    <span class="k">return</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">UNKNOWN</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.display.get_display_manager" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_display_manager</span><span class="p">()</span></code>


<a href="#lutris.util.display.get_display_manager" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the appropriate display manager instance.
Defaults to Mutter if available. This is the only one to support Wayland.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_display_manager</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the appropriate display manager instance.</span>
<span class="sd">    Defaults to Mutter if available. This is the only one to support Wayland.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">DBUS_AVAILABLE</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">MutterDisplayManager</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">DBusException</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Mutter DBus service not reachable: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Failed to instanciate MutterDisplayConfig. Please report with exception: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;DBus is not available, lutris was not properly installed.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">LIB_GNOME_DESKTOP_AVAILABLE</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">DisplayManager</span><span class="p">()</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">GLib</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">NoScreenDetected</span><span class="p">):</span>
            <span class="k">pass</span>
    <span class="k">return</span> <span class="n">LegacyDisplayManager</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.display.is_compositing_enabled" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_compositing_enabled</span><span class="p">()</span></code>


<a href="#lutris.util.display.is_compositing_enabled" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Checks whether compositing is currently disabled or enabled.
Returns True for enabled, False for disabled, and None if unknown.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_compositing_enabled</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Checks whether compositing is currently disabled or enabled.</span>
<span class="sd">    Returns True for enabled, False for disabled, and None if unknown.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">desktop_environment</span> <span class="o">=</span> <span class="n">get_desktop_environment</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">desktop_environment</span> <span class="ow">is</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">PLASMA</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_get_command_output</span><span class="p">(</span>
            <span class="s2">&quot;qdbus&quot;</span><span class="p">,</span> <span class="s2">&quot;org.kde.KWin&quot;</span><span class="p">,</span> <span class="s2">&quot;/Compositor&quot;</span><span class="p">,</span> <span class="s2">&quot;org.kde.kwin.Compositing.active&quot;</span>
        <span class="p">)</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;true</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="n">desktop_environment</span> <span class="ow">is</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">MATE</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_get_command_output</span><span class="p">(</span><span class="s2">&quot;gsettings&quot;</span><span class="p">,</span> <span class="s2">&quot;get org.mate.Marco.general&quot;</span><span class="p">,</span> <span class="s2">&quot;compositing-manager&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;true</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="n">desktop_environment</span> <span class="ow">is</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">XFCE</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_get_command_output</span><span class="p">(</span>
            <span class="s2">&quot;xfconf-query&quot;</span><span class="p">,</span> <span class="s2">&quot;--channel=xfwm4&quot;</span><span class="p">,</span> <span class="s2">&quot;--property=/general/use_compositing&quot;</span>
        <span class="p">)</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;true</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="n">desktop_environment</span> <span class="ow">is</span> <span class="n">DesktopEnvironment</span><span class="o">.</span><span class="n">DEEPIN</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_get_command_output</span><span class="p">(</span>
            <span class="s2">&quot;dbus-send&quot;</span><span class="p">,</span> <span class="s2">&quot;--session&quot;</span><span class="p">,</span> <span class="s2">&quot;--dest=com.deepin.WMSwitcher&quot;</span><span class="p">,</span> <span class="s2">&quot;--type=method_call&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--print-reply=literal&quot;</span><span class="p">,</span> <span class="s2">&quot;/com/deepin/WMSwitcher&quot;</span><span class="p">,</span> <span class="s2">&quot;com.deepin.WMSwitcher.CurrentWM&quot;</span>
        <span class="p">)</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;deepin wm</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.display.restore_gamma" class="doc doc-heading">
<code class="highlight language-python"><span class="n">restore_gamma</span><span class="p">()</span></code>


<a href="#lutris.util.display.restore_gamma" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Restores gamma to a normal level.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/display.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">restore_gamma</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Restores gamma to a normal level.&quot;&quot;&quot;</span>
    <span class="n">xgamma_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;xgamma&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">xgamma_path</span><span class="p">,</span> <span class="s2">&quot;-gamma&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">])</span>  <span class="c1"># pylint: disable=consider-using-with</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;xgamma is not available on your system&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">PermissionError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;you do not have permission to call xgamma&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.dolphin" class="doc doc-heading">
        <code>dolphin</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.dolphin" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="lutris.util.dolphin.cache_reader" class="doc doc-heading">
        <code>cache_reader</code>



<a href="#lutris.util.dolphin.cache_reader" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Reads the Dolphin game database, stored in a binary format</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.dolphin.cache_reader.CACHE_REVISION" class="doc doc-heading">
<code class="highlight language-python"><span class="n">CACHE_REVISION</span></code>


<a href="#lutris.util.dolphin.cache_reader.CACHE_REVISION" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.dolphin.cache_reader.DOLPHIN_GAME_CACHE_FILE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DOLPHIN_GAME_CACHE_FILE</span></code>


<a href="#lutris.util.dolphin.cache_reader.DOLPHIN_GAME_CACHE_FILE" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h4 id="lutris.util.dolphin.cache_reader.DolphinCacheReader" class="doc doc-heading">
        <code>
DolphinCacheReader        </code>



<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DolphinCacheReader</span><span class="p">:</span>
    <span class="n">header_size</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">structure</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;valid&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span>
        <span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;file_name&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;file_size&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="s1">&#39;volume_size&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="s1">&#39;volume_size_is_accurate&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;is_datel_disc&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;is_nkit&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;short_names&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
        <span class="s1">&#39;long_names&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
        <span class="s1">&#39;short_makers&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
        <span class="s1">&#39;long_makers&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
        <span class="s1">&#39;descriptions&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
        <span class="s1">&#39;internal_name&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;game_id&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;gametdb_id&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;title_id&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="s1">&#39;maker_id&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;region&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s1">&#39;country&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s1">&#39;platform&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;platform_&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s1">&#39;blob_type&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s1">&#39;block_size&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="s1">&#39;compression_method&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;revision&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;disc_number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;apploader_date&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;custom_name&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;custom_description&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;custom_maker&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;volume_banner&#39;</span><span class="p">:</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
        <span class="s1">&#39;custom_banner&#39;</span><span class="p">:</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
        <span class="s1">&#39;default_cover&#39;</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
        <span class="s1">&#39;custom_cover&#39;</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">DOLPHIN_GAME_CACHE_FILE</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dolphin_cache_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span> <span class="o">=</span> <span class="n">dolphin_cache_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span> <span class="o">!=</span> <span class="n">CACHE_REVISION</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Incompatible Dolphin version&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">game</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span>
                <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_string</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span>
                <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_boolean</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span>
                <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_array</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span>
                <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_image</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span>
                <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cover</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_raw</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">game</span>

    <span class="k">def</span> <span class="nf">get_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">header_size</span>
        <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_game</span><span class="p">())</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to read Dolphin database: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">games</span>

    <span class="k">def</span> <span class="nf">get_boolean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">get_array</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">array_len</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
        <span class="n">array</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">array_len</span><span class="p">):</span>
            <span class="n">array_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_raw</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="n">array</span><span class="p">[</span><span class="n">array_key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_string</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">array</span>

    <span class="k">def</span> <span class="nf">get_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data_len</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">data_len</span> <span class="o">*</span> <span class="mi">4</span><span class="p">]</span>  <span class="c1"># vector&lt;u32&gt;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="n">data_len</span> <span class="o">*</span> <span class="mi">4</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">get_cover</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">array_len</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_raw</span><span class="p">(</span><span class="n">array_len</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word_len</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">get_hex_string</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">word_len</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="n">word_len</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">get_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">word_len</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
        <span class="n">string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">word_len</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="n">word_len</span>
        <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.header_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">header_size</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.header_size" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.structure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">structure</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.structure" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">DOLPHIN_GAME_CACHE_FILE</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dolphin_cache_file</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span> <span class="o">=</span> <span class="n">dolphin_cache_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span> <span class="o">!=</span> <span class="n">CACHE_REVISION</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Incompatible Dolphin version&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.get_array" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_array</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_array" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_array</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">array_len</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
    <span class="n">array</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">array_len</span><span class="p">):</span>
        <span class="n">array_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_raw</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="n">array</span><span class="p">[</span><span class="n">array_key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_string</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">array</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.get_boolean" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_boolean</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_boolean" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_boolean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.get_cover" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_cover</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_cover" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_cover</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">array_len</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_raw</span><span class="p">(</span><span class="n">array_len</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.get_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_game" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">game</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span>
            <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_string</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span>
            <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_boolean</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span>
            <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_array</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;i&#39;</span><span class="p">:</span>
            <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_image</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span>
            <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cover</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">game</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_raw</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">game</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.get_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_games" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_games</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">header_size</span>
    <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_game</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to read Dolphin database: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">games</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.get_image" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_image</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_image" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">data_len</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
    <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">data_len</span> <span class="o">*</span> <span class="mi">4</span><span class="p">]</span>  <span class="c1"># vector&lt;u32&gt;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="n">data_len</span> <span class="o">*</span> <span class="mi">4</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">),</span> <span class="n">res</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.get_raw" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word_len</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_raw" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word_len</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">get_hex_string</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">word_len</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="n">word_len</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.dolphin.cache_reader.DolphinCacheReader.get_string" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.DolphinCacheReader.get_string" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">word_len</span> <span class="o">=</span> <span class="n">get_word_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="mi">4</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="mi">4</span>
    <span class="n">string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_content</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">word_len</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">+=</span> <span class="n">word_len</span>
    <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="lutris.util.dolphin.cache_reader.get_hex_string" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_hex_string</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.get_hex_string" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the hexadecimal representation of a string</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_hex_string</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the hexadecimal representation of a string&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:02x}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">string</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.dolphin.cache_reader.get_word_len" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_word_len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></code>


<a href="#lutris.util.dolphin.cache_reader.get_word_len" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the length of a string as specified in the Dolphin format</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/dolphin/cache_reader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_word_len</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the length of a string as specified in the Dolphin format&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="s2">&quot;0x&quot;</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:02x}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">string</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.downloader" class="doc doc-heading">
        <code>downloader</code>



<a href="#lutris.util.downloader" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.downloader.get_time" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_time</span></code>


<a href="#lutris.util.downloader.get_time" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.util.downloader.Downloader" class="doc doc-heading">
        <code>
Downloader        </code>



<a href="#lutris.util.downloader.Downloader" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Non-blocking downloader.</p>
<p>Do start() then check_progress() at regular intervals.
Download is done when check_progress() returns 1.0.
Stop with cancel().</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Downloader</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Non-blocking downloader.</span>

<span class="sd">    Do start() then check_progress() at regular intervals.</span>
<span class="sd">    Download is done when check_progress() returns 1.0.</span>
<span class="sd">    Stop with cancel().</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="p">(</span>
        <span class="n">INIT</span><span class="p">,</span>
        <span class="n">DOWNLOADING</span><span class="p">,</span>
        <span class="n">CANCELLED</span><span class="p">,</span>
        <span class="n">ERROR</span><span class="p">,</span>
        <span class="n">COMPLETED</span>
    <span class="p">)</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">referer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dest</span> <span class="o">=</span> <span class="n">dest</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overwrite</span> <span class="o">=</span> <span class="n">overwrite</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">referer</span> <span class="o">=</span> <span class="n">referer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span>

        <span class="c1"># Read these after a check_progress()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">INIT</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_percentage</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_left</span> <span class="o">=</span> <span class="s2">&quot;00:00:00&quot;</span>  <span class="c1"># Based on average speed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed_check_time</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_left_check_time</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;downloader for </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Start download job.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;⬇ </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DOWNLOADING</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">overwrite</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span>  <span class="c1"># pylint: disable=consider-using-with</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="n">jobs</span><span class="o">.</span><span class="n">AsyncCall</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">async_download</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_cb</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">stop_request</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Reset the state of the downloader&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">INIT</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_percentage</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_left</span> <span class="o">=</span> <span class="s2">&quot;00:00:00&quot;</span>  <span class="c1"># Based on average speed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed_check_time</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_left_check_time</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">check_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Append last downloaded chunk to dest file and store stats.</span>

<span class="sd">        :return: progress (between 0.0 and 1.0)&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">CANCELLED</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ERROR</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_stats</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span>

    <span class="k">def</span> <span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Request download stop and remove destination file.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;❌ </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CANCELLED</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">download_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_result</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Download failed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ERROR</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">CANCELLED</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Finished downloading </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Downloaded file is empty&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">=</span> <span class="mf">1.0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_percentage</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COMPLETED</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">async_download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop_request</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">default_headers</span><span class="p">()</span>
        <span class="n">headers</span><span class="p">[</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Lutris/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">__version__</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">referer</span><span class="p">:</span>
            <span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Referer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">referer</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> returned a </span><span class="si">%s</span><span class="s2"> error&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Content-Length&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">chunk</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Calculate and store download stats.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_speed</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_average_time_left</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_size</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_percentage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="k">def</span> <span class="nf">get_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return (speed, average speed) tuple.&quot;&quot;&quot;</span>
        <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span>
        <span class="n">chunk_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_size</span>
        <span class="n">speed</span> <span class="o">=</span> <span class="n">chunk_size</span> <span class="o">/</span> <span class="n">elapsed_time</span> <span class="ow">or</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>

        <span class="c1"># Average speed</span>
        <span class="k">if</span> <span class="n">get_time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed_check_time</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Minimum delay</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span>

        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">7</span><span class="p">:</span>
            <span class="c1"># Skim extreme values</span>
            <span class="n">samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="p">[:]</span>

        <span class="n">average_speed</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">speed_check_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">speed</span><span class="p">,</span> <span class="n">average_speed</span>

    <span class="k">def</span> <span class="nf">get_average_time_left</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return average download time left as string.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;???&quot;</span>

        <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_left_check_time</span>
        <span class="k">if</span> <span class="n">elapsed_time</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Minimum delay</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_left</span>

        <span class="n">average_time_left</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_size</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span>
        <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">average_time_left</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
        <span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">minutes</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_left_check_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.downloader.Downloader.CANCELLED" class="doc doc-heading">
<code class="highlight language-python"><span class="n">CANCELLED</span></code>


<a href="#lutris.util.downloader.Downloader.CANCELLED" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.downloader.Downloader.COMPLETED" class="doc doc-heading">
<code class="highlight language-python"><span class="n">COMPLETED</span></code>


<a href="#lutris.util.downloader.Downloader.COMPLETED" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.downloader.Downloader.DOWNLOADING" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DOWNLOADING</span></code>


<a href="#lutris.util.downloader.Downloader.DOWNLOADING" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.downloader.Downloader.ERROR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ERROR</span></code>


<a href="#lutris.util.downloader.Downloader.ERROR" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.downloader.Downloader.INIT" class="doc doc-heading">
<code class="highlight language-python"><span class="n">INIT</span></code>


<a href="#lutris.util.downloader.Downloader.INIT" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">referer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.downloader.Downloader.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">referer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dest</span> <span class="o">=</span> <span class="n">dest</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">overwrite</span> <span class="o">=</span> <span class="n">overwrite</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">referer</span> <span class="o">=</span> <span class="n">referer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span>

    <span class="c1"># Read these after a check_progress()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">INIT</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Bytes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Bytes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_percentage</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time_left</span> <span class="o">=</span> <span class="s2">&quot;00:00:00&quot;</span>  <span class="c1"># Based on average speed</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_size</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">speed_check_time</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time_left_check_time</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.downloader.Downloader.__str__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;downloader for </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.async_download" class="doc doc-heading">
<code class="highlight language-python"><span class="n">async_download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop_request</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.async_download" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">async_download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop_request</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">default_headers</span><span class="p">()</span>
    <span class="n">headers</span><span class="p">[</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Lutris/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">__version__</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">referer</span><span class="p">:</span>
        <span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Referer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">referer</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> returned a </span><span class="si">%s</span><span class="s2"> error&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Content-Length&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">if</span> <span class="n">chunk</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.cancel" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.cancel" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Request download stop and remove destination file.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Request download stop and remove destination file.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;❌ </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CANCELLED</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.check_progress" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.check_progress" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Append last downloaded chunk to dest file and store stats.</p>
<p>:return: progress (between 0.0 and 1.0)</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Append last downloaded chunk to dest file and store stats.</span>

<span class="sd">    :return: progress (between 0.0 and 1.0)&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">CANCELLED</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ERROR</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_stats</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.download_cb" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_result</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.download_cb" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_result</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Download failed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ERROR</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">CANCELLED</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Finished downloading </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Downloaded file is empty&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_percentage</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">COMPLETED</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.get_average_time_left" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_average_time_left</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.get_average_time_left" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return average download time left as string.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_average_time_left</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return average download time left as string.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;???&quot;</span>

    <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_left_check_time</span>
    <span class="k">if</span> <span class="n">elapsed_time</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Minimum delay</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_left</span>

    <span class="n">average_time_left</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_size</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span>
    <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">average_time_left</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">minutes</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time_left_check_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.get_speed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.get_speed" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return (speed, average speed) tuple.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return (speed, average speed) tuple.&quot;&quot;&quot;</span>
    <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span>
    <span class="n">chunk_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_size</span>
    <span class="n">speed</span> <span class="o">=</span> <span class="n">chunk_size</span> <span class="o">/</span> <span class="n">elapsed_time</span> <span class="ow">or</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>

    <span class="c1"># Average speed</span>
    <span class="k">if</span> <span class="n">get_time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed_check_time</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Minimum delay</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span>

    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">7</span><span class="p">:</span>
        <span class="c1"># Skim extreme values</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span><span class="p">[:]</span>

    <span class="n">average_speed</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">speed_check_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">speed</span><span class="p">,</span> <span class="n">average_speed</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.get_stats" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.get_stats" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Calculate and store download stats.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculate and store download stats.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_speed</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time_left</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_average_time_left</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_percentage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">*</span> <span class="mi">100</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.reset" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.reset" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Reset the state of the downloader</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Reset the state of the downloader&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">INIT</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Bytes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">full_size</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Bytes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_fraction</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_percentage</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">average_speed</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time_left</span> <span class="o">=</span> <span class="s2">&quot;00:00:00&quot;</span>  <span class="c1"># Based on average speed</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_size</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_speeds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">speed_check_time</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time_left_check_time</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.downloader.Downloader.start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.downloader.Downloader.start" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Start download job.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/downloader.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Start download job.&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;⬇ </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DOWNLOADING</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_check_time</span> <span class="o">=</span> <span class="n">get_time</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">overwrite</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span>  <span class="c1"># pylint: disable=consider-using-with</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">thread</span> <span class="o">=</span> <span class="n">jobs</span><span class="o">.</span><span class="n">AsyncCall</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">async_download</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_cb</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">stop_request</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.egs" class="doc doc-heading">
        <code>egs</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.egs" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="lutris.util.egs.egs_launcher" class="doc doc-heading">
        <code>egs_launcher</code>



<a href="#lutris.util.egs.egs_launcher" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Interact with an exiting EGS install</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.egs.egs_launcher.EGSLauncher" class="doc doc-heading">
        <code>
EGSLauncher        </code>



<a href="#lutris.util.egs.egs_launcher.EGSLauncher" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/egs/egs_launcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EGSLauncher</span><span class="p">:</span>
    <span class="n">manifests_paths</span> <span class="o">=</span> <span class="s1">&#39;ProgramData/Epic/EpicGamesLauncher/Data/Manifests&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix_path</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span> <span class="o">=</span> <span class="n">prefix_path</span>

    <span class="k">def</span> <span class="nf">iter_manifests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">manifests_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s1">&#39;drive_c&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifests_paths</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No valid path for EGS games manifests in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">manifests_path</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">manifest</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">manifest</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.item&quot;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">,</span> <span class="n">manifest</span><span class="p">),</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">manifest_file</span><span class="p">:</span>
                <span class="n">manifest_content</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">manifest_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">manifest_content</span><span class="p">[</span><span class="s2">&quot;MainGameAppName&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">manifest_content</span><span class="p">[</span><span class="s2">&quot;AppName&quot;</span><span class="p">]:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="n">manifest_content</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.egs.egs_launcher.EGSLauncher.manifests_paths" class="doc doc-heading">
<code class="highlight language-python"><span class="n">manifests_paths</span></code>


<a href="#lutris.util.egs.egs_launcher.EGSLauncher.manifests_paths" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.egs.egs_launcher.EGSLauncher.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.egs.egs_launcher.EGSLauncher.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/egs/egs_launcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix_path</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span> <span class="o">=</span> <span class="n">prefix_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.egs.egs_launcher.EGSLauncher.iter_manifests" class="doc doc-heading">
<code class="highlight language-python"><span class="n">iter_manifests</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.egs.egs_launcher.EGSLauncher.iter_manifests" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/egs/egs_launcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">iter_manifests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">manifests_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s1">&#39;drive_c&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifests_paths</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No valid path for EGS games manifests in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">manifests_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">manifest</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">manifest</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.item&quot;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">manifests_path</span><span class="p">,</span> <span class="n">manifest</span><span class="p">),</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">manifest_file</span><span class="p">:</span>
            <span class="n">manifest_content</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">manifest_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">manifest_content</span><span class="p">[</span><span class="s2">&quot;MainGameAppName&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">manifest_content</span><span class="p">[</span><span class="s2">&quot;AppName&quot;</span><span class="p">]:</span>
            <span class="k">continue</span>
        <span class="k">yield</span> <span class="n">manifest_content</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.extract" class="doc doc-heading">
        <code>extract</code>



<a href="#lutris.util.extract" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.util.extract.ExtractFailure" class="doc doc-heading">
        <code>
ExtractFailure            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.util.extract.ExtractFailure" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Exception raised when and archive fails to extract</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExtractFailure</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Exception raised when and archive fails to extract&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.check_inno_exe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_inno_exe</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.extract.check_inno_exe" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Check if a path in a compatible innosetup archive</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_inno_exe</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check if a path in a compatible innosetup archive&quot;&quot;&quot;</span>
    <span class="n">_innoextract_path</span> <span class="o">=</span> <span class="n">get_innoextract_path</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_innoextract_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Innoextract not found, can&#39;t determine type of archive </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">_innoextract_path</span><span class="p">,</span> <span class="s2">&quot;-i&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">]</span>
    <span class="n">return_code</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">return_code</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.decompress_gog" class="doc doc-heading">
<code class="highlight language-python"><span class="n">decompress_gog</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">)</span></code>


<a href="#lutris.util.extract.decompress_gog" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">decompress_gog</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">):</span>
    <span class="n">innoextract_path</span> <span class="o">=</span> <span class="n">get_innoextract_path</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">innoextract_path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;innoextract is not found in the lutris runtime or on the system&quot;</span><span class="p">)</span>
    <span class="n">system</span><span class="o">.</span><span class="n">create_folder</span><span class="p">(</span><span class="n">destination_path</span><span class="p">)</span>  <span class="c1"># innoextract cannot do mkdir -p</span>
    <span class="n">return_code</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="n">innoextract_path</span><span class="p">,</span> <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;-g&quot;</span><span class="p">,</span> <span class="s2">&quot;-d&quot;</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">,</span> <span class="s2">&quot;-e&quot;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">return_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;innoextract failed to extract GOG setup file&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.decompress_gz" class="doc doc-heading">
<code class="highlight language-python"><span class="n">decompress_gz</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">dest_path</span><span class="p">)</span></code>


<a href="#lutris.util.extract.decompress_gz" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Decompress a gzip file.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">decompress_gz</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">dest_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Decompress a gzip file.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">dest_path</span><span class="p">:</span>
        <span class="n">dest_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dest_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dest_filename</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">dest_filename</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dest_filename</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dest_file</span><span class="p">:</span>
        <span class="n">gzipped_file</span> <span class="o">=</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
        <span class="n">dest_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">gzipped_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="n">gzipped_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">dest_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.extract_7zip" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_7zip</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">archive_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.extract.extract_7zip" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_7zip</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">archive_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">_7zip_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;p7zip/7z&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">_7zip_path</span><span class="p">):</span>
        <span class="n">_7zip_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;7z&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">_7zip_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;7zip is not found in the lutris runtime or on the system&quot;</span><span class="p">)</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">_7zip_path</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s2">&quot;-o</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dest</span><span class="p">),</span> <span class="s2">&quot;-aoa&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">archive_type</span> <span class="ow">and</span> <span class="n">archive_type</span> <span class="o">!=</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-t</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">archive_type</span><span class="p">))</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.extract_archive" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_archive</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">to_directory</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">extractor</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.extract.extract_archive" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_archive</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">to_directory</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">extractor</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Extracting </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">to_directory</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">extractor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="n">guess_extractor</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="n">opener</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">get_archive_opener</span><span class="p">(</span><span class="n">extractor</span><span class="p">)</span>

    <span class="n">temp_path</span> <span class="o">=</span> <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_directory</span><span class="p">,</span> <span class="s2">&quot;.extract-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">random_id</span><span class="p">())</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">_do_extract</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">temp_path</span><span class="p">,</span> <span class="n">opener</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">extractor</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="n">zlib</span><span class="o">.</span><span class="n">error</span><span class="p">,</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">ReadError</span><span class="p">,</span> <span class="ne">EOFError</span><span class="p">)</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Extraction failed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">ExtractFailure</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="k">if</span> <span class="n">merge_single</span><span class="p">:</span>
        <span class="n">extracted</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">temp_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">extracted</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">temp_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_path</span><span class="p">,</span> <span class="n">extracted</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">temp_path</span><span class="p">):</span>
        <span class="n">destination_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_directory</span><span class="p">,</span> <span class="n">extracted</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">destination_path</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Overwrite existing file </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">destination_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">destination_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">destination_path</span><span class="p">,</span> <span class="n">destination_path</span> <span class="o">+</span> <span class="n">random_id</span><span class="p">())</span>

        <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">temp_path</span><span class="p">,</span> <span class="n">to_directory</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">removedirs</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">archive_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">temp_path</span><span class="p">):</span>
            <span class="n">source_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_path</span><span class="p">,</span> <span class="n">archive_file</span><span class="p">)</span>
            <span class="n">destination_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_directory</span><span class="p">,</span> <span class="n">archive_file</span><span class="p">)</span>
            <span class="c1"># logger.debug(&quot;Moving extracted files from %s to %s&quot;, source_path, destination_path)</span>

            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">destination_path</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Overwrite existing path </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">destination_path</span><span class="p">):</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">destination_path</span><span class="p">)</span>
                    <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">destination_path</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">system</span><span class="o">.</span><span class="n">merge_folders</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                            <span class="s2">&quot;Failed to merge to destination </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                            <span class="n">destination_path</span><span class="p">,</span>
                            <span class="n">ex</span><span class="p">,</span>
                        <span class="p">)</span>
                        <span class="k">raise</span> <span class="n">ExtractFailure</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">)</span>
        <span class="n">system</span><span class="o">.</span><span class="n">remove_folder</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Finished extracting </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">to_directory</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">path</span><span class="p">,</span> <span class="n">to_directory</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.extract_deb" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_deb</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span></code>


<a href="#lutris.util.extract.extract_deb" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract the contents of a deb file to a destination folder</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_deb</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">dest</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract the contents of a deb file to a destination folder&quot;&quot;&quot;</span>
    <span class="n">extract_7zip</span><span class="p">(</span><span class="n">archive</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">archive_type</span><span class="o">=</span><span class="s2">&quot;ar&quot;</span><span class="p">)</span>
    <span class="n">debian_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="s2">&quot;debian&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">debian_folder</span><span class="p">)</span>

    <span class="n">control_file_exts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.gz&quot;</span><span class="p">,</span> <span class="s2">&quot;.xz&quot;</span><span class="p">,</span> <span class="s2">&quot;.zst&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">extension</span> <span class="ow">in</span> <span class="n">control_file_exts</span><span class="p">:</span>
        <span class="n">control_tar_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="s2">&quot;control.tar</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">extension</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">control_tar_path</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">control_tar_path</span><span class="p">,</span> <span class="n">debian_folder</span><span class="p">)</span>
            <span class="k">break</span>

    <span class="n">data_file_exts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.gz&quot;</span><span class="p">,</span> <span class="s2">&quot;.xz&quot;</span><span class="p">,</span> <span class="s2">&quot;.zst&quot;</span><span class="p">,</span> <span class="s2">&quot;.bz2&quot;</span><span class="p">,</span> <span class="s2">&quot;.lzma&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">extension</span> <span class="ow">in</span> <span class="n">data_file_exts</span><span class="p">:</span>
        <span class="n">data_tar_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="s2">&quot;data.tar</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">extension</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">data_tar_path</span><span class="p">):</span>
            <span class="n">extract_archive</span><span class="p">(</span><span class="n">data_tar_path</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">data_tar_path</span><span class="p">)</span>
            <span class="k">break</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.extract_exe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_exe</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span></code>


<a href="#lutris.util.extract.extract_exe" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_exe</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">check_inno_exe</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">decompress_gog</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># use 7za to check if exe is an archive</span>
        <span class="n">_7zip_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;p7zip/7za&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">_7zip_path</span><span class="p">):</span>
            <span class="n">_7zip_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;7za&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">_7zip_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;7zip is not found in the lutris runtime or on the system&quot;</span><span class="p">)</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">_7zip_path</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">]</span>
        <span class="n">return_code</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">return_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">extract_7zip</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;specified exe is not an archive or GOG setup file&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.extract_gog" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_gog</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span></code>


<a href="#lutris.util.extract.extract_gog" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_gog</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">check_inno_exe</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">decompress_gog</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;specified exe is not a GOG setup file&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.get_archive_opener" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_archive_opener</span><span class="p">(</span><span class="n">extractor</span><span class="p">)</span></code>


<a href="#lutris.util.extract.get_archive_opener" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the archive opener and optional mode for an extractor</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_archive_opener</span><span class="p">(</span><span class="n">extractor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the archive opener and optional mode for an extractor&quot;&quot;&quot;</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;tar&quot;</span><span class="p">:</span>
        <span class="n">opener</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">,</span> <span class="s2">&quot;r:&quot;</span>
    <span class="k">elif</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;tgz&quot;</span><span class="p">:</span>
        <span class="n">opener</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">,</span> <span class="s2">&quot;r:gz&quot;</span>
    <span class="k">elif</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;txz&quot;</span><span class="p">:</span>
        <span class="n">opener</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">,</span> <span class="s2">&quot;r:xz&quot;</span>
    <span class="k">elif</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;tbz2&quot;</span><span class="p">:</span>
        <span class="n">opener</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">,</span> <span class="s2">&quot;r:bz2&quot;</span>
    <span class="k">elif</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;tzst&quot;</span><span class="p">:</span>
        <span class="n">opener</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">,</span> <span class="s2">&quot;r:zst&quot;</span>  <span class="c1"># Note: not supported by tarfile yet</span>
    <span class="k">elif</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;gzip&quot;</span><span class="p">:</span>
        <span class="n">opener</span> <span class="o">=</span> <span class="s2">&quot;gz&quot;</span>
    <span class="k">elif</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;gog&quot;</span><span class="p">:</span>
        <span class="n">opener</span> <span class="o">=</span> <span class="s2">&quot;innoextract&quot;</span>
    <span class="k">elif</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;exe&quot;</span><span class="p">:</span>
        <span class="n">opener</span> <span class="o">=</span> <span class="s2">&quot;exe&quot;</span>
    <span class="k">elif</span> <span class="n">extractor</span> <span class="o">==</span> <span class="s2">&quot;deb&quot;</span><span class="p">:</span>
        <span class="n">opener</span> <span class="o">=</span> <span class="s2">&quot;deb&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">opener</span> <span class="o">=</span> <span class="s2">&quot;7zip&quot;</span>
    <span class="k">return</span> <span class="n">opener</span><span class="p">,</span> <span class="n">mode</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.get_innoextract_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_innoextract_list</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


<a href="#lutris.util.extract.get_innoextract_list" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the list of files contained in a GOG archive</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_innoextract_list</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the list of files contained in a GOG archive&quot;&quot;&quot;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">read_process_output</span><span class="p">([</span><span class="n">get_innoextract_path</span><span class="p">(),</span> <span class="s2">&quot;-lmq&quot;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">line</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">line</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.get_innoextract_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_innoextract_path</span><span class="p">()</span></code>


<a href="#lutris.util.extract.get_innoextract_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the path where innoextract is installed</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_innoextract_path</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the path where innoextract is installed&quot;&quot;&quot;</span>
    <span class="n">inno_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNTIME_DIR</span><span class="p">)</span> <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;innoextract&quot;</span><span class="p">)]</span>
    <span class="k">if</span> <span class="n">inno_dirs</span><span class="p">:</span>
        <span class="n">inno_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="n">inno_dirs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;innoextract&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">inno_path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;innoextract&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inno_path</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;innoextract not available in the runtime folder, using some random version&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">inno_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">inno_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.guess_extractor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">guess_extractor</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.extract.guess_extractor" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Guess what extractor should be used from a file name</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">guess_extractor</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Guess what extractor should be used from a file name&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.tar&quot;</span><span class="p">):</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="s2">&quot;tar&quot;</span>
    <span class="k">elif</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;.tar.gz&quot;</span><span class="p">,</span> <span class="s2">&quot;.tgz&quot;</span><span class="p">)):</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="s2">&quot;tgz&quot;</span>
    <span class="k">elif</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;.tar.xz&quot;</span><span class="p">,</span> <span class="s2">&quot;.txz&quot;</span><span class="p">,</span> <span class="s2">&quot;.tar.lzma&quot;</span><span class="p">)):</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="s2">&quot;txz&quot;</span>
    <span class="k">elif</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;.tar.bz2&quot;</span><span class="p">,</span> <span class="s2">&quot;.tbz2&quot;</span><span class="p">,</span> <span class="s2">&quot;.tbz&quot;</span><span class="p">)):</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="s2">&quot;tbz2&quot;</span>
    <span class="k">elif</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s2">&quot;.tar.zst&quot;</span><span class="p">,</span> <span class="s2">&quot;.tzst&quot;</span><span class="p">)):</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="s2">&quot;tzst&quot;</span>
    <span class="k">elif</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.gz&quot;</span><span class="p">):</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="s2">&quot;gzip&quot;</span>
    <span class="k">elif</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.exe&quot;</span><span class="p">):</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="s2">&quot;exe&quot;</span>
    <span class="k">elif</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.deb&quot;</span><span class="p">):</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="s2">&quot;deb&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">extractor</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">extractor</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.is_7zip_supported" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_7zip_supported</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">extractor</span><span class="p">)</span></code>


<a href="#lutris.util.extract.is_7zip_supported" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_7zip_supported</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">extractor</span><span class="p">):</span>
    <span class="n">supported_extractors</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;7z&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bzip2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gzip&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zip&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arj&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cab&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cpio&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cramfs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dmg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ext&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gpt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hfs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ihex&quot;</span><span class="p">,</span>
        <span class="s2">&quot;iso&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lzh&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lzma&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mbr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;msi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nsis&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ntfs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qcow2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rpm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;squashfs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;udf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uefi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vdi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vhd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;vmdk&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wim&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;z&quot;</span><span class="p">,</span>
        <span class="s2">&quot;auto&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">extractor</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">extractor</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">supported_extractors</span>
    <span class="n">_base</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ext</span><span class="p">:</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">ext</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">ext</span> <span class="ow">in</span> <span class="n">supported_extractors</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.extract.random_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">random_id</span><span class="p">()</span></code>


<a href="#lutris.util.extract.random_id" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a random ID</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/extract.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">random_id</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return a random ID&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())[:</span><span class="mi">8</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.fileio" class="doc doc-heading">
        <code>fileio</code>



<a href="#lutris.util.fileio" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.util.fileio.EvilConfigParser" class="doc doc-heading">
        <code>
EvilConfigParser            (<span title="configparser.RawConfigParser">RawConfigParser</span>)
        </code>



<a href="#lutris.util.fileio.EvilConfigParser" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>ConfigParser with support for evil INIs using duplicate keys.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/fileio.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">EvilConfigParser</span><span class="p">(</span><span class="n">RawConfigParser</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-ancestors</span>

    <span class="sd">&quot;&quot;&quot;ConfigParser with support for evil INIs using duplicate keys.&quot;&quot;&quot;</span>

    <span class="n">_SECT_TMPL</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        \[                                 # [</span>
<span class="s2">        (?P&lt;header&gt;[^]]+)                  # very permissive!</span>
<span class="s2">        \]                                 # ]</span>
<span class="s2">        &quot;&quot;&quot;</span>
    <span class="n">_OPT_TMPL</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        (?P&lt;option&gt;.*?)                    # very permissive!</span>
<span class="s2">        \s*(?P&lt;vi&gt;</span><span class="si">{delim}</span><span class="s2">)\s*              # any number of space/tab,</span>
<span class="s2">                                           # followed by any of the</span>
<span class="s2">                                           # allowed delimiters,</span>
<span class="s2">                                           # followed by any space/tab</span>
<span class="s2">        (?P&lt;value&gt;.*)$                     # everything up to eol</span>
<span class="s2">        &quot;&quot;&quot;</span>
    <span class="n">_OPT_NV_TMPL</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        (?P&lt;option&gt;.*?)                    # very permissive!</span>
<span class="s2">        \s*(?:                             # any number of space/tab,</span>
<span class="s2">        (?P&lt;vi&gt;</span><span class="si">{delim}</span><span class="s2">)\s*                 # optionally followed by</span>
<span class="s2">                                           # any of the allowed</span>
<span class="s2">                                           # delimiters, followed by any</span>
<span class="s2">                                           # space/tab</span>
<span class="s2">        (?P&lt;value&gt;.*))?$                   # everything up to eol</span>
<span class="s2">        &quot;&quot;&quot;</span>

    <span class="c1"># Remove colon from separators since it will mess with some config files</span>
    <span class="n">OPTCRE</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">_OPT_TMPL</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">delim</span><span class="o">=</span><span class="s2">&quot;=&quot;</span><span class="p">),</span> <span class="n">re</span><span class="o">.</span><span class="n">VERBOSE</span><span class="p">)</span>
    <span class="n">OPTCRE_NV</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">_OPT_NV_TMPL</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">delim</span><span class="o">=</span><span class="s2">&quot;=&quot;</span><span class="p">),</span> <span class="n">re</span><span class="o">.</span><span class="n">VERBOSE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">space_around_delimiters</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sections</span><span class="p">:</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;[</span><span class="si">{}</span><span class="s2">]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">section</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sections</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;__name__&quot;</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_optcre</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">OPTCRE</span><span class="p">):</span>
                    <span class="c1"># Duplicated keys writing support inside</span>
                    <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;=&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="si">%s</span><span class="s2">=&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)))</span>
                <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.fileio.EvilConfigParser.OPTCRE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">OPTCRE</span></code>


<a href="#lutris.util.fileio.EvilConfigParser.OPTCRE" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.fileio.EvilConfigParser.OPTCRE_NV" class="doc doc-heading">
<code class="highlight language-python"><span class="n">OPTCRE_NV</span></code>


<a href="#lutris.util.fileio.EvilConfigParser.OPTCRE_NV" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.fileio.EvilConfigParser.write" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">space_around_delimiters</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.util.fileio.EvilConfigParser.write" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Write an .ini-format representation of the configuration state.</p>
<p>If `space_around_delimiters' is True (the default), delimiters
between keys and values are surrounded by spaces.</p>
<p>Please note that comments in the original configuration file are not
preserved when writing the configuration back.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/fileio.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">space_around_delimiters</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sections</span><span class="p">:</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;[</span><span class="si">{}</span><span class="s2">]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">section</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sections</span><span class="p">[</span><span class="n">section</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;__name__&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_optcre</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">OPTCRE</span><span class="p">):</span>
                <span class="c1"># Duplicated keys writing support inside</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;=&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="si">%s</span><span class="s2">=&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">)))</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.fileio.MultiOrderedDict" class="doc doc-heading">
        <code>
MultiOrderedDict            (<span title="collections.OrderedDict">OrderedDict</span>)
        </code>



<a href="#lutris.util.fileio.MultiOrderedDict" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>dict_type to use with an EvilConfigParser instance.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/fileio.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MultiOrderedDict</span><span class="p">(</span><span class="n">OrderedDict</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;dict_type to use with an EvilConfigParser instance.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.fileio.MultiOrderedDict.__setitem__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.fileio.MultiOrderedDict.__setitem__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/fileio.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__setitem__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.game_finder" class="doc doc-heading">
        <code>game_finder</code>



<a href="#lutris.util.game_finder" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Automatically detects game executables in a folder</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.game_finder.find_linux_game_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_linux_game_executable</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">make_executable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.game_finder.find_linux_game_executable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Looks for a binary or shell script that launches the game in a directory</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/game_finder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_linux_game_executable</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">make_executable</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Looks for a binary or shell script that launches the game in a directory&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">_dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">_file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_excluded_elf</span><span class="p">(</span><span class="n">_file</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">abspath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">_file</span><span class="p">)</span>
            <span class="n">file_type</span> <span class="o">=</span> <span class="n">magic</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">abspath</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;ASCII text executable&quot;</span> <span class="ow">in</span> <span class="n">file_type</span><span class="p">:</span>
                <span class="n">candidates</span><span class="p">[</span><span class="s2">&quot;shell&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">abspath</span>
            <span class="k">if</span> <span class="s2">&quot;Bourne-Again shell script&quot;</span> <span class="ow">in</span> <span class="n">file_type</span><span class="p">:</span>
                <span class="n">candidates</span><span class="p">[</span><span class="s2">&quot;bash&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">abspath</span>
            <span class="k">if</span> <span class="s2">&quot;POSIX shell script executable&quot;</span> <span class="ow">in</span> <span class="n">file_type</span><span class="p">:</span>
                <span class="n">candidates</span><span class="p">[</span><span class="s2">&quot;posix&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">abspath</span>
            <span class="k">if</span> <span class="s2">&quot;64-bit LSB executable&quot;</span> <span class="ow">in</span> <span class="n">file_type</span><span class="p">:</span>
                <span class="n">candidates</span><span class="p">[</span><span class="s2">&quot;64bit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">abspath</span>
            <span class="k">if</span> <span class="s2">&quot;32-bit LSB executable&quot;</span> <span class="ow">in</span> <span class="n">file_type</span><span class="p">:</span>
                <span class="n">candidates</span><span class="p">[</span><span class="s2">&quot;32bit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">abspath</span>
        <span class="k">if</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">make_executable</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">candidates</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">system</span><span class="o">.</span><span class="n">make_executable</span><span class="p">(</span><span class="n">candidate</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">candidates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;shell&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="n">candidates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bash&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="n">candidates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;posix&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="n">candidates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;64bit&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="n">candidates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;32bit&quot;</span><span class="p">)</span>
            <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t find a Linux executable in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.game_finder.find_windows_game_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_windows_game_executable</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.game_finder.find_windows_game_executable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/game_finder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_windows_game_executable</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">_dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">is_excluded_dir</span><span class="p">(</span><span class="n">base</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">_file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_excluded_exe</span><span class="p">(</span><span class="n">_file</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">abspath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">_file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">abspath</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">file_type</span> <span class="o">=</span> <span class="n">magic</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">abspath</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;MS Windows shortcut&quot;</span> <span class="ow">in</span> <span class="n">file_type</span><span class="p">:</span>
                <span class="n">candidates</span><span class="p">[</span><span class="s2">&quot;link&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">abspath</span>
            <span class="k">elif</span> <span class="s2">&quot;PE32+ executable (GUI) x86-64&quot;</span> <span class="ow">in</span> <span class="n">file_type</span><span class="p">:</span>
                <span class="n">candidates</span><span class="p">[</span><span class="s2">&quot;64bit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">abspath</span>
            <span class="k">elif</span> <span class="s2">&quot;PE32 executable (GUI) Intel 80386&quot;</span> <span class="ow">in</span> <span class="n">file_type</span><span class="p">:</span>
                <span class="n">candidates</span><span class="p">[</span><span class="s2">&quot;32bit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">abspath</span>
        <span class="k">if</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">candidates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="n">candidates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;64bit&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="n">candidates</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;32bit&quot;</span><span class="p">)</span>
            <span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t find a Windows executable in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.game_finder.is_excluded_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_excluded_dir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.game_finder.is_excluded_dir" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/game_finder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_excluded_dir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="n">excluded</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;Internet Explorer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Windows NT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Common Files&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Windows Media Player&quot;</span><span class="p">,</span>
        <span class="s2">&quot;windows&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ProgramData&quot;</span><span class="p">,</span>
        <span class="s2">&quot;users&quot;</span><span class="p">,</span>
        <span class="s2">&quot;GameSpy Arcade&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">dir_name</span> <span class="ow">in</span> <span class="n">excluded</span> <span class="k">for</span> <span class="n">dir_name</span> <span class="ow">in</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.game_finder.is_excluded_elf" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_excluded_elf</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>


<a href="#lutris.util.game_finder.is_excluded_elf" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/game_finder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_excluded_elf</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="n">excluded</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;xdg-open&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uninstall&quot;</span>
    <span class="p">)</span>
    <span class="n">_fn</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">exclude</span> <span class="ow">in</span> <span class="n">_fn</span> <span class="k">for</span> <span class="n">exclude</span> <span class="ow">in</span> <span class="n">excluded</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.game_finder.is_excluded_exe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_excluded_exe</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>


<a href="#lutris.util.game_finder.is_excluded_exe" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/game_finder.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_excluded_exe</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="n">excluded</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;unins000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uninstal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;update&quot;</span><span class="p">,</span>
        <span class="s2">&quot;config.exe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gsarcade.exe&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dosbox.exe&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">_fn</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">exclude</span> <span class="ow">in</span> <span class="n">_fn</span> <span class="k">for</span> <span class="n">exclude</span> <span class="ow">in</span> <span class="n">excluded</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.gamecontrollerdb" class="doc doc-heading">
        <code>gamecontrollerdb</code>



<a href="#lutris.util.gamecontrollerdb" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.util.gamecontrollerdb.ControllerMapping" class="doc doc-heading">
        <code>
ControllerMapping        </code>



<a href="#lutris.util.gamecontrollerdb.ControllerMapping" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ControllerMapping</span><span class="p">:</span>
    <span class="n">valid_keys</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;platform&quot;</span><span class="p">,</span>
        <span class="s2">&quot;leftx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lefty&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rightx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;righty&quot;</span><span class="p">,</span>
        <span class="s2">&quot;a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;back&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dpdown&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dpleft&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dpright&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dpup&quot;</span><span class="p">,</span>
        <span class="s2">&quot;guide&quot;</span><span class="p">,</span>
        <span class="s2">&quot;leftshoulder&quot;</span><span class="p">,</span>
        <span class="s2">&quot;leftstick&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lefttrigger&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rightshoulder&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rightstick&quot;</span><span class="p">,</span>
        <span class="s2">&quot;righttrigger&quot;</span><span class="p">,</span>
        <span class="s2">&quot;start&quot;</span><span class="p">,</span>
        <span class="s2">&quot;x&quot;</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">guid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mapping</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">guid</span> <span class="o">=</span> <span class="n">guid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span> <span class="o">=</span> <span class="n">mapping</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">key_maps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key_map</span> <span class="ow">in</span> <span class="n">key_maps</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">key_map</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">xinput_key</span><span class="p">,</span> <span class="n">sdl_key</span> <span class="o">=</span> <span class="n">key_map</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">xinput_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_keys</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unrecognized key </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">xinput_key</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">xinput_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">sdl_key</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.gamecontrollerdb.ControllerMapping.valid_keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">valid_keys</span></code>


<a href="#lutris.util.gamecontrollerdb.ControllerMapping.valid_keys" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.gamecontrollerdb.ControllerMapping.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">guid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.gamecontrollerdb.ControllerMapping.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">guid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mapping</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">guid</span> <span class="o">=</span> <span class="n">guid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span> <span class="o">=</span> <span class="n">mapping</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.gamecontrollerdb.ControllerMapping.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.gamecontrollerdb.ControllerMapping.__str__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.gamecontrollerdb.ControllerMapping.parse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.gamecontrollerdb.ControllerMapping.parse" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">key_maps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key_map</span> <span class="ow">in</span> <span class="n">key_maps</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key_map</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">xinput_key</span><span class="p">,</span> <span class="n">sdl_key</span> <span class="o">=</span> <span class="n">key_map</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">xinput_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">valid_keys</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unrecognized key </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">xinput_key</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">xinput_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">sdl_key</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.gamecontrollerdb.GameControllerDB" class="doc doc-heading">
        <code>
GameControllerDB        </code>



<a href="#lutris.util.gamecontrollerdb.GameControllerDB" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GameControllerDB</span><span class="p">:</span>
    <span class="n">db_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;gamecontrollerdb/gamecontrollerdb.txt&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;Path to gamecontrollerdb.txt not provided or invalid&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controllers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parsedb</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;GameControllerDB &lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_path</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">controllers</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">parsedb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">db</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">guid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mapping</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">controllers</span><span class="p">[</span><span class="n">guid</span><span class="p">]</span> <span class="o">=</span> <span class="n">ControllerMapping</span><span class="p">(</span><span class="n">guid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.gamecontrollerdb.GameControllerDB.db_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">db_path</span></code>


<a href="#lutris.util.gamecontrollerdb.GameControllerDB.db_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.gamecontrollerdb.GameControllerDB.__getitem__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.gamecontrollerdb.GameControllerDB.__getitem__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">controllers</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.gamecontrollerdb.GameControllerDB.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.gamecontrollerdb.GameControllerDB.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;Path to gamecontrollerdb.txt not provided or invalid&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">controllers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parsedb</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.gamecontrollerdb.GameControllerDB.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.gamecontrollerdb.GameControllerDB.__str__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;GameControllerDB &lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.gamecontrollerdb.GameControllerDB.parsedb" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parsedb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.gamecontrollerdb.GameControllerDB.parsedb" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gamecontrollerdb.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parsedb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">db</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">guid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mapping</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controllers</span><span class="p">[</span><span class="n">guid</span><span class="p">]</span> <span class="o">=</span> <span class="n">ControllerMapping</span><span class="p">(</span><span class="n">guid</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.gog" class="doc doc-heading">
        <code>gog</code>



<a href="#lutris.util.gog" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.gog.convert_gog_config_to_lutris" class="doc doc-heading">
<code class="highlight language-python"><span class="n">convert_gog_config_to_lutris</span><span class="p">(</span><span class="n">gog_config</span><span class="p">,</span> <span class="n">gog_game_path</span><span class="p">)</span></code>


<a href="#lutris.util.gog.convert_gog_config_to_lutris" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">convert_gog_config_to_lutris</span><span class="p">(</span><span class="n">gog_config</span><span class="p">,</span> <span class="n">gog_game_path</span><span class="p">):</span>
    <span class="n">play_tasks</span> <span class="o">=</span> <span class="n">gog_config</span><span class="p">[</span><span class="s2">&quot;playTasks&quot;</span><span class="p">]</span>
    <span class="n">lutris_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;launch_configs&quot;</span><span class="p">:</span> <span class="p">[]}</span>
    <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">play_tasks</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">get_game_config</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">gog_game_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isPrimary&quot;</span><span class="p">):</span>
            <span class="n">lutris_config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lutris_config</span><span class="p">[</span><span class="s2">&quot;launch_configs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">lutris_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.gog.get_game_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_game_config</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">gog_game_path</span><span class="p">)</span></code>


<a href="#lutris.util.gog.get_game_config" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_game_config</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">gog_game_path</span><span class="p">):</span>
    <span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="s2">&quot;path&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">task</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">exe</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span>
    <span class="n">exe_abspath</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">,</span> <span class="n">exe</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">exe_abspath</span><span class="p">):</span>
        <span class="n">exe</span> <span class="o">=</span> <span class="n">exe_abspath</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No executable found at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">exe_abspath</span><span class="p">)</span>
    <span class="n">config</span><span class="p">[</span><span class="s2">&quot;exe&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exe</span>
    <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;workingDir&quot;</span><span class="p">):</span>
        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;working_dir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;workingDir&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;arguments&quot;</span><span class="p">):</span>
        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;args&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;arguments&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">):</span>
        <span class="n">config</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.gog.get_gog_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_gog_config</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">)</span></code>


<a href="#lutris.util.gog.get_gog_config" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Extract runtime information such as executable paths from GOG files</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_gog_config</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extract runtime information such as executable paths from GOG files&quot;&quot;&quot;</span>
    <span class="n">config_filename</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">fn</span>
        <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fn</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;goggame&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">fn</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.info&quot;</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">config_filename</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No config file found in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gog_game_path</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">gog_config_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">,</span> <span class="n">config_filename</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">gog_config_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">gog_config_file</span><span class="p">:</span>
        <span class="n">gog_config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">gog_config_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">gog_config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.gog.get_gog_config_from_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_gog_config_from_path</span><span class="p">(</span><span class="n">target_path</span><span class="p">)</span></code>


<a href="#lutris.util.gog.get_gog_config_from_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the GOG configuration for a root path</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_gog_config_from_path</span><span class="p">(</span><span class="n">target_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the GOG configuration for a root path&quot;&quot;&quot;</span>
    <span class="n">gog_game_path</span> <span class="o">=</span> <span class="n">get_gog_game_path</span><span class="p">(</span><span class="n">target_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">gog_game_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_gog_config</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.gog.get_gog_game_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_gog_game_path</span><span class="p">(</span><span class="n">target_path</span><span class="p">)</span></code>


<a href="#lutris.util.gog.get_gog_game_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the absolute path where a GOG game is installed</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/gog.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_gog_game_path</span><span class="p">(</span><span class="n">target_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the absolute path where a GOG game is installed&quot;&quot;&quot;</span>
    <span class="n">gog_game_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">target_path</span><span class="p">,</span> <span class="s2">&quot;drive_c/GOG Games/&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No &#39;GOG Games&#39; folder in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">target_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">games</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">games</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;More than 1 game found, this is currently unsupported&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gog_game_path</span><span class="p">,</span> <span class="n">games</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.graphics" class="doc doc-heading">
        <code>graphics</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="lutris.util.graphics.displayconfig" class="doc doc-heading">
        <code>displayconfig</code>



<a href="#lutris.util.graphics.displayconfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>DBus backed display management for Mutter</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.CRTC" class="doc doc-heading">
        <code>
CRTC        </code>



<a href="#lutris.util.graphics.displayconfig.CRTC" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A CRTC (CRT controller) is a logical monitor, ie a portion of the
compositor coordinate space. It might correspond to multiple monitors, when
in clone mode, but not that it is possible to implement clone mode also by
setting different CRTCs to the same coordinates.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CRTC</span><span class="p">():</span>

    <span class="sd">&quot;&quot;&quot;A CRTC (CRT controller) is a logical monitor, ie a portion of the</span>
<span class="sd">    compositor coordinate space. It might correspond to multiple monitors, when</span>
<span class="sd">    in clone mode, but not that it is possible to implement clone mode also by</span>
<span class="sd">    setting different CRTCs to the same coordinates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crtc_info</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span> <span class="o">=</span> <span class="n">crtc_info</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry_str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=invalid-name</span>
        <span class="sd">&quot;&quot;&quot;The ID in the API of this CRTC&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">winsys_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;the low-level ID of this CRTC</span>
<span class="sd">        (which might be a XID, a KMS handle or something entirely different)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">geometry_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a human readable representation of the geometry&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">x</span><span class="si">%d%s%d%s%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The geometry of this CRTC</span>
<span class="sd">        (might be invalid if the CRTC is not in use)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">5</span><span class="p">]))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">current_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The current mode of the CRTC, or -1 if this CRTC is not used</span>
<span class="sd">        Note: the size of the mode will always correspond to the width</span>
<span class="sd">        and height of the CRTC&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">current_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The current transform (espressed according to the wayland protocol)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transforms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;All possible transforms&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Other high-level properties that affect this CRTC;</span>
<span class="sd">        they are not necessarily reflected in the hardware.</span>
<span class="sd">        No property is specified in this version of the API.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.CRTC.current_mode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">current_mode</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.current_mode" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The current mode of the CRTC, or -1 if this CRTC is not used
Note: the size of the mode will always correspond to the width
and height of the CRTC</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.CRTC.current_transform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">current_transform</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.current_transform" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The current transform (espressed according to the wayland protocol)</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.CRTC.geometry" class="doc doc-heading">
<code class="highlight language-python"><span class="n">geometry</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.geometry" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The geometry of this CRTC
(might be invalid if the CRTC is not in use)</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.CRTC.geometry_str" class="doc doc-heading">
<code class="highlight language-python"><span class="n">geometry_str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.geometry_str" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return a human readable representation of the geometry</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.CRTC.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.id" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The ID in the API of this CRTC</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.CRTC.properties" class="doc doc-heading">
<code class="highlight language-python"><span class="n">properties</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.properties" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Other high-level properties that affect this CRTC;
they are not necessarily reflected in the hardware.
No property is specified in this version of the API.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.CRTC.transforms" class="doc doc-heading">
<code class="highlight language-python"><span class="n">transforms</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.transforms" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>All possible transforms</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.CRTC.winsys_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">winsys_id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.winsys_id" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>the low-level ID of this CRTC
(which might be a XID, a KMS handle or something entirely different)</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.CRTC.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crtc_info</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crtc_info</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">crtc_info</span> <span class="o">=</span> <span class="n">crtc_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.CRTC.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.CRTC.__repr__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry_str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.DisplayConfig" class="doc doc-heading">
        <code>
DisplayConfig            (<span title="tuple">tuple</span>)
        </code>



<a href="#lutris.util.graphics.displayconfig.DisplayConfig" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>DisplayConfig(monitors, name, position, transform, primary, scale)</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayConfig.__getnewargs__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayConfig.__getnewargs__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return self as a plain tuple.  Used by copy and pickle.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return self as a plain tuple.  Used by copy and pickle.&#39;</span>
    <span class="k">return</span> <span class="n">_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayConfig.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">monitors</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">transform</span><span class="p">,</span> <span class="n">primary</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayConfig.__new__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Create new instance of DisplayConfig(monitors, name, position, transform, primary, scale)</p>

    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayConfig.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayConfig.__repr__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return a nicely formatted representation string</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return a nicely formatted representation string&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="n">repr_fmt</span> <span class="o">%</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.DisplayMode" class="doc doc-heading">
        <code>
DisplayMode        </code>



<a href="#lutris.util.graphics.displayconfig.DisplayMode" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Representation of a screen mode (resolution, refresh rate)</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DisplayMode</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Representation of a screen mode (resolution, refresh rate)&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode_info</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span> <span class="o">=</span> <span class="n">mode_info</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">x</span><span class="si">%s</span><span class="s2">@</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;DisplayMode: </span><span class="si">%s</span><span class="s2">x</span><span class="si">%s</span><span class="s2">@</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># pylint: disable=invalid-name</span>
        <span class="sd">&quot;&quot;&quot;ID of the mode&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">winsys_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;the low-level ID of this mode&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;width in physical pixels&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;height in physical pixels&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;refresh rate&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">flags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;mode flags as defined in xf86drmMode.h and randr.h&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.flags" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flags</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.flags" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>mode flags as defined in xf86drmMode.h and randr.h</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.frequency" class="doc doc-heading">
<code class="highlight language-python"><span class="n">frequency</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.frequency" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>refresh rate</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.height" class="doc doc-heading">
<code class="highlight language-python"><span class="n">height</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.height" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>height in physical pixels</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.id" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>ID of the mode</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.width" class="doc doc-heading">
<code class="highlight language-python"><span class="n">width</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.width" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>width in physical pixels</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.winsys_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">winsys_id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.winsys_id" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>the low-level ID of this mode</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode_info</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode_info</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span> <span class="o">=</span> <span class="n">mode_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.__repr__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;&lt;DisplayMode: </span><span class="si">%s</span><span class="s2">x</span><span class="si">%s</span><span class="s2">@</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayMode.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayMode.__str__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">x</span><span class="si">%s</span><span class="s2">@</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.DisplayState" class="doc doc-heading">
        <code>
DisplayState        </code>



<a href="#lutris.util.graphics.displayconfig.DisplayState" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Snapshot of a display configuration at a given time</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DisplayState</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Snapshot of a display configuration at a given time&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interface</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interface</span> <span class="o">=</span> <span class="n">interface</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_state</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">load_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return current state from dbus interface&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">GetCurrentState</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">serial</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configuration serial&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">monitors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Available monitors&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">Monitor</span><span class="p">(</span><span class="n">monitor</span><span class="p">)</span> <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logical_monitors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Current logical monitor configuration&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">LogicalMonitor</span><span class="p">(</span><span class="n">l_m</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="p">)</span> <span class="k">for</span> <span class="n">l_m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Display configuration properties&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_current_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the current mode&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_current_mode</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayState.logical_monitors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logical_monitors</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayState.logical_monitors" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Current logical monitor configuration</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayState.monitors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">monitors</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayState.monitors" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Available monitors</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayState.properties" class="doc doc-heading">
<code class="highlight language-python"><span class="n">properties</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayState.properties" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Display configuration properties</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.DisplayState.serial" class="doc doc-heading">
<code class="highlight language-python"><span class="n">serial</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayState.serial" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Configuration serial</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayState.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interface</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.DisplayState.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interface</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">interface</span> <span class="o">=</span> <span class="n">interface</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_state</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayState.get_current_mode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.DisplayState.get_current_mode" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the current mode</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the current mode&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_current_mode</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.DisplayState.load_state" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.DisplayState.load_state" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return current state from dbus interface</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return current state from dbus interface&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">GetCurrentState</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.LogicalMonitor" class="doc doc-heading">
        <code>
LogicalMonitor        </code>



<a href="#lutris.util.graphics.displayconfig.LogicalMonitor" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A logical monitor. Similar to CRTCs but logical monitors also contain
scaling information.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LogicalMonitor</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;A logical monitor. Similar to CRTCs but logical monitors also contain</span>
<span class="sd">    scaling information.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lm_info</span><span class="p">,</span> <span class="n">monitors</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lm</span> <span class="o">=</span> <span class="n">lm_info</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_monitors</span> <span class="o">=</span> <span class="n">monitors</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">position</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the position of the monitor&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_lm</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_lm</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Scale&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lm</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Transforms</span>

<span class="sd">        Possible transform values:</span>
<span class="sd">        0: normal</span>
<span class="sd">        1: 90°</span>
<span class="sd">        2: 180°</span>
<span class="sd">        3: 270°</span>
<span class="sd">        4: flipped</span>
<span class="sd">        5: 90° flipped</span>
<span class="sd">        6: 180° flipped</span>
<span class="sd">        7: 270° flipped</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lm</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">primary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;True if this is the primary logical monitor&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_lm</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_get_monitor_for_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a Monitor instance from its connector name&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_monitors</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">monitor</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">connector</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">monitor</span>
        <span class="k">return</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">monitors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Monitors displaying that logical monitor&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_monitor_for_connector</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lm</span><span class="p">[</span><span class="mi">5</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Possibly other properties&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lm</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Export the current configuration so it can be stored then reapplied later&quot;&quot;&quot;</span>
        <span class="n">monitors</span> <span class="o">=</span> <span class="p">[(</span><span class="n">monitor</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get_current_mode</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">DisplayConfig</span><span class="p">(</span><span class="n">monitors</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.LogicalMonitor.monitors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">monitors</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.LogicalMonitor.monitors" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Monitors displaying that logical monitor</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.LogicalMonitor.position" class="doc doc-heading">
<code class="highlight language-python"><span class="n">position</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.LogicalMonitor.position" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the position of the monitor</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.LogicalMonitor.primary" class="doc doc-heading">
<code class="highlight language-python"><span class="n">primary</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.LogicalMonitor.primary" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>True if this is the primary logical monitor</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.LogicalMonitor.properties" class="doc doc-heading">
<code class="highlight language-python"><span class="n">properties</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.LogicalMonitor.properties" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Possibly other properties</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.LogicalMonitor.scale" class="doc doc-heading">
<code class="highlight language-python"><span class="n">scale</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.LogicalMonitor.scale" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Scale</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.LogicalMonitor.transform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">transform</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.LogicalMonitor.transform" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Transforms</p>
<p>Possible transform values:
0: normal
1: 90°
2: 180°
3: 270°
4: flipped
5: 90° flipped
6: 180° flipped
7: 270° flipped</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.LogicalMonitor.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lm_info</span><span class="p">,</span> <span class="n">monitors</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.LogicalMonitor.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lm_info</span><span class="p">,</span> <span class="n">monitors</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_lm</span> <span class="o">=</span> <span class="n">lm_info</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_monitors</span> <span class="o">=</span> <span class="n">monitors</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.LogicalMonitor.get_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.LogicalMonitor.get_config" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Export the current configuration so it can be stored then reapplied later</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Export the current configuration so it can be stored then reapplied later&quot;&quot;&quot;</span>
    <span class="n">monitors</span> <span class="o">=</span> <span class="p">[(</span><span class="n">monitor</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">monitor</span><span class="o">.</span><span class="n">get_current_mode</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="k">for</span> <span class="n">monitor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">DisplayConfig</span><span class="p">(</span><span class="n">monitors</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">primary</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.Monitor" class="doc doc-heading">
        <code>
Monitor        </code>



<a href="#lutris.util.graphics.displayconfig.Monitor" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A physical monitor</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Monitor</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;A physical monitor&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span> <span class="o">=</span> <span class="n">monitor</span>

    <span class="k">def</span> <span class="nf">get_current_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the current mode&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_modes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">is_current</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">mode</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">get_modes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return available modes&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">MonitorMode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span> <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">get_mode_for_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an appropriate mode for a given resolution&quot;&quot;&quot;</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_modes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">width</span> <span class="o">==</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">mode</span><span class="o">.</span><span class="n">height</span> <span class="o">==</span> <span class="n">height</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">mode</span>
        <span class="k">return</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Name of the connector&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Manufacturer of the monitor&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Model name of the monitor&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">serial_number</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Serial number&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_underscanning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if the monitor is underscanning&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;is-underscanning&#39;</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_builtin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if the display is builtin the machine (a laptop or a tablet)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;is-builtin&#39;</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">display_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Human readable name of the display&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;display-name&#39;</span><span class="p">])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Monitor.display_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">display_name</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Monitor.display_name" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Human readable name of the display</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Monitor.is_builtin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_builtin</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Monitor.is_builtin" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return true if the display is builtin the machine (a laptop or a tablet)</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Monitor.is_underscanning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_underscanning</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Monitor.is_underscanning" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return true if the monitor is underscanning</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Monitor.model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Monitor.model" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Model name of the monitor</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Monitor.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Monitor.name" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Name of the connector</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Monitor.serial_number" class="doc doc-heading">
<code class="highlight language-python"><span class="n">serial_number</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Monitor.serial_number" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Serial number</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Monitor.vendor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vendor</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Monitor.vendor" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Manufacturer of the monitor</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.Monitor.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Monitor.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">monitor</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span> <span class="o">=</span> <span class="n">monitor</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.Monitor.get_current_mode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.Monitor.get_current_mode" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the current mode</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the current mode&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_modes</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">is_current</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mode</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.Monitor.get_mode_for_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_mode_for_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.Monitor.get_mode_for_resolution" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return an appropriate mode for a given resolution</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_mode_for_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return an appropriate mode for a given resolution&quot;&quot;&quot;</span>
    <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_modes</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">width</span> <span class="o">==</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">mode</span><span class="o">.</span><span class="n">height</span> <span class="o">==</span> <span class="n">height</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mode</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.Monitor.get_modes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_modes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.Monitor.get_modes" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return available modes</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_modes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return available modes&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">MonitorMode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span> <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.MonitorMode" class="doc doc-heading">
        <code>
MonitorMode            (<a class="autorefs autorefs-internal" title="lutris.util.graphics.displayconfig.DisplayMode" href="graphics/displayconfig/#lutris.util.graphics.displayconfig.DisplayMode">DisplayMode</a>)
        </code>



<a href="#lutris.util.graphics.displayconfig.MonitorMode" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Represents a mode given by a Monitor instance
In addition to DisplayMode objects, this gives acces to the current scaling
used and some additional properties like is_current.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MonitorMode</span><span class="p">(</span><span class="n">DisplayMode</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Represents a mode given by a Monitor instance</span>
<span class="sd">    In addition to DisplayMode objects, this gives acces to the current scaling</span>
<span class="sd">    used and some additional properties like is_current.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;width in physical pixels&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;height in physical pixels&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">frequency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;refresh rate&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;scale preferred as per calculations&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">supported_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;scales supported by this mode&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Additional properties&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode_info</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_current</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if the mode is the current one&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;is-current&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MonitorMode.frequency" class="doc doc-heading">
<code class="highlight language-python"><span class="n">frequency</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MonitorMode.frequency" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>refresh rate</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MonitorMode.height" class="doc doc-heading">
<code class="highlight language-python"><span class="n">height</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MonitorMode.height" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>height in physical pixels</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MonitorMode.is_current" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_current</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MonitorMode.is_current" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return True if the mode is the current one</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MonitorMode.properties" class="doc doc-heading">
<code class="highlight language-python"><span class="n">properties</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MonitorMode.properties" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Additional properties</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MonitorMode.scale" class="doc doc-heading">
<code class="highlight language-python"><span class="n">scale</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MonitorMode.scale" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>scale preferred as per calculations</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MonitorMode.supported_scale" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supported_scale</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MonitorMode.supported_scale" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>scales supported by this mode</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MonitorMode.width" class="doc doc-heading">
<code class="highlight language-python"><span class="n">width</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MonitorMode.width" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>width in physical pixels</p>
    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.MutterDisplayConfig" class="doc doc-heading">
        <code>
MutterDisplayConfig        </code>



<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Class to interact with the Mutter.DisplayConfig service</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MutterDisplayConfig</span><span class="p">():</span>

    <span class="sd">&quot;&quot;&quot;Class to interact with the Mutter.DisplayConfig service&quot;&quot;&quot;</span>
    <span class="n">namespace</span> <span class="o">=</span> <span class="s2">&quot;org.gnome.Mutter.DisplayConfig&quot;</span>
    <span class="n">dbus_path</span> <span class="o">=</span> <span class="s2">&quot;/org/gnome/Mutter/DisplayConfig&quot;</span>

    <span class="c1"># Methods used in ApplyMonitorConfig</span>
    <span class="n">VERIFY_METHOD</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">TEMPORARY_METHOD</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">PERSISTENT_METHOD</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">session_bus</span> <span class="o">=</span> <span class="n">dbus</span><span class="o">.</span><span class="n">SessionBus</span><span class="p">()</span>
        <span class="n">proxy_obj</span> <span class="o">=</span> <span class="n">session_bus</span><span class="o">.</span><span class="n">get_object</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbus_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interface</span> <span class="o">=</span> <span class="n">dbus</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span><span class="n">proxy_obj</span><span class="p">,</span> <span class="n">dbus_interface</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">GetResources</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="n">DisplayState</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">serial</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        @serial is an unique identifier representing the current state</span>
<span class="sd">        of the screen. It must be passed back to ApplyConfiguration()</span>
<span class="sd">        and will be increased for every configuration change (so that</span>
<span class="sd">        mutter can detect that the new configuration is based on old</span>
<span class="sd">        state)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">crtcs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A CRTC (CRT controller) is a logical monitor, ie a portion</span>
<span class="sd">        of the compositor coordinate space. It might correspond</span>
<span class="sd">        to multiple monitors, when in clone mode, but not that</span>
<span class="sd">        it is possible to implement clone mode also by setting different</span>
<span class="sd">        CRTCs to the same coordinates.</span>

<span class="sd">        The number of CRTCs represent the maximum number of monitors</span>
<span class="sd">        that can be set to expand and it is a HW constraint; if more</span>
<span class="sd">        monitors are connected, then necessarily some will clone. This</span>
<span class="sd">        is complementary to the concept of the encoder (not exposed in</span>
<span class="sd">        the API), which groups outputs that necessarily will show the</span>
<span class="sd">        same image (again a HW constraint).</span>

<span class="sd">        A CRTC is represented by a DBus structure with the following</span>
<span class="sd">        layout:</span>
<span class="sd">        * u ID: the ID in the API of this CRTC</span>
<span class="sd">        * x winsys_id: the low-level ID of this CRTC (which might</span>
<span class="sd">                    be a XID, a KMS handle or something entirely</span>
<span class="sd">                    different)</span>
<span class="sd">        * i x, y, width, height: the geometry of this CRTC</span>
<span class="sd">                                (might be invalid if the CRTC is not in</span>
<span class="sd">                                use)</span>
<span class="sd">        * i current_mode: the current mode of the CRTC, or -1 if this</span>
<span class="sd">                        CRTC is not used</span>
<span class="sd">                        Note: the size of the mode will always correspond</span>
<span class="sd">                        to the width and height of the CRTC</span>
<span class="sd">        * u current_transform: the current transform (espressed according</span>
<span class="sd">                            to the wayland protocol)</span>
<span class="sd">        * au transforms: all possible transforms</span>
<span class="sd">        * a{sv} properties: other high-level properties that affect this</span>
<span class="sd">                            CRTC; they are not necessarily reflected in</span>
<span class="sd">                            the hardware.</span>
<span class="sd">                            No property is specified in this version of the API.</span>

<span class="sd">        Note: all geometry information refers to the untransformed</span>
<span class="sd">        display.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">CRTC</span><span class="p">(</span><span class="n">crtc</span><span class="p">)</span> <span class="k">for</span> <span class="n">crtc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        An output represents a physical screen, connected somewhere to</span>
<span class="sd">        the computer. Floating connectors are not exposed in the API.</span>
<span class="sd">        An output is a DBus struct with the following fields:</span>
<span class="sd">        * u ID: the ID in the API</span>
<span class="sd">        * x winsys_id: the low-level ID of this output (XID or KMS handle)</span>
<span class="sd">        * i current_crtc: the CRTC that is currently driving this output,</span>
<span class="sd">                          or -1 if the output is disabled</span>
<span class="sd">        * au possible_crtcs: all CRTCs that can control this output</span>
<span class="sd">        * s name: the name of the connector to which the output is attached</span>
<span class="sd">                  (like VGA1 or HDMI)</span>
<span class="sd">        * au modes: valid modes for this output</span>
<span class="sd">        * au clones: valid clones for this output, ie other outputs that</span>
<span class="sd">                     can be assigned the same CRTC as this one; if you</span>
<span class="sd">                     want to mirror two outputs that don&#39;t have each other</span>
<span class="sd">                     in the clone list, you must configure two different</span>
<span class="sd">                     CRTCs for the same geometry</span>
<span class="sd">        * a{sv} properties: other high-level properties that affect this</span>
<span class="sd">                            output; they are not necessarily reflected in</span>
<span class="sd">                            the hardware.</span>
<span class="sd">                            Known properties:</span>
<span class="sd">                            - &quot;vendor&quot; (s): (readonly) the human readable name</span>
<span class="sd">                                            of the manufacturer</span>
<span class="sd">                            - &quot;product&quot; (s): (readonly) the human readable name</span>
<span class="sd">                                             of the display model</span>
<span class="sd">                            - &quot;serial&quot; (s): (readonly) the serial number of this</span>
<span class="sd">                                            particular hardware part</span>
<span class="sd">                            - &quot;display-name&quot; (s): (readonly) a human readable name</span>
<span class="sd">                                                  of this output, to be shown in the UI</span>
<span class="sd">                            - &quot;backlight&quot; (i): (readonly, use the specific interface)</span>
<span class="sd">                                               the backlight value as a percentage</span>
<span class="sd">                                               (-1 if not supported)</span>
<span class="sd">                            - &quot;primary&quot; (b): whether this output is primary</span>
<span class="sd">                                             or not</span>
<span class="sd">                            - &quot;presentation&quot; (b): whether this output is</span>
<span class="sd">                                                  for presentation only</span>
<span class="sd">                            Note: properties might be ignored if not consistenly</span>
<span class="sd">                            applied to all outputs in the same clone group. In</span>
<span class="sd">                            general, it&#39;s expected that presentation or primary</span>
<span class="sd">                            outputs will not be cloned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">Output</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">modes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A mode represents a set of parameters that are applied to</span>
<span class="sd">        each output, such as resolution and refresh rate. It is a separate</span>
<span class="sd">        object so that it can be referenced by CRTCs and outputs.</span>
<span class="sd">        Multiple outputs in the same CRTCs must all have the same mode.</span>
<span class="sd">        A mode is exposed as:</span>
<span class="sd">        * u ID: the ID in the API</span>
<span class="sd">        * x winsys_id: the low-level ID of this mode</span>
<span class="sd">        * u width, height: the resolution</span>
<span class="sd">        * d frequency: refresh rate</span>
<span class="sd">        * u flags: mode flags as defined in xf86drmMode.h and randr.h</span>

<span class="sd">        Output and modes are read-only objects (except for output properties),</span>
<span class="sd">        they can change only in accordance to HW changes (such as hotplugging</span>
<span class="sd">        a monitor), while CRTCs can be changed with ApplyConfiguration().</span>

<span class="sd">        XXX: actually, if you insist enough, you can add new modes</span>
<span class="sd">        through xrandr command line or the KMS API, overriding what the</span>
<span class="sd">        kernel driver and the EDID say.</span>
<span class="sd">        Usually, it only matters with old cards with broken drivers, or</span>
<span class="sd">        old monitors with broken EDIDs, but it happens more often with</span>
<span class="sd">        projectors (if for example the kernel driver doesn&#39;t add the</span>
<span class="sd">        640x480 - 800x600 - 1024x768 default modes). Probably something</span>
<span class="sd">        that we need to handle in mutter anyway.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">DisplayMode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span> <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_screen_width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Maximum width supported&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_screen_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Maximum height supported&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_mode_for_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an appropriate mode for a given resolution&quot;&quot;&quot;</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">width</span> <span class="o">==</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">mode</span><span class="o">.</span><span class="n">height</span> <span class="o">==</span> <span class="n">height</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">mode</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">get_primary_output</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the primary output&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span><span class="o">.</span><span class="n">logical_monitors</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">primary</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">output</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">apply_monitors_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display_configs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the selected display to the desired resolution&quot;&quot;&quot;</span>
        <span class="c1"># Reload resources</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">display_configs</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No display config given, not applying anything&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">GetResources</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="n">DisplayState</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="p">)</span>
        <span class="n">monitors_config</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span>
                <span class="n">config</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">config</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">dbus</span><span class="o">.</span><span class="n">Double</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">scale</span><span class="p">),</span>
                <span class="n">dbus</span><span class="o">.</span><span class="n">UInt32</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">transform</span><span class="p">),</span> <span class="n">config</span><span class="o">.</span><span class="n">primary</span><span class="p">,</span>
                <span class="p">[</span>
                    <span class="p">[</span><span class="n">dbus</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">display_name</span><span class="p">)),</span> <span class="n">dbus</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">mode</span><span class="p">)),</span> <span class="p">{}]</span>
                    <span class="k">for</span> <span class="n">display_name</span><span class="p">,</span> <span class="n">mode</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">monitors</span>
                <span class="p">]</span>
            <span class="p">]</span> <span class="k">for</span> <span class="n">config</span> <span class="ow">in</span> <span class="n">display_configs</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">ApplyMonitorsConfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_state</span><span class="o">.</span><span class="n">serial</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">TEMPORARY_METHOD</span><span class="p">,</span> <span class="n">monitors_config</span><span class="p">,</span> <span class="p">{})</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.PERSISTENT_METHOD" class="doc doc-heading">
<code class="highlight language-python"><span class="n">PERSISTENT_METHOD</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.PERSISTENT_METHOD" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.TEMPORARY_METHOD" class="doc doc-heading">
<code class="highlight language-python"><span class="n">TEMPORARY_METHOD</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.TEMPORARY_METHOD" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.VERIFY_METHOD" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VERIFY_METHOD</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.VERIFY_METHOD" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.crtcs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">crtcs</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.crtcs" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A CRTC (CRT controller) is a logical monitor, ie a portion
of the compositor coordinate space. It might correspond
to multiple monitors, when in clone mode, but not that
it is possible to implement clone mode also by setting different
CRTCs to the same coordinates.</p>
<p>The number of CRTCs represent the maximum number of monitors
that can be set to expand and it is a HW constraint; if more
monitors are connected, then necessarily some will clone. This
is complementary to the concept of the encoder (not exposed in
the API), which groups outputs that necessarily will show the
same image (again a HW constraint).</p>
<p>A CRTC is represented by a DBus structure with the following
layout:
* u ID: the ID in the API of this CRTC
* x winsys_id: the low-level ID of this CRTC (which might
            be a XID, a KMS handle or something entirely
            different)
* i x, y, width, height: the geometry of this CRTC
                        (might be invalid if the CRTC is not in
                        use)
* i current_mode: the current mode of the CRTC, or -1 if this
                CRTC is not used
                Note: the size of the mode will always correspond
                to the width and height of the CRTC
* u current_transform: the current transform (espressed according
                    to the wayland protocol)
* au transforms: all possible transforms
* a{sv} properties: other high-level properties that affect this
                    CRTC; they are not necessarily reflected in
                    the hardware.
                    No property is specified in this version of the API.</p>
<p>Note: all geometry information refers to the untransformed
display.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.dbus_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dbus_path</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.dbus_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.max_screen_height" class="doc doc-heading">
<code class="highlight language-python"><span class="n">max_screen_height</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.max_screen_height" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Maximum height supported</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.max_screen_width" class="doc doc-heading">
<code class="highlight language-python"><span class="n">max_screen_width</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.max_screen_width" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Maximum width supported</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.modes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">modes</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.modes" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A mode represents a set of parameters that are applied to
each output, such as resolution and refresh rate. It is a separate
object so that it can be referenced by CRTCs and outputs.
Multiple outputs in the same CRTCs must all have the same mode.
A mode is exposed as:
* u ID: the ID in the API
* x winsys_id: the low-level ID of this mode
* u width, height: the resolution
* d frequency: refresh rate
* u flags: mode flags as defined in xf86drmMode.h and randr.h</p>
<p>Output and modes are read-only objects (except for output properties),
they can change only in accordance to HW changes (such as hotplugging
a monitor), while CRTCs can be changed with ApplyConfiguration().</p>
<p>XXX: actually, if you insist enough, you can add new modes
through xrandr command line or the KMS API, overriding what the
kernel driver and the EDID say.
Usually, it only matters with old cards with broken drivers, or
old monitors with broken EDIDs, but it happens more often with
projectors (if for example the kernel driver doesn't add the
640x480 - 800x600 - 1024x768 default modes). Probably something
that we need to handle in mutter anyway.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.namespace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">namespace</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.namespace" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">outputs</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.outputs" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>An output represents a physical screen, connected somewhere to
the computer. Floating connectors are not exposed in the API.
An output is a DBus struct with the following fields:
* u ID: the ID in the API
* x winsys_id: the low-level ID of this output (XID or KMS handle)
* i current_crtc: the CRTC that is currently driving this output,
                  or -1 if the output is disabled
* au possible_crtcs: all CRTCs that can control this output
* s name: the name of the connector to which the output is attached
          (like VGA1 or HDMI)
* au modes: valid modes for this output
* au clones: valid clones for this output, ie other outputs that
             can be assigned the same CRTC as this one; if you
             want to mirror two outputs that don't have each other
             in the clone list, you must configure two different
             CRTCs for the same geometry
* a{sv} properties: other high-level properties that affect this
                    output; they are not necessarily reflected in
                    the hardware.
                    Known properties:
                    - "vendor" (s): (readonly) the human readable name
                                    of the manufacturer
                    - "product" (s): (readonly) the human readable name
                                     of the display model
                    - "serial" (s): (readonly) the serial number of this
                                    particular hardware part
                    - "display-name" (s): (readonly) a human readable name
                                          of this output, to be shown in the UI
                    - "backlight" (i): (readonly, use the specific interface)
                                       the backlight value as a percentage
                                       (-1 if not supported)
                    - "primary" (b): whether this output is primary
                                     or not
                    - "presentation" (b): whether this output is
                                          for presentation only
                    Note: properties might be ignored if not consistenly
                    applied to all outputs in the same clone group. In
                    general, it's expected that presentation or primary
                    outputs will not be cloned.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.serial" class="doc doc-heading">
<code class="highlight language-python"><span class="n">serial</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.serial" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>@serial is an unique identifier representing the current state
of the screen. It must be passed back to ApplyConfiguration()
and will be increased for every configuration change (so that
mutter can detect that the new configuration is based on old
state)</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">session_bus</span> <span class="o">=</span> <span class="n">dbus</span><span class="o">.</span><span class="n">SessionBus</span><span class="p">()</span>
    <span class="n">proxy_obj</span> <span class="o">=</span> <span class="n">session_bus</span><span class="o">.</span><span class="n">get_object</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbus_path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">interface</span> <span class="o">=</span> <span class="n">dbus</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span><span class="n">proxy_obj</span><span class="p">,</span> <span class="n">dbus_interface</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">namespace</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">GetResources</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="n">DisplayState</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.apply_monitors_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">apply_monitors_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display_configs</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.apply_monitors_config" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Set the selected display to the desired resolution</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">apply_monitors_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">display_configs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set the selected display to the desired resolution&quot;&quot;&quot;</span>
    <span class="c1"># Reload resources</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">display_configs</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No display config given, not applying anything&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">GetResources</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="n">DisplayState</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="p">)</span>
    <span class="n">monitors_config</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="n">config</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">config</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">dbus</span><span class="o">.</span><span class="n">Double</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">scale</span><span class="p">),</span>
            <span class="n">dbus</span><span class="o">.</span><span class="n">UInt32</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">transform</span><span class="p">),</span> <span class="n">config</span><span class="o">.</span><span class="n">primary</span><span class="p">,</span>
            <span class="p">[</span>
                <span class="p">[</span><span class="n">dbus</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">display_name</span><span class="p">)),</span> <span class="n">dbus</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">mode</span><span class="p">)),</span> <span class="p">{}]</span>
                <span class="k">for</span> <span class="n">display_name</span><span class="p">,</span> <span class="n">mode</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">monitors</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="k">for</span> <span class="n">config</span> <span class="ow">in</span> <span class="n">display_configs</span>
    <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">ApplyMonitorsConfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_state</span><span class="o">.</span><span class="n">serial</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">TEMPORARY_METHOD</span><span class="p">,</span> <span class="n">monitors_config</span><span class="p">,</span> <span class="p">{})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.get_mode_for_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_mode_for_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.get_mode_for_resolution" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return an appropriate mode for a given resolution</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_mode_for_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return an appropriate mode for a given resolution&quot;&quot;&quot;</span>
    <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">resolution</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">width</span> <span class="o">==</span> <span class="n">width</span> <span class="ow">and</span> <span class="n">mode</span><span class="o">.</span><span class="n">height</span> <span class="o">==</span> <span class="n">height</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mode</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayConfig.get_primary_output" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_primary_output</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayConfig.get_primary_output" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the primary output</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_primary_output</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the primary output&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span><span class="o">.</span><span class="n">logical_monitors</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">primary</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">output</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.MutterDisplayManager" class="doc doc-heading">
        <code>
MutterDisplayManager        </code>



<a href="#lutris.util.graphics.displayconfig.MutterDisplayManager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Manage displays using the DBus Mutter interface</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MutterDisplayManager</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Manage displays using the DBus Mutter interface&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span> <span class="o">=</span> <span class="n">MutterDisplayConfig</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the current configuration for each logical monitor&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">logical_monitor</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span> <span class="k">for</span> <span class="n">logical_monitor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">current_state</span><span class="o">.</span><span class="n">logical_monitors</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_display_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return display names of connected displays&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">output</span><span class="o">.</span><span class="n">display_name</span> <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">outputs</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_resolutions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return available resolutions&quot;&quot;&quot;</span>
        <span class="n">resolutions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">x</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">modes</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">resolutions</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_current_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the current resolution for the primary display&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Retrieving current resolution&quot;</span><span class="p">)</span>
        <span class="n">current_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">current_state</span><span class="o">.</span><span class="n">get_current_mode</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">current_mode</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not retrieve the current display mode&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_mode</span><span class="o">.</span><span class="n">width</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_mode</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the current resolution&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resolution</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">get_primary_output</span><span class="p">()</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_mode_for_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">mode</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not find  valid mode for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="n">config</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">DisplayConfig</span><span class="p">([(</span><span class="n">output</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">id</span><span class="p">)],</span> <span class="n">output</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">apply_monitors_config</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">resolution</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">apply_monitors_config</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># Load a fresh config since the current one has changed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span> <span class="o">=</span> <span class="n">MutterDisplayConfig</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayManager.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span> <span class="o">=</span> <span class="n">MutterDisplayConfig</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayManager.get_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_config" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the current configuration for each logical monitor</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the current configuration for each logical monitor&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">logical_monitor</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span> <span class="k">for</span> <span class="n">logical_monitor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">current_state</span><span class="o">.</span><span class="n">logical_monitors</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayManager.get_current_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_current_resolution" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the current resolution for the primary display</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_current_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the current resolution for the primary display&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Retrieving current resolution&quot;</span><span class="p">)</span>
    <span class="n">current_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">current_state</span><span class="o">.</span><span class="n">get_current_mode</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">current_mode</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not retrieve the current display mode&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_mode</span><span class="o">.</span><span class="n">width</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">current_mode</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayManager.get_display_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_display_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_display_names" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return display names of connected displays</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_display_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return display names of connected displays&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">output</span><span class="o">.</span><span class="n">display_name</span> <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">outputs</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayManager.get_resolutions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_resolutions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.get_resolutions" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return available resolutions</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_resolutions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return available resolutions&quot;&quot;&quot;</span>
    <span class="n">resolutions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">x</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mode</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="k">for</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">modes</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">resolutions</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.MutterDisplayManager.set_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.displayconfig.MutterDisplayManager.set_resolution" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Change the current resolution</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_resolution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolution</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Change the current resolution&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resolution</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">get_primary_output</span><span class="p">()</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_mode_for_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">mode</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not find  valid mode for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">config</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">DisplayConfig</span><span class="p">([(</span><span class="n">output</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">id</span><span class="p">)],</span> <span class="n">output</span><span class="o">.</span><span class="n">monitors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">apply_monitors_config</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">resolution</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span><span class="o">.</span><span class="n">apply_monitors_config</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="c1"># Load a fresh config since the current one has changed</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">display_config</span> <span class="o">=</span> <span class="n">MutterDisplayConfig</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.displayconfig.Output" class="doc doc-heading">
        <code>
Output        </code>



<a href="#lutris.util.graphics.displayconfig.Output" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Representation of a physical display output</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Output</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Representation of a physical display output&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_info</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output_info</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;Output: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">)&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">output_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;ID of the output&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">winsys_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The low-level ID of this output (XID or KMS handle)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">current_crtc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The CRTC that is currently driving this output,</span>
<span class="sd">        or -1 if the output is disabled</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">crtcs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;All CRTCs that can control this output&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The name of the connector to which the output is attached (like VGA1 or HDMI)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">modes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Valid modes for this output&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">mode_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">mode_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">5</span><span class="p">]]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">clones</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Valid clones for this output, ie other outputs that can be assigned</span>
<span class="sd">        the same CRTC as this one; if you want to mirror two outputs that don&#39;t</span>
<span class="sd">        have each other in the clone list, you must configure two different</span>
<span class="sd">        CRTCs for the same geometry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Other high-level properties that affect this output; they are not</span>
<span class="sd">        necessarily reflected in the hardware.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vendor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vendor name of the output&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">7</span><span class="p">][</span><span class="s2">&quot;vendor&quot;</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">product</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Product name of the output&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">7</span><span class="p">][</span><span class="s2">&quot;product&quot;</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">display_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A human readable name of this output, to be shown in the UI&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">7</span><span class="p">][</span><span class="s2">&quot;display-name&quot;</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_primary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;True if the output is the primary one&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">[</span><span class="mi">7</span><span class="p">][</span><span class="s2">&quot;primary&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.clones" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clones</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.clones" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Valid clones for this output, ie other outputs that can be assigned
the same CRTC as this one; if you want to mirror two outputs that don't
have each other in the clone list, you must configure two different
CRTCs for the same geometry.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.crtcs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">crtcs</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.crtcs" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>All CRTCs that can control this output</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.current_crtc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">current_crtc</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.current_crtc" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The CRTC that is currently driving this output,
or -1 if the output is disabled</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.display_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">display_name</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.display_name" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>A human readable name of this output, to be shown in the UI</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.is_primary" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_primary</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.is_primary" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>True if the output is the primary one</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.modes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">modes</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.modes" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Valid modes for this output</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.name" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The name of the connector to which the output is attached (like VGA1 or HDMI)</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.output_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">output_id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.output_id" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>ID of the output</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.product" class="doc doc-heading">
<code class="highlight language-python"><span class="n">product</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.product" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Product name of the output</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.properties" class="doc doc-heading">
<code class="highlight language-python"><span class="n">properties</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.properties" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Other high-level properties that affect this output; they are not
necessarily reflected in the hardware.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.vendor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vendor</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.vendor" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Vendor name of the output</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.graphics.displayconfig.Output.winsys_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">winsys_id</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.winsys_id" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>The low-level ID of this output (XID or KMS handle)</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.Output.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_info</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_info</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.displayconfig.Output.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.displayconfig.Output.__repr__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/displayconfig.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;&lt;Output: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">)&gt;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">product</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.graphics.drivers" class="doc doc-heading">
        <code>drivers</code>



<a href="#lutris.util.graphics.drivers" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Hardware driver related utilities</p>
<p>Everything in this module should rely on /proc or /sys only, no executable calls</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.drivers.MIN_RECOMMENDED_NVIDIA_DRIVER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MIN_RECOMMENDED_NVIDIA_DRIVER</span></code>


<a href="#lutris.util.graphics.drivers.MIN_RECOMMENDED_NVIDIA_DRIVER" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.check_driver" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_driver</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.drivers.check_driver" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Report on the currently running driver</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_driver</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Report on the currently running driver&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_nvidia</span><span class="p">():</span>
        <span class="n">driver_info</span> <span class="o">=</span> <span class="n">get_nvidia_driver_info</span><span class="p">()</span>
        <span class="c1"># pylint: disable=logging-format-interpolation</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using </span><span class="si">{vendor}</span><span class="s2"> drivers </span><span class="si">{version}</span><span class="s2"> for </span><span class="si">{arch}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">driver_info</span><span class="p">[</span><span class="s2">&quot;nvrm&quot;</span><span class="p">]))</span>
        <span class="n">gpus</span> <span class="o">=</span> <span class="n">get_nvidia_gpu_ids</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">gpu_id</span> <span class="ow">in</span> <span class="n">gpus</span><span class="p">:</span>
            <span class="n">gpu_info</span> <span class="o">=</span> <span class="n">get_nvidia_gpu_info</span><span class="p">(</span><span class="n">gpu_id</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;GPU: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gpu_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Model&quot;</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">get_gpus</span><span class="p">():</span>
        <span class="c1"># pylint: disable=logging-format-interpolation</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;GPU: </span><span class="si">{PCI_ID}</span><span class="s2"> </span><span class="si">{PCI_SUBSYS_ID}</span><span class="s2"> using </span><span class="si">{DRIVER}</span><span class="s2"> driver&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">get_gpu_info</span><span class="p">(</span><span class="n">card</span><span class="p">)))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.get_gpu_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_gpu_info</span><span class="p">(</span><span class="n">card</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.drivers.get_gpu_info" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return information about a GPU</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_gpu_info</span><span class="p">(</span><span class="n">card</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return information about a GPU&quot;&quot;&quot;</span>
    <span class="n">infos</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;DRIVER&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;PCI_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;PCI_SUBSYS_ID&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/sys/class/drm/</span><span class="si">%s</span><span class="s2">/device/uevent&quot;</span> <span class="o">%</span> <span class="n">card</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">card_uevent</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">card_uevent</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to read driver information for card </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">card</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">infos</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
        <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">infos</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">infos</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.get_gpus" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_gpus</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.drivers.get_gpus" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return GPUs connected to the system</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_gpus</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return GPUs connected to the system&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;/sys/class/drm&quot;</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No GPU available on this system!&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">for</span> <span class="n">cardname</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;/sys/class/drm/&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^card\d$&quot;</span><span class="p">,</span> <span class="n">cardname</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">cardname</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.get_nvidia_driver_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_nvidia_driver_info</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.drivers.get_nvidia_driver_info" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return information about NVidia drivers</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_nvidia_driver_info</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return information about NVidia drivers&quot;&quot;&quot;</span>
    <span class="n">version_file_path</span> <span class="o">=</span> <span class="s2">&quot;/proc/driver/nvidia/version&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">version_file_path</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">version_file_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">version_file</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">version_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="n">nvrm_version</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;: &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;nvrm&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;vendor&#39;</span><span class="p">:</span> <span class="n">nvrm_version</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="s1">&#39;platform&#39;</span><span class="p">:</span> <span class="n">nvrm_version</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="s1">&#39;arch&#39;</span><span class="p">:</span> <span class="n">nvrm_version</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="n">nvrm_version</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nvrm_version</span><span class="p">[</span><span class="mi">6</span><span class="p">:])</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.get_nvidia_gpu_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_nvidia_gpu_ids</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.drivers.get_nvidia_gpu_ids" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of Nvidia GPUs</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_nvidia_gpu_ids</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of Nvidia GPUs&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;/proc/driver/nvidia/gpus&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.get_nvidia_gpu_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_nvidia_gpu_info</span><span class="p">(</span><span class="n">gpu_id</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.drivers.get_nvidia_gpu_info" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return details about a GPU</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_nvidia_gpu_info</span><span class="p">(</span><span class="n">gpu_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return details about a GPU&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/proc/driver/nvidia/gpus/</span><span class="si">%s</span><span class="s2">/information&quot;</span> <span class="o">%</span> <span class="n">gpu_id</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">info_file</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">info_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="n">infos</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
        <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">infos</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">infos</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.is_amd" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_amd</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.drivers.is_amd" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return true if the system uses the AMD driver</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_amd</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return true if the system uses the AMD driver&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="n">get_gpus</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">get_gpu_info</span><span class="p">(</span><span class="n">card</span><span class="p">)[</span><span class="s2">&quot;DRIVER&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;amdgpu&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.is_nvidia" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_nvidia</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.drivers.is_nvidia" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return true if the Nvidia drivers are currently in use</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_nvidia</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return true if the Nvidia drivers are currently in use&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;/proc/driver/nvidia&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.drivers.is_outdated" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_outdated</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.drivers.is_outdated" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/drivers.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_outdated</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_nvidia</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">driver_info</span> <span class="o">=</span> <span class="n">get_nvidia_driver_info</span><span class="p">()</span>
    <span class="n">driver_version</span> <span class="o">=</span> <span class="n">driver_info</span><span class="p">[</span><span class="s2">&quot;nvrm&quot;</span><span class="p">][</span><span class="s2">&quot;version&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">driver_version</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get Nvidia version&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="n">major_version</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">driver_version</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">major_version</span> <span class="o">&lt;</span> <span class="n">MIN_RECOMMENDED_NVIDIA_DRIVER</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.graphics.glxinfo" class="doc doc-heading">
        <code>glxinfo</code>



<a href="#lutris.util.graphics.glxinfo" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Parser for the glxinfo utility</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.glxinfo.Container" class="doc doc-heading">
        <code>
Container        </code>



<a href="#lutris.util.graphics.glxinfo.Container" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>A dummy container for data</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/glxinfo.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Container</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-few-public-methods</span>
    <span class="sd">&quot;&quot;&quot;A dummy container for data&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.glxinfo.GlxInfo" class="doc doc-heading">
        <code>
GlxInfo        </code>



<a href="#lutris.util.graphics.glxinfo.GlxInfo" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Give access to the glxinfo information</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/glxinfo.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GlxInfo</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Give access to the glxinfo information&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates a new GlxInfo object</span>

<span class="sd">        Params:</span>
<span class="sd">            output (str): If provided, use this as the glxinfo output instead</span>
<span class="sd">                          of running the program, useful for testing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_glxinfo_output</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_section</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>  <span class="c1"># Keep a reference of the created attributes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_glxinfo_output</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return the glxinfo -B output&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">read_process_output</span><span class="p">([</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">,</span> <span class="s2">&quot;-B&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the attributes as a dict&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">attr</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Converts the glxinfo output to class attributes&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No available glxinfo output&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="c1"># Fix glxinfo output (Great, you saved one line by</span>
        <span class="c1"># combining display and screen)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  screen&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">screen&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                <span class="k">continue</span>

            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; string&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="ow">and</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;Extended_renderer_info&quot;</span><span class="p">,</span> <span class="s2">&quot;Memory_info&quot;</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_section</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_section</span><span class="p">,</span> <span class="n">Container</span><span class="p">())</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_section</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;____&quot;</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_section</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_section</span><span class="p">),</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">value</span><span class="p">)</span>
                    <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.glxinfo.GlxInfo.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.glxinfo.GlxInfo.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Creates a new GlxInfo object</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>output</code></td>
        <td><code>str</code></td>
        <td><p>If provided, use this as the glxinfo output instead
          of running the program, useful for testing.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/glxinfo.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a new GlxInfo object</span>

<span class="sd">    Params:</span>
<span class="sd">        output (str): If provided, use this as the glxinfo output instead</span>
<span class="sd">                      of running the program, useful for testing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_output</span> <span class="o">=</span> <span class="n">output</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_glxinfo_output</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_section</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>  <span class="c1"># Keep a reference of the created attributes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.glxinfo.GlxInfo.as_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.glxinfo.GlxInfo.as_dict" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the attributes as a dict</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/glxinfo.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the attributes as a dict&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">attr</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.glxinfo.GlxInfo.get_glxinfo_output" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_glxinfo_output</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.graphics.glxinfo.GlxInfo.get_glxinfo_output" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the glxinfo -B output</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/glxinfo.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_glxinfo_output</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the glxinfo -B output&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">read_process_output</span><span class="p">([</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">,</span> <span class="s2">&quot;-B&quot;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.glxinfo.GlxInfo.parse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.glxinfo.GlxInfo.parse" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Converts the glxinfo output to class attributes</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/glxinfo.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts the glxinfo output to class attributes&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No available glxinfo output&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="c1"># Fix glxinfo output (Great, you saved one line by</span>
    <span class="c1"># combining display and screen)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  screen&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">screen&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="k">continue</span>

        <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; string&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="ow">and</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;Extended_renderer_info&quot;</span><span class="p">,</span> <span class="s2">&quot;Memory_info&quot;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_section</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_section</span><span class="p">,</span> <span class="n">Container</span><span class="p">())</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_section</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;____&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_section</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_section</span><span class="p">),</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">value</span><span class="p">)</span>
                <span class="k">continue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.graphics.vkquery" class="doc doc-heading">
        <code>vkquery</code>



<a href="#lutris.util.graphics.vkquery" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Query Vulkan capabilities</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.vkquery.VK_ERROR_INITIALIZATION_FAILED" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VK_ERROR_INITIALIZATION_FAILED</span></code>


<a href="#lutris.util.graphics.vkquery.VK_ERROR_INITIALIZATION_FAILED" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.vkquery.VK_STRUCTURE_TYPE_APPLICATION_INFO" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VK_STRUCTURE_TYPE_APPLICATION_INFO</span></code>


<a href="#lutris.util.graphics.vkquery.VK_STRUCTURE_TYPE_APPLICATION_INFO" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.vkquery.VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</span></code>


<a href="#lutris.util.graphics.vkquery.VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.vkquery.VK_SUCCESS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VK_SUCCESS</span></code>


<a href="#lutris.util.graphics.vkquery.VK_SUCCESS" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.vkquery.VkInstance" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VkInstance</span></code>


<a href="#lutris.util.graphics.vkquery.VkInstance" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.vkquery.VkInstanceCreateFlags" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VkInstanceCreateFlags</span></code>


<a href="#lutris.util.graphics.vkquery.VkInstanceCreateFlags" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.vkquery.VkResult" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VkResult</span></code>


<a href="#lutris.util.graphics.vkquery.VkResult" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.graphics.vkquery.VkStructureType" class="doc doc-heading">
<code class="highlight language-python"><span class="n">VkStructureType</span></code>


<a href="#lutris.util.graphics.vkquery.VkStructureType" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.vkquery.VkApplicationInfo" class="doc doc-heading">
        <code>
VkApplicationInfo            (<span title="_ctypes.Structure">Structure</span>)
        </code>



<a href="#lutris.util.graphics.vkquery.VkApplicationInfo" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Python shim for struct VkApplicationInfo</p>
<p><a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/VkApplicationInfo.html">https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/VkApplicationInfo.html</a></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/vkquery.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VkApplicationInfo</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Python shim for struct VkApplicationInfo</span>

<span class="sd">    https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/VkApplicationInfo.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># pylint: disable=too-few-public-methods</span>

    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;sType&quot;</span><span class="p">,</span> <span class="n">VkStructureType</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;pNext&quot;</span><span class="p">,</span> <span class="n">c_void_p</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;pApplicationName&quot;</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;applicationVersion&quot;</span><span class="p">,</span> <span class="n">c_uint32</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;pEngineName&quot;</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;engineVersion&quot;</span><span class="p">,</span> <span class="n">c_uint32</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;apiVersion&quot;</span><span class="p">,</span> <span class="n">c_uint32</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_APPLICATION_INFO</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pApplicationName</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">applicationVersion</span> <span class="o">=</span> <span class="n">vk_make_version</span><span class="p">(</span><span class="o">*</span><span class="n">version</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apiVersion</span> <span class="o">=</span> <span class="n">vk_make_version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.vkquery.VkApplicationInfo.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.vkquery.VkApplicationInfo.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/vkquery.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_APPLICATION_INFO</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pApplicationName</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">applicationVersion</span> <span class="o">=</span> <span class="n">vk_make_version</span><span class="p">(</span><span class="o">*</span><span class="n">version</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">apiVersion</span> <span class="o">=</span> <span class="n">vk_make_version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.vkquery.VkInstanceCreateInfo" class="doc doc-heading">
        <code>
VkInstanceCreateInfo            (<span title="_ctypes.Structure">Structure</span>)
        </code>



<a href="#lutris.util.graphics.vkquery.VkInstanceCreateInfo" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Python shim for struct VkInstanceCreateInfo</p>
<p><a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/VkInstanceCreateInfo.html">https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/VkInstanceCreateInfo.html</a></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/vkquery.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VkInstanceCreateInfo</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Python shim for struct VkInstanceCreateInfo</span>

<span class="sd">    https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/VkInstanceCreateInfo.html</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># pylint: disable=too-few-public-methods</span>

    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;sType&quot;</span><span class="p">,</span> <span class="n">VkStructureType</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;pNext&quot;</span><span class="p">,</span> <span class="n">c_void_p</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;flags&quot;</span><span class="p">,</span> <span class="n">VkInstanceCreateFlags</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;pApplicationInfo&quot;</span><span class="p">,</span> <span class="n">POINTER</span><span class="p">(</span><span class="n">VkApplicationInfo</span><span class="p">)),</span>
        <span class="p">(</span><span class="s2">&quot;enabledLayerCount&quot;</span><span class="p">,</span> <span class="n">c_uint32</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;ppEnabledLayerNames&quot;</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;enabledExtensionCount&quot;</span><span class="p">,</span> <span class="n">c_uint32</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;ppEnabledExtensionNames&quot;</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_info</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pApplicationInfo</span> <span class="o">=</span> <span class="n">pointer</span><span class="p">(</span><span class="n">app_info</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.vkquery.VkInstanceCreateInfo.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_info</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.vkquery.VkInstanceCreateInfo.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/vkquery.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_info</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sType</span> <span class="o">=</span> <span class="n">VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pApplicationInfo</span> <span class="o">=</span> <span class="n">pointer</span><span class="p">(</span><span class="n">app_info</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.vkquery.is_vulkan_supported" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_vulkan_supported</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.vkquery.is_vulkan_supported" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Returns True iff vulkan library can be loaded, initialized,
and reports at least one physical device available.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/vkquery.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_vulkan_supported</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns True iff vulkan library can be loaded, initialized,</span>
<span class="sd">    and reports at least one physical device available.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vulkan</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">vulkan</span> <span class="o">=</span> <span class="n">CDLL</span><span class="p">(</span><span class="s2">&quot;libvulkan.so.1&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">app_info</span> <span class="o">=</span> <span class="n">VkApplicationInfo</span><span class="p">(</span><span class="s2">&quot;vkinfo&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">create_info</span> <span class="o">=</span> <span class="n">VkInstanceCreateInfo</span><span class="p">(</span><span class="n">app_info</span><span class="p">)</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="n">VkInstance</span><span class="p">()</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">vulkan</span><span class="o">.</span><span class="n">vkCreateInstance</span><span class="p">(</span><span class="n">byref</span><span class="p">(</span><span class="n">create_info</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">instance</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">result</span> <span class="o">!=</span> <span class="n">VK_SUCCESS</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">dev_count</span> <span class="o">=</span> <span class="n">c_uint32</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">vulkan</span><span class="o">.</span><span class="n">vkEnumeratePhysicalDevices</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">dev_count</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">vulkan</span><span class="o">.</span><span class="n">vkDestroyInstance</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span> <span class="o">==</span> <span class="n">VK_SUCCESS</span> <span class="ow">and</span> <span class="n">dev_count</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.vkquery.vk_make_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vk_make_version</span><span class="p">(</span><span class="n">major</span><span class="p">,</span> <span class="n">minor</span><span class="p">,</span> <span class="n">patch</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.vkquery.vk_make_version" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>VK_MAKE_VERSION macro logic for Python</p>
<p><a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/html/vkspec.html#fundamentals-versionnum">https://www.khronos.org/registry/vulkan/specs/1.1-extensions/html/vkspec.html#fundamentals-versionnum</a></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/vkquery.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">vk_make_version</span><span class="p">(</span><span class="n">major</span><span class="p">,</span> <span class="n">minor</span><span class="p">,</span> <span class="n">patch</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    VK_MAKE_VERSION macro logic for Python</span>

<span class="sd">    https://www.khronos.org/registry/vulkan/specs/1.1-extensions/html/vkspec.html#fundamentals-versionnum</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">c_uint32</span><span class="p">((</span><span class="n">major</span> <span class="o">&lt;&lt;</span> <span class="mi">22</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">minor</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span><span class="p">)</span> <span class="o">|</span> <span class="n">patch</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.graphics.xephyr" class="doc doc-heading">
        <code>xephyr</code>



<a href="#lutris.util.graphics.xephyr" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Xephyr utilities</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.xephyr.get_xephyr_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_xephyr_command</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.xephyr.get_xephyr_command" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a configured Xephyr command</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xephyr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_xephyr_command</span><span class="p">(</span><span class="n">display</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a configured Xephyr command&quot;&quot;&quot;</span>
    <span class="n">xephyr_depth</span> <span class="o">=</span> <span class="s2">&quot;8&quot;</span> <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;xephyr&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;8bpp&quot;</span> <span class="k">else</span> <span class="s2">&quot;16&quot;</span>
    <span class="n">xephyr_resolution</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;xephyr_resolution&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;640x480&quot;</span>
    <span class="n">xephyr_command</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;Xephyr&quot;</span><span class="p">,</span>
        <span class="n">display</span><span class="p">,</span>
        <span class="s2">&quot;-ac&quot;</span><span class="p">,</span>
        <span class="s2">&quot;-screen&quot;</span><span class="p">,</span>
        <span class="n">xephyr_resolution</span> <span class="o">+</span> <span class="s2">&quot;x&quot;</span> <span class="o">+</span> <span class="n">xephyr_depth</span><span class="p">,</span>
        <span class="s2">&quot;-glamor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;-reset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;-terminate&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;xephyr_fullscreen&quot;</span><span class="p">):</span>
        <span class="n">xephyr_command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fullscreen&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">xephyr_command</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.graphics.xrandr" class="doc doc-heading">
        <code>xrandr</code>



<a href="#lutris.util.graphics.xrandr" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>XrandR based display management</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.xrandr.LegacyDisplayManager" class="doc doc-heading">
        <code>
LegacyDisplayManager        </code>



<a href="#lutris.util.graphics.xrandr.LegacyDisplayManager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Legacy XrandR based display manager.
Does not work on Wayland.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LegacyDisplayManager</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-few-public-methods</span>

    <span class="sd">&quot;&quot;&quot;Legacy XrandR based display manager.</span>
<span class="sd">    Does not work on Wayland.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_display_names</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return output names from XrandR&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">output</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">get_outputs</span><span class="p">()]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_resolutions</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return available resolutions&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_resolutions</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_current_resolution</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return the current resolution for the desktop&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">_get_vidmodes</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;*&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">resolution_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.*?(\d+x\d+).*&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">resolution_match</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">resolution_match</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">set_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the current resolution&quot;&quot;&quot;</span>
        <span class="n">change_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_config</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return the current display configuration&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_outputs</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.xrandr.LegacyDisplayManager.get_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_config</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_config" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the current display configuration</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_config</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the current display configuration&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_outputs</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.xrandr.LegacyDisplayManager.get_current_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_current_resolution</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_current_resolution" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the current resolution for the desktop</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_current_resolution</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the current resolution for the desktop&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">_get_vidmodes</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;*&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">resolution_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.*?(\d+x\d+).*&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">resolution_match</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">resolution_match</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.xrandr.LegacyDisplayManager.get_display_names" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_display_names</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_display_names" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return output names from XrandR</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_display_names</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return output names from XrandR&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">output</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">get_outputs</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.xrandr.LegacyDisplayManager.get_resolutions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_resolutions</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.get_resolutions" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return available resolutions</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_resolutions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return available resolutions&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_resolutions</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.xrandr.LegacyDisplayManager.set_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.graphics.xrandr.LegacyDisplayManager.set_resolution" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Change the current resolution</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">set_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Change the current resolution&quot;&quot;&quot;</span>
    <span class="n">change_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.graphics.xrandr.Output" class="doc doc-heading">
        <code>
Output            (<span title="tuple">tuple</span>)
        </code>



<a href="#lutris.util.graphics.xrandr.Output" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Output(name, mode, position, rotation, primary, rate)</p>




  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.xrandr.Output.__getnewargs__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.xrandr.Output.__getnewargs__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return self as a plain tuple.  Used by copy and pickle.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">__getnewargs__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return self as a plain tuple.  Used by copy and pickle.&#39;</span>
    <span class="k">return</span> <span class="n">_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.xrandr.Output.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">primary</span><span class="p">,</span> <span class="n">rate</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.graphics.xrandr.Output.__new__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Create new instance of Output(name, mode, position, rotation, primary, rate)</p>

    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.graphics.xrandr.Output.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.graphics.xrandr.Output.__repr__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return a nicely formatted representation string</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s1">&#39;Return a nicely formatted representation string&#39;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="n">repr_fmt</span> <span class="o">%</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.xrandr.change_resolution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">change_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.xrandr.change_resolution" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Change display resolution.</p>
<p>Takes a string for single monitors or a list of displays as returned
by get_outputs().</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">change_resolution</span><span class="p">(</span><span class="n">resolution</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Change display resolution.</span>

<span class="sd">    Takes a string for single monitors or a list of displays as returned</span>
<span class="sd">    by get_outputs().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">resolution</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No resolution provided&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resolution</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Switching resolution to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">resolution</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_resolutions</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Resolution </span><span class="si">%s</span><span class="s2"> doesn&#39;t exist.&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Changing resolution to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;xrandr&quot;</span><span class="p">),</span> <span class="s2">&quot;-s&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="p">])</span> <span class="k">as</span> <span class="n">xrandr</span><span class="p">:</span>
                <span class="n">xrandr</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">display</span> <span class="ow">in</span> <span class="n">resolution</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Switching to </span><span class="si">%s</span><span class="s2"> on </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">display</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span> <span class="n">display</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">display</span><span class="o">.</span><span class="n">rotation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">display</span><span class="o">.</span><span class="n">rotation</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s2">&quot;normal&quot;</span><span class="p">,</span>
                <span class="s2">&quot;left&quot;</span><span class="p">,</span>
                <span class="s2">&quot;right&quot;</span><span class="p">,</span>
                <span class="s2">&quot;inverted&quot;</span><span class="p">,</span>
            <span class="p">):</span>
                <span class="n">rotation</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">rotation</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rotation</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Switching resolution of </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">display</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">display</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;xrandr&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;--output&quot;</span><span class="p">,</span>
                    <span class="n">display</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="s2">&quot;--mode&quot;</span><span class="p">,</span>
                    <span class="n">display</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
                    <span class="s2">&quot;--pos&quot;</span><span class="p">,</span>
                    <span class="n">display</span><span class="o">.</span><span class="n">position</span><span class="p">,</span>
                    <span class="s2">&quot;--rotate&quot;</span><span class="p">,</span>
                    <span class="n">rotation</span><span class="p">,</span>
                    <span class="s2">&quot;--rate&quot;</span><span class="p">,</span>
                    <span class="n">display</span><span class="o">.</span><span class="n">rate</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">)</span> <span class="k">as</span> <span class="n">xrandr</span><span class="p">:</span>
                <span class="n">xrandr</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.xrandr.get_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_outputs</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.xrandr.get_outputs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return list of namedtuples containing output 'name', 'geometry',
'rotation' and whether it is the 'primary' display.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_outputs</span><span class="p">():</span>  <span class="c1"># pylint: disable=too-many-locals</span>
    <span class="sd">&quot;&quot;&quot;Return list of namedtuples containing output &#39;name&#39;, &#39;geometry&#39;,</span>
<span class="sd">    &#39;rotation&#39; and whether it is the &#39;primary&#39; display.&quot;&quot;&quot;</span>
    <span class="n">outputs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">vid_modes</span> <span class="o">=</span> <span class="n">_get_vidmodes</span><span class="p">()</span>
    <span class="n">position</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">rotate</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">primary</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">vid_modes</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;xrandr didn&#39;t return anything&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">vid_modes</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;connected&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;disconnected&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">primary</span> <span class="o">=</span> <span class="s2">&quot;primary&quot;</span> <span class="ow">in</span> <span class="n">line</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">primary</span><span class="p">:</span>
                    <span class="n">name</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">geometry</span><span class="p">,</span> <span class="n">rotate</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">name</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">geometry</span><span class="p">,</span> <span class="n">rotate</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Unhandled xrandr line </span><span class="si">%s</span><span class="s2">, error: </span><span class="si">%s</span><span class="s2">. &quot;</span>
                    <span class="s2">&quot;Please send your xrandr output to the dev team&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">ex</span>
                <span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">geometry</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">):</span>  <span class="c1"># Screen turned off, no geometry</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">rotate</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">):</span>  <span class="c1"># Screen not rotated, no need to include</span>
                <span class="n">rotate</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
            <span class="n">position</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{x_pos}</span><span class="s2">x</span><span class="si">{y_pos}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_pos</span><span class="o">=</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">=</span><span class="n">y_pos</span><span class="p">)</span>
        <span class="k">elif</span> <span class="s2">&quot;*&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">mode</span><span class="p">,</span> <span class="o">*</span><span class="n">framerates</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">framerates</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;*&quot;</span> <span class="ow">in</span> <span class="n">number</span><span class="p">:</span>
                    <span class="n">hertz</span> <span class="o">=</span> <span class="n">number</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
                    <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">Output</span><span class="p">(</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
                            <span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span>
                            <span class="n">rotation</span><span class="o">=</span><span class="n">rotate</span><span class="p">,</span>
                            <span class="n">primary</span><span class="o">=</span><span class="n">primary</span><span class="p">,</span>
                            <span class="n">rate</span><span class="o">=</span><span class="n">hertz</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                    <span class="k">break</span>
    <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.xrandr.get_resolutions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_resolutions</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.xrandr.get_resolutions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of supported screen resolutions.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_resolutions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of supported screen resolutions.&quot;&quot;&quot;</span>
    <span class="n">resolution_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">_get_vidmodes</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">):</span>
            <span class="n">resolution_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.*?(\d+x\d+).*&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">resolution_match</span><span class="p">:</span>
                <span class="n">resolution_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resolution_match</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">resolution_list</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.xrandr.get_unique_resolutions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_unique_resolutions</span><span class="p">()</span></code>


<a href="#lutris.util.graphics.xrandr.get_unique_resolutions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return available resolutions, without duplicates and ordered with highest resolution first</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_unique_resolutions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return available resolutions, without duplicates and ordered with highest resolution first&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">get_resolutions</span><span class="p">()),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.graphics.xrandr.turn_off_except" class="doc doc-heading">
<code class="highlight language-python"><span class="n">turn_off_except</span><span class="p">(</span><span class="n">display</span><span class="p">)</span></code>


<a href="#lutris.util.graphics.xrandr.turn_off_except" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Use XrandR to turn off displays except the one referenced by <code>display</code></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/graphics/xrandr.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">turn_off_except</span><span class="p">(</span><span class="n">display</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Use XrandR to turn off displays except the one referenced by `display`&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">display</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No active display given, no turning off every display&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">get_outputs</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">display</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Turning off </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;xrandr&quot;</span><span class="p">),</span> <span class="s2">&quot;--output&quot;</span><span class="p">,</span> <span class="n">output</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;--off&quot;</span><span class="p">])</span> <span class="k">as</span> <span class="n">xrandr</span><span class="p">:</span>
                <span class="n">xrandr</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.http" class="doc doc-heading">
        <code>http</code>



<a href="#lutris.util.http" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>HTTP utilities</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.http.DEFAULT_TIMEOUT" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT_TIMEOUT</span></code>


<a href="#lutris.util.http.DEFAULT_TIMEOUT" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.util.http.HTTPError" class="doc doc-heading">
        <code>
HTTPError            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.util.http.HTTPError" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Exception raised on request failures</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HTTPError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Exception raised on request failures&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.http.HTTPError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.http.HTTPError.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.http.Request" class="doc doc-heading">
        <code>
Request        </code>



<a href="#lutris.util.http.Request" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Request</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">DEFAULT_TIMEOUT</span><span class="p">,</span>
        <span class="n">stop_request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cookies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clean_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="o">=</span> <span class="n">stop_request</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buffer_size</span> <span class="o">=</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span>  <span class="c1"># Bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_size</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_headers</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">headers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">headers</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;HTTP headers needs to be a dict (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">headers</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cookies</span><span class="p">:</span>
            <span class="n">cookie_processor</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">HTTPCookieProcessor</span><span class="p">(</span><span class="n">cookies</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opener</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">cookie_processor</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opener</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_clean_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks that a given URL is valid and return a usable version&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;An URL is required!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">url</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You&#39;d better stop that right now.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;//&quot;</span><span class="p">):</span>
            <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https:&quot;</span> <span class="o">+</span> <span class="n">url</span>
        <span class="k">if</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Stop using relative URLs!: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">SITE_URL</span> <span class="o">+</span> <span class="n">url</span>
        <span class="c1"># That&#39;s for a single URL in EGS... not sure if we need more escaping</span>
        <span class="c1"># The url received should already be receiving an escaped string</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;%20&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">url</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">PROJECT</span><span class="p">,</span> <span class="n">VERSION</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;GET </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="s2">&quot;Failed to create HTTP request to </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opener</span><span class="p">:</span>
                <span class="n">request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">request</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>  <span class="c1"># pylint: disable=consider-using-with</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">,</span> <span class="n">CertificateError</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">error</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="mi">401</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">UnauthorizedAccess</span><span class="p">(</span><span class="s2">&quot;Access to </span><span class="si">%s</span><span class="s2"> denied&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">error</span>
            <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">error</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">error</span><span class="o">.</span><span class="n">code</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">error</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span> <span class="n">urllib</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">URLError</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="s2">&quot;Unable to connect to server </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">error</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">error</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">response_headers</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getheaders</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;</span> <span class="mi">299</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Request responded with code </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">total_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">info</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Content-Length&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">total_size</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iter_chunks</span><span class="p">(</span><span class="n">request</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">_iter_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span><span class="o">.</span><span class="n">is_set</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
                <span class="k">return</span> <span class="bp">self</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">chunk</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buffer_size</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span> <span class="ne">ConnectionResetError</span><span class="p">)</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="s2">&quot;Request timed out&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">chunk</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">yield</span> <span class="n">chunk</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">write_to_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Writing to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">content</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No content to write&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">dirname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">dirname</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dirname</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dest_file</span><span class="p">:</span>
            <span class="n">dest_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_raw_json</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
        <span class="k">if</span> <span class="n">_raw_json</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">_raw_json</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">decoder</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON response from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2"> could not be decoded: &#39;</span><span class="si">{</span><span class="n">_raw_json</span><span class="p">[:</span><span class="mi">80</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.http.Request.json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">json</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.http.Request.json" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.http.Request.text" class="doc doc-heading">
<code class="highlight language-python"><span class="n">text</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.http.Request.text" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.http.Request.user_agent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">user_agent</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.http.Request.user_agent" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.http.Request.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">stop_request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.http.Request.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">,</span>
    <span class="n">timeout</span><span class="o">=</span><span class="n">DEFAULT_TIMEOUT</span><span class="p">,</span>
    <span class="n">stop_request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">cookies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clean_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="o">=</span> <span class="n">stop_request</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">buffer_size</span> <span class="o">=</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span>  <span class="c1"># Bytes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">total_size</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">downloaded_size</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">response_headers</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">headers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">headers</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;HTTP headers needs to be a dict (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">headers</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cookies</span><span class="p">:</span>
        <span class="n">cookie_processor</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">HTTPCookieProcessor</span><span class="p">(</span><span class="n">cookies</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opener</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">build_opener</span><span class="p">(</span><span class="n">cookie_processor</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opener</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.http.Request.get" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.http.Request.get" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;GET </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="s2">&quot;Failed to create HTTP request to </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opener</span><span class="p">:</span>
            <span class="n">request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>  <span class="c1"># pylint: disable=consider-using-with</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">,</span> <span class="n">CertificateError</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">error</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="mi">401</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnauthorizedAccess</span><span class="p">(</span><span class="s2">&quot;Access to </span><span class="si">%s</span><span class="s2"> denied&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">error</span>
        <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">error</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">error</span><span class="o">.</span><span class="n">code</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">error</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span> <span class="n">urllib</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">URLError</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="s2">&quot;Unable to connect to server </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">error</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">error</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">response_headers</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getheaders</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;</span> <span class="mi">299</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Request responded with code </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">info</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Content-Length&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_size</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iter_chunks</span><span class="p">(</span><span class="n">request</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
    <span class="n">request</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.http.Request.post" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>


<a href="#lutris.util.http.Request.post" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.http.Request.write_to_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_to_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.http.Request.write_to_file" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_to_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Writing to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">content</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No content to write&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">dirname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">dirname</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dirname</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dest_file</span><span class="p">:</span>
        <span class="n">dest_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.http.UnauthorizedAccess" class="doc doc-heading">
        <code>
UnauthorizedAccess            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.util.http.UnauthorizedAccess" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Exception raised for 401 HTTP errors</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UnauthorizedAccess</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Exception raised for 401 HTTP errors&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.util.http.download_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">raise_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.http.download_file" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Save a remote resource locally</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/http.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">raise_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Save a remote resource locally&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">dest</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">overwrite</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">dest</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">dest</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">raise_errors</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get url </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">request</span><span class="o">.</span><span class="n">write_to_file</span><span class="p">(</span><span class="n">dest</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dest</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.i18n" class="doc doc-heading">
        <code>i18n</code>



<a href="#lutris.util.i18n" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Language and translation utilities</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.i18n.get_lang" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_lang</span><span class="p">()</span></code>


<a href="#lutris.util.i18n.get_lang" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the 2 letter language code used by the system</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/i18n.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_lang</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the 2 letter language code used by the system&quot;&quot;&quot;</span>
    <span class="n">user_locale</span> <span class="o">=</span> <span class="n">get_user_locale</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">user_locale</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="n">user_locale</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.i18n.get_lang_and_country" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_lang_and_country</span><span class="p">()</span></code>


<a href="#lutris.util.i18n.get_lang_and_country" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return language code and country for the current user</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/i18n.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_lang_and_country</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return language code and country for the current user&quot;&quot;&quot;</span>
    <span class="n">user_locale</span> <span class="o">=</span> <span class="n">get_user_locale</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">user_locale</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
    <span class="n">lang_code</span><span class="p">,</span> <span class="n">country</span> <span class="o">=</span> <span class="n">user_locale</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span> <span class="k">if</span> <span class="s1">&#39;-&#39;</span> <span class="ow">in</span> <span class="n">locale</span> <span class="k">else</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">lang_code</span><span class="p">,</span> <span class="n">country</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.i18n.get_user_locale" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user_locale</span><span class="p">()</span></code>


<a href="#lutris.util.i18n.get_user_locale" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/i18n.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_user_locale</span><span class="p">():</span>
    <span class="n">user_locale</span><span class="p">,</span> <span class="n">_user_encoding</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">getlocale</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">user_locale</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to get locale&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">return</span> <span class="n">user_locale</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.jobs" class="doc doc-heading">
        <code>jobs</code>



<a href="#lutris.util.jobs" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.util.jobs.AsyncCall" class="doc doc-heading">
        <code>
AsyncCall            (<span title="threading.Thread">Thread</span>)
        </code>



<a href="#lutris.util.jobs.AsyncCall" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AsyncCall</span><span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Execute `function` in a new thread then schedule `callback` for</span>
<span class="sd">        execution in the main loop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="k">lambda</span> <span class="n">r</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;daemon&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error while completing task </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">ex</span><span class="p">),</span> <span class="n">ex</span><span class="p">)</span>
            <span class="n">error</span> <span class="o">=</span> <span class="n">ex</span>
            <span class="n">_ex_type</span><span class="p">,</span> <span class="n">_ex_value</span><span class="p">,</span> <span class="n">trace</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">source_id</span> <span class="o">=</span> <span class="n">GLib</span><span class="o">.</span><span class="n">idle_add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.jobs.AsyncCall.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.jobs.AsyncCall.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Execute <code>function</code> in a new thread then schedule <code>callback</code> for
execution in the main loop.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Execute `function` in a new thread then schedule `callback` for</span>
<span class="sd">    execution in the main loop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">source_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stop_request</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">func</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="k">lambda</span> <span class="n">r</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;daemon&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.jobs.AsyncCall.target" class="doc doc-heading">
<code class="highlight language-python"><span class="n">target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#lutris.util.jobs.AsyncCall.target" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">target</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error while completing task </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">ex</span><span class="p">),</span> <span class="n">ex</span><span class="p">)</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">ex</span>
        <span class="n">_ex_type</span><span class="p">,</span> <span class="n">_ex_value</span><span class="p">,</span> <span class="n">trace</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
        <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">source_id</span> <span class="o">=</span> <span class="n">GLib</span><span class="o">.</span><span class="n">idle_add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_id</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.util.jobs.synchronized_call" class="doc doc-heading">
<code class="highlight language-python"><span class="n">synchronized_call</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span></code>


<a href="#lutris.util.jobs.synchronized_call" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Calls func, stores the result by reference, set an event when finished</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">synchronized_call</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calls func, stores the result by reference, set an event when finished&quot;&quot;&quot;</span>
    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">())</span>
    <span class="n">event</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.jobs.thread_safe_call" class="doc doc-heading">
<code class="highlight language-python"><span class="n">thread_safe_call</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></code>


<a href="#lutris.util.jobs.thread_safe_call" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Synchronous call to func, safe to call in a callback started from a thread
Not safe to use otherwise, will crash if run from the main thread.</p>
<p>See: <a href="https://pygobject.readthedocs.io/en/latest/guide/threading.html">https://pygobject.readthedocs.io/en/latest/guide/threading.html</a></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/jobs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">thread_safe_call</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Synchronous call to func, safe to call in a callback started from a thread</span>
<span class="sd">    Not safe to use otherwise, will crash if run from the main thread.</span>

<span class="sd">    See: https://pygobject.readthedocs.io/en/latest/guide/threading.html</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">event</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">GLib</span><span class="o">.</span><span class="n">idle_add</span><span class="p">(</span><span class="n">synchronized_call</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="n">event</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.joypad" class="doc doc-heading">
        <code>joypad</code>



<a href="#lutris.util.joypad" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.joypad.get_controller_mappings" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_controller_mappings</span><span class="p">()</span></code>


<a href="#lutris.util.joypad.get_controller_mappings" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/joypad.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_controller_mappings</span><span class="p">():</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">get_devices</span><span class="p">()</span>
    <span class="n">controller_db</span> <span class="o">=</span> <span class="n">GameControllerDB</span><span class="p">()</span>

    <span class="n">controllers</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">devices</span><span class="p">:</span>
        <span class="n">guid</span> <span class="o">=</span> <span class="n">get_sdl_identifier</span><span class="p">(</span><span class="n">device</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">guid</span> <span class="ow">in</span> <span class="n">controller_db</span><span class="o">.</span><span class="n">controllers</span><span class="p">:</span>
            <span class="n">controllers</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">device</span><span class="p">,</span> <span class="n">controller_db</span><span class="p">[</span><span class="n">guid</span><span class="p">]))</span>

    <span class="k">return</span> <span class="n">controllers</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.joypad.get_devices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_devices</span><span class="p">()</span></code>


<a href="#lutris.util.joypad.get_devices" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/joypad.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_devices</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">evdev</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;python3-evdev not installed, controller support not available&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">dev</span> <span class="ow">in</span> <span class="n">evdev</span><span class="o">.</span><span class="n">list_devices</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">evdev</span><span class="o">.</span><span class="n">InputDevice</span><span class="p">(</span><span class="n">dev</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">return</span> <span class="n">_devices</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.joypad.get_joypads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_joypads</span><span class="p">()</span></code>


<a href="#lutris.util.joypad.get_joypads" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a list of tuples with the device and the joypad name</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/joypad.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_joypads</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return a list of tuples with the device and the joypad name&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">dev</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">dev</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">dev</span> <span class="ow">in</span> <span class="n">get_devices</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.joypad.get_sdl_identifier" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_sdl_identifier</span><span class="p">(</span><span class="n">device_info</span><span class="p">)</span></code>


<a href="#lutris.util.joypad.get_sdl_identifier" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/joypad.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_sdl_identifier</span><span class="p">(</span><span class="n">device_info</span><span class="p">):</span>
    <span class="n">device_identifier</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
        <span class="s2">&quot;&lt;LLLL&quot;</span><span class="p">,</span>
        <span class="n">device_info</span><span class="o">.</span><span class="n">bustype</span><span class="p">,</span>
        <span class="n">device_info</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span>
        <span class="n">device_info</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
        <span class="n">device_info</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span class="p">(</span><span class="n">device_identifier</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.joypad.read_button" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_button</span><span class="p">(</span><span class="n">device</span><span class="p">)</span></code>


<a href="#lutris.util.joypad.read_button" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Reference function for reading controller buttons and axis values.
Not to be used as is.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/joypad.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_button</span><span class="p">(</span><span class="n">device</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Reference function for reading controller buttons and axis values.</span>
<span class="sd">    Not to be used as is.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># pylint: disable=no-member</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">device</span><span class="o">.</span><span class="n">read_loop</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">evdev</span><span class="o">.</span><span class="n">ecodes</span><span class="o">.</span><span class="n">EV_KEY</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;button </span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">): </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="nb">hex</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">code</span><span class="p">),</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">evdev</span><span class="o">.</span><span class="n">ecodes</span><span class="o">.</span><span class="n">EV_ABS</span><span class="p">:</span>
            <span class="n">sticks</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">code</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sticks</span> <span class="ow">or</span> <span class="nb">abs</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5000</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;axis </span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">): </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="nb">hex</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">code</span><span class="p">),</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.keyring" class="doc doc-heading">
        <code>keyring</code>



<a href="#lutris.util.keyring" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.keyring.KEYRING_NAME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">KEYRING_NAME</span></code>


<a href="#lutris.util.keyring.KEYRING_NAME" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h3 id="lutris.util.keyring.store_credentials" class="doc doc-heading">
<code class="highlight language-python"><span class="n">store_credentials</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span></code>


<a href="#lutris.util.keyring.store_credentials" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/keyring.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">store_credentials</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">keyring</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="s2">&quot;Lutris&quot;</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">PasswordSetError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.libretro" class="doc doc-heading">
        <code>libretro</code>



<a href="#lutris.util.libretro" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.util.libretro.RetroConfig" class="doc doc-heading">
        <code>
RetroConfig        </code>



<a href="#lutris.util.libretro.RetroConfig" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RetroConfig</span><span class="p">:</span>
    <span class="n">value_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;true&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config_path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Config path is mandatory&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span> <span class="o">=</span> <span class="n">config_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Lazy loading of the RetroArch config &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_config</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>
        <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;The Retroarch config in </span><span class="si">%s</span><span class="s2"> could not &quot;</span>
                <span class="s2">&quot;be read because of character encoding issues&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Load the configuration from file&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;Specified config file </span><span class="si">{}</span><span class="s2"> does not exist&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">config_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="s1">&#39;=&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                    <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
                <span class="n">config_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> = &quot;</span><span class="si">{}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">serialize_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">v</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">k</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">deserialize_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">conf</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">conf</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="c1"># self.config is read-only</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">serialize_value</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
                <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">serialize_value</span><span class="p">(</span><span class="n">value</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">_value</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.libretro.RetroConfig.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.libretro.RetroConfig.config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Lazy loading of the RetroArch config </p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.libretro.RetroConfig.value_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">value_map</span></code>


<a href="#lutris.util.libretro.RetroConfig.value_map" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.libretro.RetroConfig.__getitem__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.libretro.RetroConfig.__getitem__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">deserialize_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.libretro.RetroConfig.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.libretro.RetroConfig.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">config_path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Config path is mandatory&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span> <span class="o">=</span> <span class="n">config_path</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.libretro.RetroConfig.__setitem__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.libretro.RetroConfig.__setitem__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">conf</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">conf</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="c1"># self.config is read-only</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">serialize_value</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">serialize_value</span><span class="p">(</span><span class="n">value</span><span class="p">)))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.libretro.RetroConfig.deserialize_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deserialize_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#lutris.util.libretro.RetroConfig.deserialize_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deserialize_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">v</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.libretro.RetroConfig.keys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.libretro.RetroConfig.keys" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">_value</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.libretro.RetroConfig.load_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.libretro.RetroConfig.load_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Load the configuration from file</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Load the configuration from file&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;Specified config file </span><span class="si">{}</span><span class="s2"> does not exist&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">))</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">config_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="s1">&#39;=&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.libretro.RetroConfig.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.libretro.RetroConfig.save" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
            <span class="n">config_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> = &quot;</span><span class="si">{}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.libretro.RetroConfig.serialize_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">serialize_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#lutris.util.libretro.RetroConfig.serialize_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/libretro.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">serialize_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">k</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.linux" class="doc doc-heading">
        <code>linux</code>



<a href="#lutris.util.linux" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Linux specific platform code</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.linux.LINUX_SYSTEM" class="doc doc-heading">
<code class="highlight language-python"><span class="n">LINUX_SYSTEM</span></code>


<a href="#lutris.util.linux.LINUX_SYSTEM" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.linux.SYSTEM_COMPONENTS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SYSTEM_COMPONENTS</span></code>


<a href="#lutris.util.linux.SYSTEM_COMPONENTS" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.linux.linux_distribution" class="doc doc-heading">
<code class="highlight language-python"><span class="n">linux_distribution</span></code>


<a href="#lutris.util.linux.linux_distribution" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.util.linux.LinuxSystem" class="doc doc-heading">
        <code>
LinuxSystem        </code>



<a href="#lutris.util.linux.LinuxSystem" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Global cache for system commands</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LinuxSystem</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-many-public-methods</span>
    <span class="sd">&quot;&quot;&quot;Global cache for system commands&quot;&quot;&quot;</span>

    <span class="n">_cache</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">multiarch_lib_folders</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;/lib&quot;</span><span class="p">,</span> <span class="s2">&quot;/lib64&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;/lib32&quot;</span><span class="p">,</span> <span class="s2">&quot;/lib64&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;/usr/lib&quot;</span><span class="p">,</span> <span class="s2">&quot;/usr/lib64&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;/usr/lib32&quot;</span><span class="p">,</span> <span class="s2">&quot;/usr/lib64&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;/lib/i386-linux-gnu&quot;</span><span class="p">,</span> <span class="s2">&quot;/lib/x86_64-linux-gnu&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;/usr/lib/i386-linux-gnu&quot;</span><span class="p">,</span> <span class="s2">&quot;/usr/lib/x86_64-linux-gnu&quot;</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="n">soundfont_folders</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;/usr/share/sounds/sf2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;/usr/share/soundfonts&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">recommended_no_file_open</span> <span class="o">=</span> <span class="mi">524288</span>
    <span class="n">required_components</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;OPENGL&quot;</span><span class="p">,</span> <span class="s2">&quot;VULKAN&quot;</span><span class="p">,</span> <span class="s2">&quot;GNUTLS&quot;</span><span class="p">]</span>
    <span class="n">optional_components</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;WINE&quot;</span><span class="p">,</span> <span class="s2">&quot;GAMEMODE&quot;</span><span class="p">]</span>

    <span class="n">flatpak_info_path</span> <span class="o">=</span> <span class="s2">&quot;/.flatpak-info&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;COMMANDS&quot;</span><span class="p">,</span> <span class="s2">&quot;TERMINALS&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="n">SYSTEM_COMPONENTS</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
                <span class="n">command_path</span> <span class="o">=</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">command_path</span><span class="p">:</span>
                    <span class="n">command_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sbin_path</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">command_path</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">command</span><span class="p">]</span> <span class="o">=</span> <span class="n">command_path</span>

        <span class="c1"># Detect if system is 64bit capable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_64_bit</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">**</span><span class="mi">32</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_libraries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_shared_libraries</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">populate_libraries</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">populate_sound_fonts</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">soft_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hard_limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_limits</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">glxinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_glxinfo</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_sbin_path</span><span class="p">(</span><span class="n">command</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Some distributions don&#39;t put sbin directories in $PATH&quot;&quot;&quot;</span>
        <span class="n">path_candidates</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/sbin&quot;</span><span class="p">,</span> <span class="s2">&quot;/usr/sbin&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">path_candidates</span><span class="p">:</span>
            <span class="n">command_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">candidate</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">command_path</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">command_path</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_file_limits</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">resource</span><span class="o">.</span><span class="n">getrlimit</span><span class="p">(</span><span class="n">resource</span><span class="o">.</span><span class="n">RLIMIT_NOFILE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">has_enough_file_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hard_limit</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recommended_no_file_open</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_cpus</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Parse the output of /proc/cpuinfo&quot;&quot;&quot;</span>
        <span class="n">cpus</span> <span class="o">=</span> <span class="p">[{}]</span>
        <span class="n">cpu_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/proc/cpuinfo&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cpuinfo</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">cpuinfo</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                    <span class="n">cpu_index</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">cpus</span><span class="o">.</span><span class="n">append</span><span class="p">({})</span>
                    <span class="k">continue</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">cpus</span><span class="p">[</span><span class="n">cpu_index</span><span class="p">][</span><span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">cpu</span> <span class="k">for</span> <span class="n">cpu</span> <span class="ow">in</span> <span class="n">cpus</span> <span class="k">if</span> <span class="n">cpu</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_drives</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return a list of drives with their filesystems&quot;&quot;&quot;</span>
        <span class="n">lsblk_output</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">read_process_output</span><span class="p">([</span><span class="s2">&quot;lsblk&quot;</span><span class="p">,</span> <span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--json&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">drive</span>
            <span class="k">for</span> <span class="n">drive</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">lsblk_output</span><span class="p">)[</span><span class="s2">&quot;blockdevices&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">drive</span><span class="p">[</span><span class="s2">&quot;fstype&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;squashfs&quot;</span>
        <span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_ram_info</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Parse the output of /proc/meminfo and return RAM information in kB&quot;&quot;&quot;</span>
        <span class="n">mem</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/proc/meminfo&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">meminfo</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">meminfo</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">mem</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;kB </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mem</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_dist_info</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return distribution information&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">linux_distribution</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">linux_distribution</span><span class="p">()</span>
        <span class="k">return</span> <span class="s2">&quot;unknown&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_arch</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Return the system architecture only if compatible</span>
<span class="sd">        with the supported architectures from the Lutris API</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">machine</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">machine</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">machine</span> <span class="o">==</span> <span class="s2">&quot;x86_64&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;x86_64&quot;</span>
        <span class="k">if</span> <span class="n">machine</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;i386&quot;</span><span class="p">,</span> <span class="s2">&quot;i686&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;i386&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;armv7&quot;</span> <span class="ow">in</span> <span class="n">machine</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;armv7&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unsupported architecture </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">machine</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_kernel_version</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Get kernel info from /proc/version&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/proc/version&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">kernel_info</span><span class="p">:</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">kernel_info</span><span class="o">.</span><span class="n">readlines</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">version</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">version</span>

    <span class="k">def</span> <span class="nf">gamemode_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return whether gamemode is available&quot;&quot;&quot;</span>
        <span class="c1"># Current versions of gamemode use gamemoderun</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;gamemoderun&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="c1"># This is for old versions of gamemode only</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_feature_supported</span><span class="p">(</span><span class="s2">&quot;GAMEMODE&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">has_steam</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return whether Steam is installed locally&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;steam&quot;</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">display_server</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the display server used&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;XDG_SESSION_TYPE&quot;</span><span class="p">,</span> <span class="s2">&quot;unknown&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_flatpak</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check is we are running inside Flatpak sandbox&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flatpak_info_path</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">runtime_architectures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the architectures supported on this machine&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">==</span> <span class="s2">&quot;x86_64&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;i386&quot;</span><span class="p">,</span> <span class="s2">&quot;x86_64&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;i386&quot;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_requirements</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">critical_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_requirements</span><span class="p">(</span><span class="n">include_optional</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_fs_type_for_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the filesystem type a given path uses&quot;&quot;&quot;</span>
        <span class="n">path_drive</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_drive_for_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">drive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_drives</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">partition</span> <span class="ow">in</span> <span class="n">drive</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="p">[]):</span>
                <span class="k">if</span> <span class="s2">&quot;/dev/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">partition</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">path_drive</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">partition</span><span class="p">[</span><span class="s2">&quot;fstype&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_glxinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a GlxInfo instance if the gfxinfo tool is available&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">_glxinfo</span> <span class="o">=</span> <span class="n">glxinfo</span><span class="o">.</span><span class="n">GlxInfo</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">_glxinfo</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Invalid glxinfo received&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">return</span> <span class="n">_glxinfo</span>

    <span class="k">def</span> <span class="nf">get_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return used system requirements&quot;&quot;&quot;</span>
        <span class="n">_requirements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_components</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">include_optional</span><span class="p">:</span>
            <span class="n">_requirements</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_components</span>
            <span class="k">if</span> <span class="n">drivers</span><span class="o">.</span><span class="n">is_amd</span><span class="p">():</span>
                <span class="n">_requirements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;RADEON&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_requirements</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a system command path if available&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;COMMANDS&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_terminals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return list of installed terminals&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;TERMINALS&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">get_soundfonts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return path of available soundfonts&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;SOUNDFONTS&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_lib_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return shared library folders, sorted by most used to least used&quot;&quot;&quot;</span>
        <span class="n">lib_folder_counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">lib</span><span class="o">.</span><span class="n">dirname</span> <span class="k">for</span> <span class="n">lib_list</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shared_libraries</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">lib_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">lib_folder_counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">()]</span>

    <span class="k">def</span> <span class="nf">iter_lib_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Loop over existing 32/64 bit library folders&quot;&quot;&quot;</span>
        <span class="n">exported_lib_folders</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">lib_folder</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lib_folders</span><span class="p">():</span>
            <span class="n">exported_lib_folders</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lib_folder</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">lib_folder</span>
        <span class="k">for</span> <span class="n">lib_paths</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiarch_lib_folders</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">!=</span> <span class="s2">&quot;x86_64&quot;</span><span class="p">:</span>
                <span class="c1"># On non amd64 setups, only the first element is relevant</span>
                <span class="n">lib_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">lib_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Ignore paths where 64-bit path is link to supposed 32-bit path</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">lib_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">lib_paths</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                    <span class="k">continue</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">lib_paths</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">lib_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exported_lib_folders</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">lib_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lib_paths</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">lib_paths</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exported_lib_folders</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">lib_paths</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_ldconfig_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of available libraries, as returned by `ldconfig -p`.&quot;&quot;&quot;</span>
        <span class="n">ldconfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ldconfig&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ldconfig</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not detect ldconfig on this system&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">read_process_output</span><span class="p">([</span><span class="n">ldconfig</span><span class="p">,</span> <span class="s2">&quot;-p&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output</span> <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">get_shared_libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Loads all available libraries on the system as SharedLibrary instances</span>
<span class="sd">        The libraries are stored in a defaultdict keyed by library name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">shared_libraries</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">lib_line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ldconfig_libs</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">lib</span> <span class="o">=</span> <span class="n">SharedLibrary</span><span class="o">.</span><span class="n">new_from_ldconfig</span><span class="p">(</span><span class="n">lib_line</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid ldconfig line: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">lib_line</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">lib</span><span class="o">.</span><span class="n">arch</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_architectures</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">shared_libraries</span><span class="p">[</span><span class="n">lib</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">shared_libraries</span>

    <span class="k">def</span> <span class="nf">populate_libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Populates the LIBRARIES cache with what is found on the system&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_architectures</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">arch</span><span class="p">]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">requirements</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">SYSTEM_COMPONENTS</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">req</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">shared_lib</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shared_libraries</span><span class="p">[</span><span class="n">lib</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">shared_lib</span><span class="o">.</span><span class="n">arch</span><span class="p">][</span><span class="n">req</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">populate_sound_fonts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Populates the soundfont cache&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;SOUNDFONTS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">soundfont_folders</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">for</span> <span class="n">soundfont</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;SOUNDFONTS&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">soundfont</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_missing_requirement_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of sets of missing libraries for each supported architecture&quot;&quot;&quot;</span>
        <span class="n">required_libs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">SYSTEM_COMPONENTS</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">req</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">required_libs</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">arch</span><span class="p">][</span><span class="n">req</span><span class="p">]))</span> <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_architectures</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_missing_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a dictionary of missing libraries&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">req</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_missing_requirement_libs</span><span class="p">(</span><span class="n">req</span><span class="p">)</span> <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">is_feature_supported</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">feature</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return whether the system has the necessary libs to support a feature&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">feature</span> <span class="o">==</span> <span class="s2">&quot;ACO&quot;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">mesa_version</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">glxinfo</span><span class="o">.</span><span class="n">GLX_MESA_query_renderer</span><span class="o">.</span><span class="n">version</span>
                <span class="k">return</span> <span class="n">mesa_version</span> <span class="o">&gt;=</span> <span class="s2">&quot;19.3&quot;</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_missing_requirement_libs</span><span class="p">(</span><span class="n">feature</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.critical_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">critical_requirements</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.critical_requirements" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.display_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">display_server</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.display_server" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the display server used</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.flatpak_info_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flatpak_info_path</span></code>


<a href="#lutris.util.linux.LinuxSystem.flatpak_info_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.has_steam" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_steam</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.has_steam" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return whether Steam is installed locally</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.is_flatpak" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_flatpak</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.is_flatpak" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Check is we are running inside Flatpak sandbox</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.multiarch_lib_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">multiarch_lib_folders</span></code>


<a href="#lutris.util.linux.LinuxSystem.multiarch_lib_folders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.optional_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">optional_components</span></code>


<a href="#lutris.util.linux.LinuxSystem.optional_components" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.recommended_no_file_open" class="doc doc-heading">
<code class="highlight language-python"><span class="n">recommended_no_file_open</span></code>


<a href="#lutris.util.linux.LinuxSystem.recommended_no_file_open" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.required_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">required_components</span></code>


<a href="#lutris.util.linux.LinuxSystem.required_components" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">requirements</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.requirements" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.runtime_architectures" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runtime_architectures</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.runtime_architectures" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the architectures supported on this machine</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.LinuxSystem.soundfont_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">soundfont_folders</span></code>


<a href="#lutris.util.linux.LinuxSystem.soundfont_folders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;COMMANDS&quot;</span><span class="p">,</span> <span class="s2">&quot;TERMINALS&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="n">SYSTEM_COMPONENTS</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
            <span class="n">command_path</span> <span class="o">=</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">command_path</span><span class="p">:</span>
                <span class="n">command_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sbin_path</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">command_path</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">command</span><span class="p">]</span> <span class="o">=</span> <span class="n">command_path</span>

    <span class="c1"># Detect if system is 64bit capable</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_64_bit</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">**</span><span class="mi">32</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shared_libraries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_shared_libraries</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">populate_libraries</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">populate_sound_fonts</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">soft_limit</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hard_limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_limits</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">glxinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_glxinfo</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.gamemode_available" class="doc doc-heading">
<code class="highlight language-python"><span class="n">gamemode_available</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.gamemode_available" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return whether gamemode is available</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">gamemode_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return whether gamemode is available&quot;&quot;&quot;</span>
    <span class="c1"># Current versions of gamemode use gamemoderun</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;gamemoderun&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="c1"># This is for old versions of gamemode only</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_feature_supported</span><span class="p">(</span><span class="s2">&quot;GAMEMODE&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a system command path if available</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a system command path if available&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;COMMANDS&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_arch</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.get_arch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the system architecture only if compatible
with the supported architectures from the Lutris API</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_arch</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the system architecture only if compatible</span>
<span class="sd">    with the supported architectures from the Lutris API</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">machine</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">machine</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">machine</span> <span class="o">==</span> <span class="s2">&quot;x86_64&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;x86_64&quot;</span>
    <span class="k">if</span> <span class="n">machine</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;i386&quot;</span><span class="p">,</span> <span class="s2">&quot;i686&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;i386&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;armv7&quot;</span> <span class="ow">in</span> <span class="n">machine</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;armv7&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unsupported architecture </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">machine</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_cpus" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_cpus</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.get_cpus" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Parse the output of /proc/cpuinfo</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_cpus</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Parse the output of /proc/cpuinfo&quot;&quot;&quot;</span>
    <span class="n">cpus</span> <span class="o">=</span> <span class="p">[{}]</span>
    <span class="n">cpu_index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/proc/cpuinfo&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cpuinfo</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">cpuinfo</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                <span class="n">cpu_index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">cpus</span><span class="o">.</span><span class="n">append</span><span class="p">({})</span>
                <span class="k">continue</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">cpus</span><span class="p">[</span><span class="n">cpu_index</span><span class="p">][</span><span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">cpu</span> <span class="k">for</span> <span class="n">cpu</span> <span class="ow">in</span> <span class="n">cpus</span> <span class="k">if</span> <span class="n">cpu</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_dist_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_dist_info</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.get_dist_info" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return distribution information</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_dist_info</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return distribution information&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">linux_distribution</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">linux_distribution</span><span class="p">()</span>
    <span class="k">return</span> <span class="s2">&quot;unknown&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_drives" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_drives</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.get_drives" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of drives with their filesystems</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_drives</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return a list of drives with their filesystems&quot;&quot;&quot;</span>
    <span class="n">lsblk_output</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">read_process_output</span><span class="p">([</span><span class="s2">&quot;lsblk&quot;</span><span class="p">,</span> <span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--json&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">drive</span>
        <span class="k">for</span> <span class="n">drive</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">lsblk_output</span><span class="p">)[</span><span class="s2">&quot;blockdevices&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">drive</span><span class="p">[</span><span class="s2">&quot;fstype&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;squashfs&quot;</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_file_limits" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_file_limits</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.get_file_limits" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_file_limits</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">resource</span><span class="o">.</span><span class="n">getrlimit</span><span class="p">(</span><span class="n">resource</span><span class="o">.</span><span class="n">RLIMIT_NOFILE</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_fs_type_for_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_fs_type_for_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_fs_type_for_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the filesystem type a given path uses</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_fs_type_for_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the filesystem type a given path uses&quot;&quot;&quot;</span>
    <span class="n">path_drive</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_drive_for_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">drive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_drives</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">partition</span> <span class="ow">in</span> <span class="n">drive</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="k">if</span> <span class="s2">&quot;/dev/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">partition</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">path_drive</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">partition</span><span class="p">[</span><span class="s2">&quot;fstype&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_glxinfo" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_glxinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_glxinfo" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a GlxInfo instance if the gfxinfo tool is available</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_glxinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a GlxInfo instance if the gfxinfo tool is available&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="n">_glxinfo</span> <span class="o">=</span> <span class="n">glxinfo</span><span class="o">.</span><span class="n">GlxInfo</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">_glxinfo</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Invalid glxinfo received&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">return</span> <span class="n">_glxinfo</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_kernel_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_kernel_version</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.get_kernel_version" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Get kernel info from /proc/version</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_kernel_version</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Get kernel info from /proc/version&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/proc/version&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">kernel_info</span><span class="p">:</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">kernel_info</span><span class="o">.</span><span class="n">readlines</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">version</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_ldconfig_libs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_ldconfig_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_ldconfig_libs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of available libraries, as returned by <code>ldconfig -p</code>.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_ldconfig_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of available libraries, as returned by `ldconfig -p`.&quot;&quot;&quot;</span>
    <span class="n">ldconfig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ldconfig&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ldconfig</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not detect ldconfig on this system&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">read_process_output</span><span class="p">([</span><span class="n">ldconfig</span><span class="p">,</span> <span class="s2">&quot;-p&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output</span> <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_lib_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_lib_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_lib_folders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return shared library folders, sorted by most used to least used</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_lib_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return shared library folders, sorted by most used to least used&quot;&quot;&quot;</span>
    <span class="n">lib_folder_counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">lib</span><span class="o">.</span><span class="n">dirname</span> <span class="k">for</span> <span class="n">lib_list</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shared_libraries</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">lib_list</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">lib_folder_counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_missing_libs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_missing_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_missing_libs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a dictionary of missing libraries</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_missing_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a dictionary of missing libraries&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">req</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_missing_requirement_libs</span><span class="p">(</span><span class="n">req</span><span class="p">)</span> <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">requirements</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_missing_requirement_libs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_missing_requirement_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_missing_requirement_libs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of sets of missing libraries for each supported architecture</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_missing_requirement_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of sets of missing libraries for each supported architecture&quot;&quot;&quot;</span>
    <span class="n">required_libs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">SYSTEM_COMPONENTS</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">req</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">required_libs</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">arch</span><span class="p">][</span><span class="n">req</span><span class="p">]))</span> <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_architectures</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_ram_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_ram_info</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.get_ram_info" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Parse the output of /proc/meminfo and return RAM information in kB</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_ram_info</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Parse the output of /proc/meminfo and return RAM information in kB&quot;&quot;&quot;</span>
    <span class="n">mem</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/proc/meminfo&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">meminfo</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">meminfo</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">mem</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;kB </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mem</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_requirements" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return used system requirements</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_optional</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return used system requirements&quot;&quot;&quot;</span>
    <span class="n">_requirements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_components</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">include_optional</span><span class="p">:</span>
        <span class="n">_requirements</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_components</span>
        <span class="k">if</span> <span class="n">drivers</span><span class="o">.</span><span class="n">is_amd</span><span class="p">():</span>
            <span class="n">_requirements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;RADEON&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_requirements</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_sbin_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_sbin_path</span><span class="p">(</span><span class="n">command</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.linux.LinuxSystem.get_sbin_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Some distributions don't put sbin directories in $PATH</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_sbin_path</span><span class="p">(</span><span class="n">command</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Some distributions don&#39;t put sbin directories in $PATH&quot;&quot;&quot;</span>
    <span class="n">path_candidates</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/sbin&quot;</span><span class="p">,</span> <span class="s2">&quot;/usr/sbin&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">path_candidates</span><span class="p">:</span>
        <span class="n">command_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">candidate</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">command_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">command_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_shared_libraries" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_shared_libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_shared_libraries" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Loads all available libraries on the system as SharedLibrary instances
The libraries are stored in a defaultdict keyed by library name.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_shared_libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Loads all available libraries on the system as SharedLibrary instances</span>
<span class="sd">    The libraries are stored in a defaultdict keyed by library name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">shared_libraries</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">lib_line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ldconfig_libs</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lib</span> <span class="o">=</span> <span class="n">SharedLibrary</span><span class="o">.</span><span class="n">new_from_ldconfig</span><span class="p">(</span><span class="n">lib_line</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid ldconfig line: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">lib_line</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">lib</span><span class="o">.</span><span class="n">arch</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_architectures</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">shared_libraries</span><span class="p">[</span><span class="n">lib</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">shared_libraries</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_soundfonts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_soundfonts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_soundfonts" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return path of available soundfonts</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_soundfonts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return path of available soundfonts&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;SOUNDFONTS&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.get_terminals" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_terminals</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.get_terminals" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return list of installed terminals</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_terminals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return list of installed terminals&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;TERMINALS&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.has_enough_file_descriptors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_enough_file_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.has_enough_file_descriptors" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">has_enough_file_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hard_limit</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recommended_no_file_open</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.is_feature_supported" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_feature_supported</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">feature</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.is_feature_supported" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return whether the system has the necessary libs to support a feature</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_feature_supported</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">feature</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return whether the system has the necessary libs to support a feature&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">feature</span> <span class="o">==</span> <span class="s2">&quot;ACO&quot;</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mesa_version</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">glxinfo</span><span class="o">.</span><span class="n">GLX_MESA_query_renderer</span><span class="o">.</span><span class="n">version</span>
            <span class="k">return</span> <span class="n">mesa_version</span> <span class="o">&gt;=</span> <span class="s2">&quot;19.3&quot;</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_missing_requirement_libs</span><span class="p">(</span><span class="n">feature</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.iter_lib_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">iter_lib_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.iter_lib_folders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Loop over existing 32/64 bit library folders</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">iter_lib_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Loop over existing 32/64 bit library folders&quot;&quot;&quot;</span>
    <span class="n">exported_lib_folders</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">lib_folder</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lib_folders</span><span class="p">():</span>
        <span class="n">exported_lib_folders</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lib_folder</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">lib_folder</span>
    <span class="k">for</span> <span class="n">lib_paths</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multiarch_lib_folders</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">!=</span> <span class="s2">&quot;x86_64&quot;</span><span class="p">:</span>
            <span class="c1"># On non amd64 setups, only the first element is relevant</span>
            <span class="n">lib_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">lib_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Ignore paths where 64-bit path is link to supposed 32-bit path</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">lib_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">lib_paths</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                <span class="k">continue</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">lib_paths</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">lib_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exported_lib_folders</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">lib_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lib_paths</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">lib_paths</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exported_lib_folders</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">lib_paths</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.populate_libraries" class="doc doc-heading">
<code class="highlight language-python"><span class="n">populate_libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.populate_libraries" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Populates the LIBRARIES cache with what is found on the system</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">populate_libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Populates the LIBRARIES cache with what is found on the system&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_architectures</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">arch</span><span class="p">]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">requirements</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">lib</span> <span class="ow">in</span> <span class="n">SYSTEM_COMPONENTS</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">req</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">shared_lib</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shared_libraries</span><span class="p">[</span><span class="n">lib</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;LIBRARIES&quot;</span><span class="p">][</span><span class="n">shared_lib</span><span class="o">.</span><span class="n">arch</span><span class="p">][</span><span class="n">req</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.LinuxSystem.populate_sound_fonts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">populate_sound_fonts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.linux.LinuxSystem.populate_sound_fonts" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Populates the soundfont cache</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">populate_sound_fonts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Populates the soundfont cache&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;SOUNDFONTS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">soundfont_folders</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">soundfont</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cache</span><span class="p">[</span><span class="s2">&quot;SOUNDFONTS&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">soundfont</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.linux.SharedLibrary" class="doc doc-heading">
        <code>
SharedLibrary        </code>



<a href="#lutris.util.linux.SharedLibrary" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Representation of a Linux shared library</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SharedLibrary</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Representation of a Linux shared library&quot;&quot;&quot;</span>

    <span class="n">default_arch</span> <span class="o">=</span> <span class="s2">&quot;i386&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="p">[</span><span class="n">flag</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">flag</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">new_from_ldconfig</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ldconfig_line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a SharedLibrary instance from an output line from ldconfig&quot;&quot;&quot;</span>
        <span class="n">lib_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(.*) \((.*)\) =&gt; (.*)$&quot;</span><span class="p">,</span> <span class="n">ldconfig_line</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">lib_match</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Received incorrect value for ldconfig line: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ldconfig_line</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">lib_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">lib_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">lib_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">arch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the architecture for a shared library&quot;&quot;&quot;</span>
        <span class="n">detected_arch</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x86-64&quot;</span><span class="p">,</span> <span class="s2">&quot;x32&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="n">detected_arch</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">flags</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">arch</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_arch</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">basename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of the library without an extention&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.so&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dirname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the directory where the lib resides&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.SharedLibrary.arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">arch</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.SharedLibrary.arch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the architecture for a shared library</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.SharedLibrary.basename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">basename</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.SharedLibrary.basename" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the name of the library without an extention</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.SharedLibrary.default_arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default_arch</span></code>


<a href="#lutris.util.linux.SharedLibrary.default_arch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.linux.SharedLibrary.dirname" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dirname</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.linux.SharedLibrary.dirname" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the directory where the lib resides</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.SharedLibrary.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.linux.SharedLibrary.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="p">[</span><span class="n">flag</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">flag</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.SharedLibrary.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.linux.SharedLibrary.__str__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> (</span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">arch</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.linux.SharedLibrary.new_from_ldconfig" class="doc doc-heading">
<code class="highlight language-python"><span class="n">new_from_ldconfig</span><span class="p">(</span><span class="n">ldconfig_line</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.util.linux.SharedLibrary.new_from_ldconfig" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a SharedLibrary instance from an output line from ldconfig</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">new_from_ldconfig</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ldconfig_line</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a SharedLibrary instance from an output line from ldconfig&quot;&quot;&quot;</span>
    <span class="n">lib_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(.*) \((.*)\) =&gt; (.*)$&quot;</span><span class="p">,</span> <span class="n">ldconfig_line</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">lib_match</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Received incorrect value for ldconfig line: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ldconfig_line</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">lib_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">lib_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">lib_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.util.linux.gather_system_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">gather_system_info</span><span class="p">()</span></code>


<a href="#lutris.util.linux.gather_system_info" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get all system information in a single data structure</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">gather_system_info</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Get all system information in a single data structure&quot;&quot;&quot;</span>
    <span class="n">system_info</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">drivers</span><span class="o">.</span><span class="n">is_nvidia</span><span class="p">():</span>
        <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;nvidia_driver&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">drivers</span><span class="o">.</span><span class="n">get_nvidia_driver_info</span><span class="p">()</span>
        <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;nvidia_gpus&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">drivers</span><span class="o">.</span><span class="n">get_nvidia_gpu_info</span><span class="p">(</span><span class="n">gpu_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">gpu_id</span> <span class="ow">in</span> <span class="n">drivers</span><span class="o">.</span><span class="n">get_nvidia_gpu_ids</span><span class="p">()]</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;gpus&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">drivers</span><span class="o">.</span><span class="n">get_gpu_info</span><span class="p">(</span><span class="n">gpu</span><span class="p">)</span> <span class="k">for</span> <span class="n">gpu</span> <span class="ow">in</span> <span class="n">drivers</span><span class="o">.</span><span class="n">get_gpus</span><span class="p">()]</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">)</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;missing_libs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_missing_libs</span><span class="p">()</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;cpus&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_cpus</span><span class="p">()</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;drives&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_drives</span><span class="p">()</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;ram&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_ram_info</span><span class="p">()</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;dist&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_dist_info</span><span class="p">()</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;arch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;kernel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_kernel_version</span><span class="p">()</span>
    <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">glxinfo</span><span class="o">.</span><span class="n">GlxInfo</span><span class="p">()</span><span class="o">.</span><span class="n">as_dict</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">system_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.linux.gather_system_info_str" class="doc doc-heading">
<code class="highlight language-python"><span class="n">gather_system_info_str</span><span class="p">()</span></code>


<a href="#lutris.util.linux.gather_system_info_str" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get all relevant system information already formatted as a string</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">gather_system_info_str</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Get all relevant system information already formatted as a string&quot;&quot;&quot;</span>
    <span class="n">system_info</span> <span class="o">=</span> <span class="n">gather_system_info</span><span class="p">()</span>
    <span class="n">system_info_readable</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># Add system information</span>
    <span class="n">system_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">system_dict</span><span class="p">[</span><span class="s2">&quot;OS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;dist&quot;</span><span class="p">])</span>
    <span class="n">system_dict</span><span class="p">[</span><span class="s2">&quot;Arch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;arch&quot;</span><span class="p">]</span>
    <span class="n">system_dict</span><span class="p">[</span><span class="s2">&quot;Kernel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;kernel&quot;</span><span class="p">]</span>
    <span class="n">system_dict</span><span class="p">[</span><span class="s2">&quot;Desktop&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;XDG_CURRENT_DESKTOP&quot;</span><span class="p">,</span> <span class="s2">&quot;Not found&quot;</span><span class="p">)</span>
    <span class="n">system_dict</span><span class="p">[</span><span class="s2">&quot;Display Server&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;XDG_SESSION_TYPE&quot;</span><span class="p">,</span> <span class="s2">&quot;Not found&quot;</span><span class="p">)</span>
    <span class="n">system_info_readable</span><span class="p">[</span><span class="s2">&quot;System&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_dict</span>
    <span class="c1"># Add CPU information</span>
    <span class="n">cpu_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">cpu_dict</span><span class="p">[</span><span class="s2">&quot;Vendor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;cpus&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;vendor_id&quot;</span><span class="p">,</span> <span class="s2">&quot;Vendor unavailable&quot;</span><span class="p">)</span>
    <span class="n">cpu_dict</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;cpus&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model name&quot;</span><span class="p">,</span> <span class="s2">&quot;Model unavailable&quot;</span><span class="p">)</span>
    <span class="n">cpu_dict</span><span class="p">[</span><span class="s2">&quot;Physical cores&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;cpus&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cpu cores&quot;</span><span class="p">,</span> <span class="s2">&quot;Physical cores unavailable&quot;</span><span class="p">)</span>
    <span class="n">cpu_dict</span><span class="p">[</span><span class="s2">&quot;Logical cores&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;cpus&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;siblings&quot;</span><span class="p">,</span> <span class="s2">&quot;Logical cores unavailable&quot;</span><span class="p">)</span>
    <span class="n">system_info_readable</span><span class="p">[</span><span class="s2">&quot;CPU&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cpu_dict</span>
    <span class="c1"># Add memory information</span>
    <span class="n">ram_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">ram_dict</span><span class="p">[</span><span class="s2">&quot;RAM&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%0.1f</span><span class="s2"> GB&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;ram&quot;</span><span class="p">][</span><span class="s2">&quot;MemTotal&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="mi">1024</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">)</span>
    <span class="n">ram_dict</span><span class="p">[</span><span class="s2">&quot;Swap&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%0.1f</span><span class="s2"> GB&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;ram&quot;</span><span class="p">][</span><span class="s2">&quot;SwapTotal&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="mi">1024</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">)</span>
    <span class="n">system_info_readable</span><span class="p">[</span><span class="s2">&quot;Memory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ram_dict</span>
    <span class="c1"># Add graphics information</span>
    <span class="n">graphics_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">glxinfo</span><span class="p">:</span>
        <span class="n">graphics_dict</span><span class="p">[</span><span class="s2">&quot;Vendor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;opengl_vendor&quot;</span><span class="p">,</span> <span class="s2">&quot;Vendor unavailable&quot;</span><span class="p">)</span>
        <span class="n">graphics_dict</span><span class="p">[</span><span class="s2">&quot;OpenGL Renderer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;opengl_renderer&quot;</span><span class="p">,</span> <span class="s2">&quot;OpenGL Renderer unavailable&quot;</span><span class="p">)</span>
        <span class="n">graphics_dict</span><span class="p">[</span><span class="s2">&quot;OpenGL Version&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;opengl_version&quot;</span><span class="p">,</span> <span class="s2">&quot;OpenGL Version unavailable&quot;</span><span class="p">)</span>
        <span class="n">graphics_dict</span><span class="p">[</span><span class="s2">&quot;OpenGL Core&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;opengl_core_profile_version&quot;</span><span class="p">,</span> <span class="s2">&quot;OpenGL core unavailable&quot;</span>
        <span class="p">)</span>
        <span class="n">graphics_dict</span><span class="p">[</span><span class="s2">&quot;OpenGL ES&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">system_info</span><span class="p">[</span><span class="s2">&quot;glxinfo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;opengl_es_profile_version&quot;</span><span class="p">,</span> <span class="s2">&quot;OpenGL ES unavailable&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">graphics_dict</span><span class="p">[</span><span class="s2">&quot;Vendor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Unable to obtain glxinfo&quot;</span>
    <span class="c1"># check Vulkan support</span>
    <span class="k">if</span> <span class="n">vkquery</span><span class="o">.</span><span class="n">is_vulkan_supported</span><span class="p">():</span>
        <span class="n">graphics_dict</span><span class="p">[</span><span class="s2">&quot;Vulkan&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Supported&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">graphics_dict</span><span class="p">[</span><span class="s2">&quot;Vulkan&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Not Supported&quot;</span>
    <span class="n">system_info_readable</span><span class="p">[</span><span class="s2">&quot;Graphics&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">graphics_dict</span>

    <span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">section</span><span class="p">,</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">system_info_readable</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">output</span> <span class="o">+=</span> <span class="s1">&#39;[</span><span class="si">%s</span><span class="s1">]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">section</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">tabs</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="mi">16</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
            <span class="n">output</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">:</span><span class="si">%s%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">tabs</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">return</span> <span class="n">output</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.linux.get_default_terminal" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_terminal</span><span class="p">()</span></code>


<a href="#lutris.util.linux.get_default_terminal" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the default terminal emulator</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_default_terminal</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the default terminal emulator&quot;&quot;&quot;</span>
    <span class="n">terms</span> <span class="o">=</span> <span class="n">get_terminal_apps</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">terms</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">terms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t find a terminal emulator.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.linux.get_terminal_apps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_terminal_apps</span><span class="p">()</span></code>


<a href="#lutris.util.linux.get_terminal_apps" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the list of installed terminal emulators</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/linux.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_terminal_apps</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of installed terminal emulators&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">get_terminals</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.log" class="doc doc-heading">
        <code>log</code>



<a href="#lutris.util.log" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Utility module for creating an application wide logger.</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.CACHE_DIR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">CACHE_DIR</span></code>


<a href="#lutris.util.log.CACHE_DIR" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.DEBUG_FORMATTER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEBUG_FORMATTER</span></code>


<a href="#lutris.util.log.DEBUG_FORMATTER" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.FILE_FORMATTER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">FILE_FORMATTER</span></code>


<a href="#lutris.util.log.FILE_FORMATTER" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.LOG_BUFFERS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">LOG_BUFFERS</span></code>


<a href="#lutris.util.log.LOG_BUFFERS" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.LOG_FILENAME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">LOG_FILENAME</span></code>


<a href="#lutris.util.log.LOG_FILENAME" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.SIMPLE_FORMATTER" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SIMPLE_FORMATTER</span></code>


<a href="#lutris.util.log.SIMPLE_FORMATTER" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.console_handler" class="doc doc-heading">
<code class="highlight language-python"><span class="n">console_handler</span></code>


<a href="#lutris.util.log.console_handler" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.logger" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logger</span></code>


<a href="#lutris.util.log.logger" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.log.loghandler" class="doc doc-heading">
<code class="highlight language-python"><span class="n">loghandler</span></code>


<a href="#lutris.util.log.loghandler" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.magic" class="doc doc-heading">
        <code>magic</code>



<a href="#lutris.util.magic" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>magic is a wrapper around the libmagic file identification library.</p>
<p>See <a href="https://github.com/ahupp/python-magic">https://github.com/ahupp/python-magic</a> for more information.</p>
<p>Usage:</p>
<blockquote>
<blockquote>
<blockquote>
<p>import magic
magic.from_file("testdata/test.pdf")
'PDF document, version 1.2'
magic.from_file("testdata/test.pdf", mime=True)
'application/pdf'
magic.from_buffer(open("testdata/test.pdf").read(1024))
'PDF document, version 1.2'
</p>
</blockquote>
</blockquote>
</blockquote>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_CHECK" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_CHECK</span></code>


<a href="#lutris.util.magic.MAGIC_CHECK" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_COMPRESS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_COMPRESS</span></code>


<a href="#lutris.util.magic.MAGIC_COMPRESS" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_CONTINUE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_CONTINUE</span></code>


<a href="#lutris.util.magic.MAGIC_CONTINUE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_DEBUG" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_DEBUG</span></code>


<a href="#lutris.util.magic.MAGIC_DEBUG" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_DEVICES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_DEVICES</span></code>


<a href="#lutris.util.magic.MAGIC_DEVICES" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_ERROR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_ERROR</span></code>


<a href="#lutris.util.magic.MAGIC_ERROR" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_EXTENSION" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_EXTENSION</span></code>


<a href="#lutris.util.magic.MAGIC_EXTENSION" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_MIME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_MIME</span></code>


<a href="#lutris.util.magic.MAGIC_MIME" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_MIME_ENCODING" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_MIME_ENCODING</span></code>


<a href="#lutris.util.magic.MAGIC_MIME_ENCODING" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_MIME_TYPE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_MIME_TYPE</span></code>


<a href="#lutris.util.magic.MAGIC_MIME_TYPE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NONE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NONE</span></code>


<a href="#lutris.util.magic.MAGIC_NONE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_APPTYPE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_APPTYPE</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_APPTYPE" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_ASCII" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_ASCII</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_ASCII" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_COMPRESS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_COMPRESS</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_COMPRESS" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_ELF" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_ELF</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_ELF" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_FORTRAN" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_FORTRAN</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_FORTRAN" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_SOFT" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_SOFT</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_SOFT" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_TAR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_TAR</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_TAR" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_TOKENS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_TOKENS</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_TOKENS" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_NO_CHECK_TROFF" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_NO_CHECK_TROFF</span></code>


<a href="#lutris.util.magic.MAGIC_NO_CHECK_TROFF" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_PARAM_BYTES_MAX" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_PARAM_BYTES_MAX</span></code>


<a href="#lutris.util.magic.MAGIC_PARAM_BYTES_MAX" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_PARAM_ELF_NOTES_MAX" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_PARAM_ELF_NOTES_MAX</span></code>


<a href="#lutris.util.magic.MAGIC_PARAM_ELF_NOTES_MAX" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_PARAM_ELF_PHNUM_MAX" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_PARAM_ELF_PHNUM_MAX</span></code>


<a href="#lutris.util.magic.MAGIC_PARAM_ELF_PHNUM_MAX" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_PARAM_ELF_SHNUM_MAX" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_PARAM_ELF_SHNUM_MAX</span></code>


<a href="#lutris.util.magic.MAGIC_PARAM_ELF_SHNUM_MAX" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_PARAM_INDIR_MAX" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_PARAM_INDIR_MAX</span></code>


<a href="#lutris.util.magic.MAGIC_PARAM_INDIR_MAX" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_PARAM_NAME_MAX" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_PARAM_NAME_MAX</span></code>


<a href="#lutris.util.magic.MAGIC_PARAM_NAME_MAX" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_PARAM_REGEX_MAX" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_PARAM_REGEX_MAX</span></code>


<a href="#lutris.util.magic.MAGIC_PARAM_REGEX_MAX" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_PRESERVE_ATIME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_PRESERVE_ATIME</span></code>


<a href="#lutris.util.magic.MAGIC_PRESERVE_ATIME" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_RAW" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_RAW</span></code>


<a href="#lutris.util.magic.MAGIC_RAW" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.MAGIC_SYMLINK" class="doc doc-heading">
<code class="highlight language-python"><span class="n">MAGIC_SYMLINK</span></code>


<a href="#lutris.util.magic.MAGIC_SYMLINK" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dll</span></code>


<a href="#lutris.util.magic.dll" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.libmagic" class="doc doc-heading">
<code class="highlight language-python"><span class="n">libmagic</span></code>


<a href="#lutris.util.magic.libmagic" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_check" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_check</span></code>


<a href="#lutris.util.magic.magic_check" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_close" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_close</span></code>


<a href="#lutris.util.magic.magic_close" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_compile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_compile</span></code>


<a href="#lutris.util.magic.magic_compile" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_errno" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_errno</span></code>


<a href="#lutris.util.magic.magic_errno" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_error" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_error</span></code>


<a href="#lutris.util.magic.magic_error" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_open" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_open</span></code>


<a href="#lutris.util.magic.magic_open" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_setflags" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_setflags</span></code>


<a href="#lutris.util.magic.magic_setflags" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_t" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_t</span></code>


<a href="#lutris.util.magic.magic_t" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.magic.magic_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_version</span></code>


<a href="#lutris.util.magic.magic_version" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.util.magic.Magic" class="doc doc-heading">
        <code>
Magic        </code>



<a href="#lutris.util.magic.Magic" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Magic is a wrapper around the libmagic C library.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Magic</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Magic is a wrapper around the libmagic C library.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">magic_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mime_encoding</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># pylint: disable=redefined-outer-name</span>
                 <span class="n">keep_going</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">uncompress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new libmagic wrapper.</span>

<span class="sd">        mime - if True, mimetypes are returned instead of textual descriptions</span>
<span class="sd">        mime_encoding - if True, codec is returned</span>
<span class="sd">        magic_file - use a mime database other than the system default</span>
<span class="sd">        keep_going - don&#39;t stop at the first match, keep going</span>
<span class="sd">        uncompress - Try to look inside compressed files.</span>
<span class="sd">        raw - Do not try to decode &quot;non-printable&quot; chars.</span>
<span class="sd">        extension - Print a slash-separated list of valid extensions for the file type found.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">MAGIC_NONE</span>
        <span class="k">if</span> <span class="n">mime</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_MIME_TYPE</span>
        <span class="k">if</span> <span class="n">mime_encoding</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_MIME_ENCODING</span>
        <span class="k">if</span> <span class="n">keep_going</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_CONTINUE</span>
        <span class="k">if</span> <span class="n">uncompress</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_COMPRESS</span>
        <span class="k">if</span> <span class="n">raw</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_RAW</span>
        <span class="k">if</span> <span class="n">extension</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_EXTENSION</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="n">magic_open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flags</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

        <span class="n">magic_load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">magic_file</span><span class="p">)</span>

        <span class="c1"># MAGIC_EXTENSION was added in 523 or 524, so bail if</span>
        <span class="c1"># it doesn&#39;t appear to be available</span>
        <span class="k">if</span> <span class="n">extension</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">_has_version</span> <span class="ow">or</span> <span class="n">version</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">524</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;MAGIC_EXTENSION is not supported in this version of libmagic&#39;</span><span class="p">)</span>

        <span class="c1"># For https://github.com/ahupp/python-magic/issues/190</span>
        <span class="c1"># libmagic has fixed internal limits that some files exceed, causing</span>
        <span class="c1"># an error.  We can avoid this (at least for the sample file given)</span>
        <span class="c1"># by bumping the limit up.  It&#39;s not clear if this is a general solution</span>
        <span class="c1"># or whether other internal limits should be increased, but given</span>
        <span class="c1"># the lack of other reports I&#39;ll assume this is rare.</span>
        <span class="k">if</span> <span class="n">_has_param</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setparam</span><span class="p">(</span><span class="n">MAGIC_PARAM_NAME_MAX</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">MagicException</span><span class="p">:</span>
                <span class="c1"># some versions of libmagic fail this call,</span>
                <span class="c1"># so rather than fail hard just use default behavior</span>
                <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">from_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buf</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identify the contents of `buf`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># if we&#39;re on python3, convert buf to bytes</span>
                <span class="c1"># otherwise this string is passed as wchar*</span>
                <span class="c1"># which is not what libmagic expects</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">str</span> <span class="o">!=</span> <span class="nb">bytes</span><span class="p">:</span>
                    <span class="n">buf</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">maybe_decode</span><span class="p">(</span><span class="n">magic_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">buf</span><span class="p">))</span>
            <span class="k">except</span> <span class="n">MagicException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle509Bug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="c1"># raise FileNotFoundException or IOError if the file does not exist</span>
        <span class="k">with</span> <span class="n">_real_open</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">maybe_decode</span><span class="p">(</span><span class="n">magic_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
            <span class="k">except</span> <span class="n">MagicException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle509Bug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">from_descriptor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fd</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">maybe_decode</span><span class="p">(</span><span class="n">magic_descriptor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">fd</span><span class="p">))</span>
            <span class="k">except</span> <span class="n">MagicException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle509Bug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_handle509Bug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="c1"># libmagic 5.09 has a bug where it might fail to identify the</span>
        <span class="c1"># mimetype of a file and returns null from magic_file (and</span>
        <span class="c1"># likely _buffer), but also does not return an error message.</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">message</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">&amp;</span> <span class="n">MAGIC_MIME_TYPE</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;application/octet-stream&quot;</span>
        <span class="k">raise</span> <span class="n">e</span>

    <span class="k">def</span> <span class="nf">setparam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">magic_setparam</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getparam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">magic_getparam</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># no _thread_check here because there can be no other</span>
        <span class="c1"># references to this object at this point.</span>

        <span class="c1"># during shutdown magic_close may have been cleared already so</span>
        <span class="c1"># make sure it exists before using it.</span>

        <span class="c1"># the self.cookie check should be unnecessary and was an</span>
        <span class="c1"># incorrect fix for a threading problem, however I&#39;m leaving</span>
        <span class="c1"># it in because it&#39;s harmless and I&#39;m slightly afraid to</span>
        <span class="c1"># remove it.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="ow">and</span> <span class="n">magic_close</span><span class="p">:</span>
            <span class="n">magic_close</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.magic.Magic.__del__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.magic.Magic.__del__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># no _thread_check here because there can be no other</span>
    <span class="c1"># references to this object at this point.</span>

    <span class="c1"># during shutdown magic_close may have been cleared already so</span>
    <span class="c1"># make sure it exists before using it.</span>

    <span class="c1"># the self.cookie check should be unnecessary and was an</span>
    <span class="c1"># incorrect fix for a threading problem, however I&#39;m leaving</span>
    <span class="c1"># it in because it&#39;s harmless and I&#39;m slightly afraid to</span>
    <span class="c1"># remove it.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="ow">and</span> <span class="n">magic_close</span><span class="p">:</span>
        <span class="n">magic_close</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.magic.Magic.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">magic_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mime_encoding</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keep_going</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">uncompress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.magic.Magic.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a new libmagic wrapper.</p>
<p>mime - if True, mimetypes are returned instead of textual descriptions
mime_encoding - if True, codec is returned
magic_file - use a mime database other than the system default
keep_going - don't stop at the first match, keep going
uncompress - Try to look inside compressed files.
raw - Do not try to decode "non-printable" chars.
extension - Print a slash-separated list of valid extensions for the file type found.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">magic_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mime_encoding</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># pylint: disable=redefined-outer-name</span>
             <span class="n">keep_going</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">uncompress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new libmagic wrapper.</span>

<span class="sd">    mime - if True, mimetypes are returned instead of textual descriptions</span>
<span class="sd">    mime_encoding - if True, codec is returned</span>
<span class="sd">    magic_file - use a mime database other than the system default</span>
<span class="sd">    keep_going - don&#39;t stop at the first match, keep going</span>
<span class="sd">    uncompress - Try to look inside compressed files.</span>
<span class="sd">    raw - Do not try to decode &quot;non-printable&quot; chars.</span>
<span class="sd">    extension - Print a slash-separated list of valid extensions for the file type found.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">MAGIC_NONE</span>
    <span class="k">if</span> <span class="n">mime</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_MIME_TYPE</span>
    <span class="k">if</span> <span class="n">mime_encoding</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_MIME_ENCODING</span>
    <span class="k">if</span> <span class="n">keep_going</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_CONTINUE</span>
    <span class="k">if</span> <span class="n">uncompress</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_COMPRESS</span>
    <span class="k">if</span> <span class="n">raw</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_RAW</span>
    <span class="k">if</span> <span class="n">extension</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">|=</span> <span class="n">MAGIC_EXTENSION</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="n">magic_open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">flags</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

    <span class="n">magic_load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">magic_file</span><span class="p">)</span>

    <span class="c1"># MAGIC_EXTENSION was added in 523 or 524, so bail if</span>
    <span class="c1"># it doesn&#39;t appear to be available</span>
    <span class="k">if</span> <span class="n">extension</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">_has_version</span> <span class="ow">or</span> <span class="n">version</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">524</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;MAGIC_EXTENSION is not supported in this version of libmagic&#39;</span><span class="p">)</span>

    <span class="c1"># For https://github.com/ahupp/python-magic/issues/190</span>
    <span class="c1"># libmagic has fixed internal limits that some files exceed, causing</span>
    <span class="c1"># an error.  We can avoid this (at least for the sample file given)</span>
    <span class="c1"># by bumping the limit up.  It&#39;s not clear if this is a general solution</span>
    <span class="c1"># or whether other internal limits should be increased, but given</span>
    <span class="c1"># the lack of other reports I&#39;ll assume this is rare.</span>
    <span class="k">if</span> <span class="n">_has_param</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setparam</span><span class="p">(</span><span class="n">MAGIC_PARAM_NAME_MAX</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">MagicException</span><span class="p">:</span>
            <span class="c1"># some versions of libmagic fail this call,</span>
            <span class="c1"># so rather than fail hard just use default behavior</span>
            <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.magic.Magic.from_buffer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buf</span><span class="p">)</span></code>


<a href="#lutris.util.magic.Magic.from_buffer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Identify the contents of <code>buf</code></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">from_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buf</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Identify the contents of `buf`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># if we&#39;re on python3, convert buf to bytes</span>
            <span class="c1"># otherwise this string is passed as wchar*</span>
            <span class="c1"># which is not what libmagic expects</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">str</span> <span class="o">!=</span> <span class="nb">bytes</span><span class="p">:</span>
                <span class="n">buf</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">maybe_decode</span><span class="p">(</span><span class="n">magic_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">buf</span><span class="p">))</span>
        <span class="k">except</span> <span class="n">MagicException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle509Bug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.magic.Magic.from_descriptor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_descriptor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fd</span><span class="p">)</span></code>


<a href="#lutris.util.magic.Magic.from_descriptor" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">from_descriptor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fd</span><span class="p">):</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">maybe_decode</span><span class="p">(</span><span class="n">magic_descriptor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">fd</span><span class="p">))</span>
        <span class="k">except</span> <span class="n">MagicException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle509Bug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.magic.Magic.from_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


<a href="#lutris.util.magic.Magic.from_file" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="c1"># raise FileNotFoundException or IOError if the file does not exist</span>
    <span class="k">with</span> <span class="n">_real_open</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">maybe_decode</span><span class="p">(</span><span class="n">magic_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
        <span class="k">except</span> <span class="n">MagicException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle509Bug</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.magic.Magic.getparam" class="doc doc-heading">
<code class="highlight language-python"><span class="n">getparam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span></code>


<a href="#lutris.util.magic.Magic.getparam" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">getparam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">magic_getparam</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.magic.Magic.setparam" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setparam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span></code>


<a href="#lutris.util.magic.Magic.setparam" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setparam</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">magic_setparam</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.magic.MagicException" class="doc doc-heading">
        <code>
MagicException            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.util.magic.MagicException" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MagicException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.magic.MagicException.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.magic.MagicException.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.coerce_filename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">coerce_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>


<a href="#lutris.util.magic.coerce_filename" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">coerce_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="c1"># ctypes will implicitly convert unicode strings to bytes with</span>
    <span class="c1"># .encode(&#39;ascii&#39;).  If you use the filesystem encoding</span>
    <span class="c1"># then you&#39;ll get inconsistent behavior (crashes) depending on the user&#39;s</span>
    <span class="c1"># LANG environment variable</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">filename</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="s1">&#39;surrogateescape&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">filename</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.errorcheck_negative_one" class="doc doc-heading">
<code class="highlight language-python"><span class="n">errorcheck_negative_one</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.util.magic.errorcheck_negative_one" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">errorcheck_negative_one</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">err</span> <span class="o">=</span> <span class="n">magic_error</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">raise</span> <span class="n">MagicException</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.errorcheck_null" class="doc doc-heading">
<code class="highlight language-python"><span class="n">errorcheck_null</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.util.magic.errorcheck_null" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">errorcheck_null</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">err</span> <span class="o">=</span> <span class="n">magic_error</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">raise</span> <span class="n">MagicException</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.from_buffer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_buffer</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.magic.from_buffer" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Accepts a binary string and returns the detected filetype.  Return
value is the mimetype if mime=True, otherwise a human readable
name.</p>
<blockquote>
<blockquote>
<blockquote>
<p>magic.from_buffer(open("testdata/test.pdf").read(1024))
'PDF document, version 1.2'</p>
</blockquote>
</blockquote>
</blockquote>

        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">from_buffer</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Accepts a binary string and returns the detected filetype.  Return</span>
<span class="sd">    value is the mimetype if mime=True, otherwise a human readable</span>
<span class="sd">    name.</span>

<span class="sd">    &gt;&gt;&gt; magic.from_buffer(open(&quot;testdata/test.pdf&quot;).read(1024))</span>
<span class="sd">    &#39;PDF document, version 1.2&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">_get_magic_type</span><span class="p">(</span><span class="n">mime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">from_buffer</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.from_descriptor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_descriptor</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.magic.from_descriptor" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Accepts a file descriptor and returns the detected filetype.  Return
value is the mimetype if mime=True, otherwise a human readable
name.</p>
<blockquote>
<blockquote>
<blockquote>
<p>f = open("testdata/test.pdf")
magic.from_descriptor(f.fileno())
'PDF document, version 1.2'</p>
</blockquote>
</blockquote>
</blockquote>

        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">from_descriptor</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Accepts a file descriptor and returns the detected filetype.  Return</span>
<span class="sd">    value is the mimetype if mime=True, otherwise a human readable</span>
<span class="sd">    name.</span>

<span class="sd">    &gt;&gt;&gt; f = open(&quot;testdata/test.pdf&quot;)</span>
<span class="sd">    &gt;&gt;&gt; magic.from_descriptor(f.fileno())</span>
<span class="sd">    &#39;PDF document, version 1.2&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">_get_magic_type</span><span class="p">(</span><span class="n">mime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">from_descriptor</span><span class="p">(</span><span class="n">fd</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.from_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.magic.from_file" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>"
Accepts a filename and returns the detected filetype.  Return
value is the mimetype if mime=True, otherwise a human readable
name.</p>
<blockquote>
<blockquote>
<blockquote>
<p>magic.from_file("testdata/test.pdf", mime=True)
'application/pdf'</p>
</blockquote>
</blockquote>
</blockquote>

        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">from_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mime</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;&quot;</span>
<span class="sd">    Accepts a filename and returns the detected filetype.  Return</span>
<span class="sd">    value is the mimetype if mime=True, otherwise a human readable</span>
<span class="sd">    name.</span>

<span class="sd">    &gt;&gt;&gt; magic.from_file(&quot;testdata/test.pdf&quot;, mime=True)</span>
<span class="sd">    &#39;application/pdf&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">_get_magic_type</span><span class="p">(</span><span class="n">mime</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.magic_buffer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_buffer</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">buf</span><span class="p">)</span></code>


<a href="#lutris.util.magic.magic_buffer" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">magic_buffer</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">buf</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_magic_buffer</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buf</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.magic_descriptor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_descriptor</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">fd</span><span class="p">)</span></code>


<a href="#lutris.util.magic.magic_descriptor" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">magic_descriptor</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">fd</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_magic_descriptor</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">fd</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.magic_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_file</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


<a href="#lutris.util.magic.magic_file" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">magic_file</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_magic_file</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">coerce_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.magic_getparam" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_getparam</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span></code>


<a href="#lutris.util.magic.magic_getparam" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">magic_getparam</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_has_param</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;magic_getparam not implemented&quot;</span><span class="p">)</span>
    <span class="n">val</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">_magic_getparam</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">val</span><span class="o">.</span><span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.magic_load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_load</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span></code>


<a href="#lutris.util.magic.magic_load" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">magic_load</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_magic_load</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">coerce_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.magic_setparam" class="doc doc-heading">
<code class="highlight language-python"><span class="n">magic_setparam</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span></code>


<a href="#lutris.util.magic.magic_setparam" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">magic_setparam</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_has_param</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;magic_setparam not implemented&quot;</span><span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_magic_setparam</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.maybe_decode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maybe_decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span></code>


<a href="#lutris.util.magic.maybe_decode" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">maybe_decode</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">str</span> <span class="o">==</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="c1"># backslashreplace here because sometimes libmagic will return metadata in the charset</span>
    <span class="c1"># of the file, which is unknown to us (e.g the title of a Word doc)</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="s1">&#39;backslashreplace&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.magic.version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version</span><span class="p">()</span></code>


<a href="#lutris.util.magic.version" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/magic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">version</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_has_version</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;magic_version not implemented&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">magic_version</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.mame" class="doc doc-heading">
        <code>mame</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.mame" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="lutris.util.mame.database" class="doc doc-heading">
        <code>database</code>



<a href="#lutris.util.mame.database" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Utility functions for MAME</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.mame.database.CACHE_DIR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">CACHE_DIR</span></code>


<a href="#lutris.util.mame.database.CACHE_DIR" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h4 id="lutris.util.mame.database.get_games" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_games</span><span class="p">(</span><span class="n">xml_path</span><span class="p">)</span></code>


<a href="#lutris.util.mame.database.get_games" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of all games</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/database.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_games</span><span class="p">(</span><span class="n">xml_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of all games&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]:</span> <span class="n">get_machine_info</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">machine</span> <span class="ow">in</span> <span class="n">iter_machines</span><span class="p">(</span><span class="n">xml_path</span><span class="p">,</span> <span class="n">is_game</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.mame.database.get_machine_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_machine_info</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span></code>


<a href="#lutris.util.mame.database.get_machine_info" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return human readable information about a machine node</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/database.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_machine_info</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return human readable information about a machine node&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">machine</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="s2">&quot;manufacturer&quot;</span><span class="p">:</span> <span class="n">simplify_manufacturer</span><span class="p">(</span><span class="n">machine</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;manufacturer&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">),</span>
        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">machine</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="s2">&quot;roms&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">rom</span><span class="o">.</span><span class="n">attrib</span> <span class="k">for</span> <span class="n">rom</span> <span class="ow">in</span> <span class="n">machine</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;rom&quot;</span><span class="p">)],</span>
        <span class="s2">&quot;ports&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">port</span><span class="o">.</span><span class="n">attrib</span> <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="n">machine</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;port&quot;</span><span class="p">)],</span>
        <span class="s2">&quot;devices&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="n">device</span><span class="o">.</span><span class="n">attrib</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="p">[</span><span class="n">instance</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">device</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;instance&quot;</span><span class="p">)]</span>
                <span class="p">),</span>
                <span class="s2">&quot;briefname&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">instance</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;briefname&quot;</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">device</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;instance&quot;</span><span class="p">)</span>
                    <span class="p">]</span>
                <span class="p">),</span>
                <span class="s2">&quot;extensions&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="n">extension</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">extension</span> <span class="ow">in</span> <span class="n">device</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;extension&quot;</span><span class="p">)</span>
                <span class="p">],</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">machine</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;device&quot;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="n">machine</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">attrib</span><span class="p">,</span>
        <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="n">machine</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;driver&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">attrib</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.mame.database.get_supported_systems" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_supported_systems</span><span class="p">(</span><span class="n">xml_path</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.mame.database.get_supported_systems" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return supported systems (computers and consoles) supported.
From the full XML list extracted from MAME, filter the systems that are
runnable, not clones and have the ability to run software.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/database.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_supported_systems</span><span class="p">(</span><span class="n">xml_path</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return supported systems (computers and consoles) supported.</span>
<span class="sd">    From the full XML list extracted from MAME, filter the systems that are</span>
<span class="sd">    runnable, not clones and have the ability to run software.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">systems_cache_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;systems.json&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">systems_cache_path</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">systems_cache_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">systems_cache_file</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">systems</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">systems_cache_file</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to read systems cache </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">systems_cache_path</span><span class="p">)</span>
                <span class="n">systems</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">systems</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">systems</span>
    <span class="n">systems</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]:</span> <span class="n">get_machine_info</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">machine</span> <span class="ow">in</span> <span class="n">iter_machines</span><span class="p">(</span><span class="n">xml_path</span><span class="p">,</span> <span class="n">is_system</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">systems</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">systems_cache_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">systems_cache_file</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">systems</span><span class="p">,</span> <span class="n">systems_cache_file</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">systems</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.mame.database.has_software_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_software_list</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span></code>


<a href="#lutris.util.mame.database.has_software_list" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return True if the machine has an associated software list</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/database.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">has_software_list</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return True if the machine has an associated software list&quot;&quot;&quot;</span>
    <span class="n">_has_software_list</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">machine</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">elem</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="s2">&quot;device_ref&quot;</span> <span class="ow">and</span> <span class="n">elem</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;software_list&quot;</span><span class="p">:</span>
            <span class="n">_has_software_list</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">_has_software_list</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.mame.database.is_game" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_game</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span></code>


<a href="#lutris.util.mame.database.is_game" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return True if the given machine game is an original arcade game
Clones return False</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/database.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_game</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return True if the given machine game is an original arcade game</span>
<span class="sd">    Clones return False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;isbios&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;no&quot;</span>
        <span class="ow">and</span> <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;isdevice&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;no&quot;</span>
        <span class="ow">and</span> <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;runnable&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span>
        <span class="ow">and</span> <span class="s2">&quot;romof&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span>
        <span class="c1"># FIXME: Filter by the machines that accept coins, but not like that</span>
        <span class="c1"># and &quot;coin&quot; in machine.find(&quot;input&quot;).attrib</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.mame.database.is_system" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_system</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span></code>


<a href="#lutris.util.mame.database.is_system" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Given a machine XML tag, return True if it is a computer, console or
handheld.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/database.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_system</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Given a machine XML tag, return True if it is a computer, console or</span>
<span class="sd">    handheld.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;runnable&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;no&quot;</span>
        <span class="ow">or</span> <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isdevice&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span>
        <span class="ow">or</span> <span class="n">machine</span><span class="o">.</span><span class="n">attrib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isbios&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">has_software_list</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.mame.database.iter_machines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">iter_machines</span><span class="p">(</span><span class="n">xml_path</span><span class="p">,</span> <span class="n">filter_func</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.mame.database.iter_machines" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Iterate through machine nodes in the MAME XML</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/database.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">iter_machines</span><span class="p">(</span><span class="n">xml_path</span><span class="p">,</span> <span class="n">filter_func</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Iterate through machine nodes in the MAME XML&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">xml_path</span><span class="p">)</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to read MAME XML: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">machine</span> <span class="ow">in</span> <span class="n">root</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filter_func</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">filter_func</span><span class="p">(</span><span class="n">machine</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">yield</span> <span class="n">machine</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.mame.database.simplify_manufacturer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">simplify_manufacturer</span><span class="p">(</span><span class="n">manufacturer</span><span class="p">)</span></code>


<a href="#lutris.util.mame.database.simplify_manufacturer" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Give simplified names for some manufacturers</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/database.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">simplify_manufacturer</span><span class="p">(</span><span class="n">manufacturer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Give simplified names for some manufacturers&quot;&quot;&quot;</span>
    <span class="n">manufacturer_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Amstrad plc&quot;</span><span class="p">:</span> <span class="s2">&quot;Amstrad&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Apple Computer&quot;</span><span class="p">:</span> <span class="s2">&quot;Apple&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Commodore Business Machines&quot;</span><span class="p">:</span> <span class="s2">&quot;Commodore&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">manufacturer_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">manufacturer</span><span class="p">,</span> <span class="n">manufacturer</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.mame.ini" class="doc doc-heading">
        <code>ini</code>



<a href="#lutris.util.mame.ini" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Manipulate MAME ini files</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.mame.ini.MameIni" class="doc doc-heading">
        <code>
MameIni        </code>



<a href="#lutris.util.mame.ini.MameIni" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Looks like an ini file and yet it is not one!</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/ini.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MameIni</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Looks like an ini file and yet it is not one!&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ini_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">ini_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;File </span><span class="si">%s</span><span class="s2"> does not exist&quot;</span> <span class="o">%</span> <span class="n">ini_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ini_path</span> <span class="o">=</span> <span class="n">ini_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Store configuration value from a line&quot;&quot;&quot;</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="n">key</span><span class="p">,</span> <span class="o">*</span><span class="n">_value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Reads the content of the ini file&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ini_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ini_file</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">ini_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="n">config_key</span><span class="p">,</span> <span class="n">config_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">config_key</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">config_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">config_value</span>

    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Writes the file to disk&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ini_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ini_file</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">:</span>
                <span class="n">config_key</span><span class="p">,</span> <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">config_key</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">config_key</span><span class="p">]:</span>
                    <span class="n">ini_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-26s%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">config_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">config_key</span><span class="p">]))</span>
                <span class="k">elif</span> <span class="n">config_key</span><span class="p">:</span>
                    <span class="n">ini_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">config_key</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ini_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.mame.ini.MameIni.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ini_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.mame.ini.MameIni.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/ini.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ini_path</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">ini_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;File </span><span class="si">%s</span><span class="s2"> does not exist&quot;</span> <span class="o">%</span> <span class="n">ini_path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ini_path</span> <span class="o">=</span> <span class="n">ini_path</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.mame.ini.MameIni.parse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span></code>


<a href="#lutris.util.mame.ini.MameIni.parse" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Store configuration value from a line</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/ini.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Store configuration value from a line&quot;&quot;&quot;</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">key</span><span class="p">,</span> <span class="o">*</span><span class="n">_value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_value</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="n">_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">key</span><span class="p">,</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.mame.ini.MameIni.read" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.mame.ini.MameIni.read" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Reads the content of the ini file</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/ini.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Reads the content of the ini file&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ini_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ini_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">ini_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">config_key</span><span class="p">,</span> <span class="n">config_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">config_key</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">config_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">config_value</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.mame.ini.MameIni.write" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.mame.ini.MameIni.write" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Writes the file to disk</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/mame/ini.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Writes the file to disk&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ini_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ini_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">:</span>
            <span class="n">config_key</span><span class="p">,</span> <span class="n">_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">config_key</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">config_key</span><span class="p">]:</span>
                <span class="n">ini_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-26s%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">config_key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">config_key</span><span class="p">]))</span>
            <span class="k">elif</span> <span class="n">config_key</span><span class="p">:</span>
                <span class="n">ini_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">config_key</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ini_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.nvidia" class="doc doc-heading">
        <code>nvidia</code>



<a href="#lutris.util.nvidia" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Nvidia library detection from Proton</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.nvidia.RTLD_DI_LINKMAP" class="doc doc-heading">
<code class="highlight language-python"><span class="n">RTLD_DI_LINKMAP</span></code>


<a href="#lutris.util.nvidia.RTLD_DI_LINKMAP" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.util.nvidia.LinkMap" class="doc doc-heading">
        <code>
LinkMap            (<span title="_ctypes.Structure">Structure</span>)
        </code>



<a href="#lutris.util.nvidia.LinkMap" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>from dlinfo(3)</p>
<p>struct link_map {
    ElfW(Addr) l_addr;  /<em> Difference between the
                           address in the ELF file and
                           the address in memory </em>/
    char      <em>l_name;  /</em> Absolute pathname where
                           object was found <em>/
    ElfW(Dyn) </em>l_ld;    /<em> Dynamic section of the
                           shared object </em>/
    struct link_map <em>l_next, </em>l_prev;
                        /<em> Chain of loaded objects </em>/
    /<em> Plus additional fields private to the implementation </em>/
};</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/nvidia.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LinkMap</span><span class="p">(</span><span class="n">Structure</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    from dlinfo(3)</span>

<span class="sd">    struct link_map {</span>
<span class="sd">        ElfW(Addr) l_addr;  /* Difference between the</span>
<span class="sd">                               address in the ELF file and</span>
<span class="sd">                               the address in memory */</span>
<span class="sd">        char      *l_name;  /* Absolute pathname where</span>
<span class="sd">                               object was found */</span>
<span class="sd">        ElfW(Dyn) *l_ld;    /* Dynamic section of the</span>
<span class="sd">                               shared object */</span>
<span class="sd">        struct link_map *l_next, *l_prev;</span>
<span class="sd">                            /* Chain of loaded objects */</span>
<span class="sd">        /* Plus additional fields private to the implementation */</span>
<span class="sd">    };</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;l_addr&quot;</span><span class="p">,</span> <span class="n">c_void_p</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;l_name&quot;</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;l_ld&quot;</span><span class="p">,</span> <span class="n">c_void_p</span><span class="p">)]</span>
</code></pre></div>
        </details>


    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="lutris.util.nvidia.get_nvidia_dll_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_nvidia_dll_path</span><span class="p">()</span></code>


<a href="#lutris.util.nvidia.get_nvidia_dll_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the path to the location of DLL files for use by Wine/Proton
from the NVIDIA Linux driver.
See <a href="https://gitlab.steamos.cloud/steamrt/steam-runtime-tools/-/issues/71">https://gitlab.steamos.cloud/steamrt/steam-runtime-tools/-/issues/71</a> for
background on the chosen method of DLL discovery.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/nvidia.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_nvidia_dll_path</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the path to the location of DLL files for use by Wine/Proton</span>
<span class="sd">    from the NVIDIA Linux driver.</span>
<span class="sd">    See https://gitlab.steamos.cloud/steamrt/steam-runtime-tools/-/issues/71 for</span>
<span class="sd">    background on the chosen method of DLL discovery.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">libglx_path</span> <span class="o">=</span> <span class="n">get_nvidia_glx_path</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">libglx_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to locate libGLX_nvidia&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">nvidia_wine_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">libglx_path</span><span class="p">),</span> <span class="s2">&quot;nvidia/wine&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nvidia_wine_dir</span><span class="p">,</span> <span class="s2">&quot;nvngx.dll&quot;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">nvidia_wine_dir</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.nvidia.get_nvidia_glx_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_nvidia_glx_path</span><span class="p">()</span></code>


<a href="#lutris.util.nvidia.get_nvidia_glx_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the absolute path to the libGLX_nvidia library</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/nvidia.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_nvidia_glx_path</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the absolute path to the libGLX_nvidia library&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">libdl</span> <span class="o">=</span> <span class="n">CDLL</span><span class="p">(</span><span class="s2">&quot;libdl.so.2&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to load libdl.so.2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">libglx_nvidia</span> <span class="o">=</span> <span class="n">CDLL</span><span class="p">(</span><span class="s2">&quot;libGLX_nvidia.so.0&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to load libGLX_nvidia.so.0&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># from dlinfo(3)</span>
    <span class="c1">#</span>
    <span class="c1"># int dlinfo (void *restrict handle, int request, void *restrict info)</span>
    <span class="n">dlinfo_func</span> <span class="o">=</span> <span class="n">libdl</span><span class="o">.</span><span class="n">dlinfo</span>
    <span class="n">dlinfo_func</span><span class="o">.</span><span class="n">argtypes</span> <span class="o">=</span> <span class="n">c_void_p</span><span class="p">,</span> <span class="n">c_int</span><span class="p">,</span> <span class="n">c_void_p</span>
    <span class="n">dlinfo_func</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">c_int</span>

    <span class="c1"># Allocate a LinkMap object</span>
    <span class="n">glx_nvidia_info_ptr</span> <span class="o">=</span> <span class="n">POINTER</span><span class="p">(</span><span class="n">LinkMap</span><span class="p">)()</span>

    <span class="c1"># Run dlinfo(3) on the handle to libGLX_nvidia.so.0, storing results at the</span>
    <span class="c1"># address represented by glx_nvidia_info_ptr</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">dlinfo_func</span><span class="p">(</span>
            <span class="n">libglx_nvidia</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">RTLD_DI_LINKMAP</span><span class="p">,</span> <span class="n">addressof</span><span class="p">(</span><span class="n">glx_nvidia_info_ptr</span><span class="p">)</span>
        <span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span>
    <span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to read Nvidia information&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># Grab the contents our of our pointer</span>
    <span class="n">glx_nvidia_info</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">glx_nvidia_info_ptr</span><span class="p">,</span> <span class="n">POINTER</span><span class="p">(</span><span class="n">LinkMap</span><span class="p">))</span><span class="o">.</span><span class="n">contents</span>

    <span class="c1"># Decode the path to our library to a str()</span>
    <span class="k">if</span> <span class="n">glx_nvidia_info</span><span class="o">.</span><span class="n">l_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error reading the Nvidia library path&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">libglx_nvidia_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fsdecode</span><span class="p">(</span><span class="n">glx_nvidia_info</span><span class="o">.</span><span class="n">l_name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error decoding the Nvidia library path: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># Follow any symlinks to the actual file</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">libglx_nvidia_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.process" class="doc doc-heading">
        <code>process</code>



<a href="#lutris.util.process" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Class to manipulate a process</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.process.IGNORED_PROCESSES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">IGNORED_PROCESSES</span></code>


<a href="#lutris.util.process.IGNORED_PROCESSES" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.util.process.InvalidPid" class="doc doc-heading">
        <code>
InvalidPid            (<span title="Exception">Exception</span>)
        </code>



<a href="#lutris.util.process.InvalidPid" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Exception raised when an operation on a non-existent PID is called</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">InvalidPid</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Exception raised when an operation on a non-existent PID is called&quot;&quot;&quot;</span>
</code></pre></div>
        </details>


    </div>

  </div>



  <div class="doc doc-object doc-class">



<h3 id="lutris.util.process.Process" class="doc doc-heading">
        <code>
Process        </code>



<a href="#lutris.util.process.Process" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Python abstraction a Linux process</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Process</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Python abstraction a Linux process&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_cache</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidPid</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; is not a valid pid&quot;</span> <span class="o">%</span> <span class="n">pid</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Process </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> (</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_read_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the contents from a file in /proc&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">proc_file</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">proc_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ProcessLookupError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="ne">PermissionError</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="n">content</span>

    <span class="k">def</span> <span class="nf">get_stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parsed</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">stat_filename</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">{}</span><span class="s2">/stat&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">stat_filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stat_file</span><span class="p">:</span>
                <span class="n">_stat</span> <span class="o">=</span> <span class="n">stat_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ProcessLookupError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">parsed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_stat</span><span class="p">[</span><span class="n">_stat</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">_stat</span>

    <span class="k">def</span> <span class="nf">get_thread_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of thread ids opened by process.&quot;&quot;&quot;</span>
        <span class="n">basedir</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">{}</span><span class="s2">/task/&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">basedir</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">basedir</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">get_children_pids_of_thread</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return pids of child processes opened by thread `tid` of process.&quot;&quot;&quot;</span>
        <span class="n">children_path</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">{}</span><span class="s2">/task/</span><span class="si">{}</span><span class="s2">/children&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">tid</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">children_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">children_file</span><span class="p">:</span>
                <span class="n">children_content</span> <span class="o">=</span> <span class="n">children_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="ne">ProcessLookupError</span><span class="p">):</span>
            <span class="n">children_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="n">children_content</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Filename of the executable.&quot;&quot;&quot;</span>
        <span class="n">_stat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_stat</span><span class="p">(</span><span class="n">parsed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_stat</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_stat</span><span class="p">[</span><span class="n">_stat</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="n">_stat</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)]</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;One character from the string &quot;RSDZTW&quot; where R is running, S is</span>
<span class="sd">        sleeping in an interruptible wait, D is waiting in uninterruptible disk</span>
<span class="sd">        sleep, Z is zombie, T is traced or stopped (on a signal), and W is</span>
<span class="sd">        paging.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_stat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_stat</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">_stat</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_stat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cmdline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return command line used to run the process `pid`.&quot;&quot;&quot;</span>
        <span class="n">cmdline_path</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">{}</span><span class="s2">/cmdline&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
        <span class="n">_cmdline_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_content</span><span class="p">(</span><span class="n">cmdline_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_cmdline_content</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_cmdline_content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cwd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return current working dir of process&quot;&quot;&quot;</span>
        <span class="n">cwd_path</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">%d</span><span class="s2">/cwd&quot;</span> <span class="o">%</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">readlink</span><span class="p">(</span><span class="n">cwd_path</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">environ</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the process&#39; environment variables&quot;&quot;&quot;</span>
        <span class="n">environ_path</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">{}</span><span class="s2">/environ&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
        <span class="n">_environ_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_content</span><span class="p">(</span><span class="n">environ_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_environ_text</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">([</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">_environ_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">line</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">environ_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_cache</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to parse environment variables: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">_environ_text</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">error_cache</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">environ_path</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the child processes of this process&quot;&quot;&quot;</span>
        <span class="n">_children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">tid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_thread_ids</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">child_pid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_children_pids_of_thread</span><span class="p">(</span><span class="n">tid</span><span class="p">):</span>
                <span class="n">_children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Process</span><span class="p">(</span><span class="n">child_pid</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_children</span>

    <span class="k">def</span> <span class="nf">iter_children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Iterator that yields all the children of a process&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">child</span>
            <span class="k">yield from</span> <span class="n">child</span><span class="o">.</span><span class="n">iter_children</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">wait_for_finish</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Waits until the process finishes</span>
<span class="sd">        This only works if self.pid is a child process of Lutris</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">pid</span><span class="p">,</span> <span class="n">ret_status</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">waitpid</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get exit status for PID </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;PID </span><span class="si">%s</span><span class="s2"> exited with code </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ret_status</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret_status</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.process.Process.children" class="doc doc-heading">
<code class="highlight language-python"><span class="n">children</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.process.Process.children" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the child processes of this process</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.process.Process.cmdline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cmdline</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.process.Process.cmdline" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return command line used to run the process <code>pid</code>.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.process.Process.cwd" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cwd</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.process.Process.cwd" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return current working dir of process</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.process.Process.environ" class="doc doc-heading">
<code class="highlight language-python"><span class="n">environ</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.process.Process.environ" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the process' environment variables</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.process.Process.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.process.Process.name" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Filename of the executable.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.process.Process.state" class="doc doc-heading">
<code class="highlight language-python"><span class="n">state</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.process.Process.state" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>One character from the string "RSDZTW" where R is running, S is
sleeping in an interruptible wait, D is waiting in uninterruptible disk
sleep, Z is zombie, T is traced or stopped (on a signal), and W is
paging.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process.Process.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.process.Process.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error_cache</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidPid</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; is not a valid pid&quot;</span> <span class="o">%</span> <span class="n">pid</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process.Process.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.process.Process.__repr__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Process </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process.Process.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.process.Process.__str__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> (</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process.Process.get_children_pids_of_thread" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_children_pids_of_thread</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tid</span><span class="p">)</span></code>


<a href="#lutris.util.process.Process.get_children_pids_of_thread" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return pids of child processes opened by thread <code>tid</code> of process.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_children_pids_of_thread</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return pids of child processes opened by thread `tid` of process.&quot;&quot;&quot;</span>
    <span class="n">children_path</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">{}</span><span class="s2">/task/</span><span class="si">{}</span><span class="s2">/children&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">,</span> <span class="n">tid</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">children_path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">children_file</span><span class="p">:</span>
            <span class="n">children_content</span> <span class="o">=</span> <span class="n">children_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="ne">ProcessLookupError</span><span class="p">):</span>
        <span class="n">children_content</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="n">children_content</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process.Process.get_stat" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parsed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#lutris.util.process.Process.get_stat" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parsed</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">stat_filename</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">{}</span><span class="s2">/stat&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">stat_filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stat_file</span><span class="p">:</span>
            <span class="n">_stat</span> <span class="o">=</span> <span class="n">stat_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ProcessLookupError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">parsed</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_stat</span><span class="p">[</span><span class="n">_stat</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">_stat</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process.Process.get_thread_ids" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_thread_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.process.Process.get_thread_ids" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a list of thread ids opened by process.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_thread_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a list of thread ids opened by process.&quot;&quot;&quot;</span>
    <span class="n">basedir</span> <span class="o">=</span> <span class="s2">&quot;/proc/</span><span class="si">{}</span><span class="s2">/task/&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">basedir</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">basedir</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process.Process.iter_children" class="doc doc-heading">
<code class="highlight language-python"><span class="n">iter_children</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.process.Process.iter_children" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Iterator that yields all the children of a process</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">iter_children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Iterator that yields all the children of a process&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">child</span>
        <span class="k">yield from</span> <span class="n">child</span><span class="o">.</span><span class="n">iter_children</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process.Process.wait_for_finish" class="doc doc-heading">
<code class="highlight language-python"><span class="n">wait_for_finish</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.process.Process.wait_for_finish" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Waits until the process finishes
This only works if self.pid is a child process of Lutris</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wait_for_finish</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Waits until the process finishes</span>
<span class="sd">    This only works if self.pid is a child process of Lutris</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pid</span><span class="p">,</span> <span class="n">ret_status</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">waitpid</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to get exit status for PID </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;PID </span><span class="si">%s</span><span class="s2"> exited with code </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">ret_status</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret_status</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.process_watcher" class="doc doc-heading">
        <code>process_watcher</code>



<a href="#lutris.util.process_watcher" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Process management</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.process_watcher.SYSTEM_PROCESSES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">SYSTEM_PROCESSES</span></code>


<a href="#lutris.util.process_watcher.SYSTEM_PROCESSES" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h3 id="lutris.util.process_watcher.ProcessWatcher" class="doc doc-heading">
        <code>
ProcessWatcher        </code>



<a href="#lutris.util.process_watcher.ProcessWatcher" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Keeps track of child processes of the client</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process_watcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ProcessWatcher</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Keeps track of child processes of the client&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_processes</span><span class="p">,</span> <span class="n">exclude_processes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a process watcher.</span>
<span class="sd">        Params:</span>
<span class="sd">            exclude_processes (str or list): list of processes that shouldn&#39;t be monitored</span>
<span class="sd">            include_processes (str or list): list of process that should be forced to be monitored</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unmonitored_processes</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parse_process_list</span><span class="p">(</span><span class="n">exclude_processes</span><span class="p">)</span> <span class="o">|</span> <span class="n">SYSTEM_PROCESSES</span>
        <span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_process_list</span><span class="p">(</span><span class="n">include_processes</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">parse_process_list</span><span class="p">(</span><span class="n">process_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Parse a process list that may be given as a string&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">process_list</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">process_list</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">process_list</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">process_list</span><span class="p">)</span>
        <span class="c1"># process names from /proc only contain 15 characters</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">process_list</span><span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">iterate_children</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;Iterates through all children process of the lutris client.</span>
<span class="sd">        This is not accurate since not all processes are started by</span>
<span class="sd">        lutris but are started by Systemd instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Process</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">())</span><span class="o">.</span><span class="n">iter_children</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">iterate_processes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iterate_children</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s1">&#39;Z&#39;</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="n">child</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">unmonitored_processes</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">child</span>

    <span class="k">def</span> <span class="nf">is_alive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns whether at least one watched process exists&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">message</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">message</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iterate_processes</span><span class="p">(),</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process_watcher.ProcessWatcher.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_processes</span><span class="p">,</span> <span class="n">exclude_processes</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.process_watcher.ProcessWatcher.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Create a process watcher.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>exclude_processes</code></td>
        <td><code>str or list</code></td>
        <td><p>list of processes that shouldn't be monitored</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>include_processes</code></td>
        <td><code>str or list</code></td>
        <td><p>list of process that should be forced to be monitored</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/process_watcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">include_processes</span><span class="p">,</span> <span class="n">exclude_processes</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a process watcher.</span>
<span class="sd">    Params:</span>
<span class="sd">        exclude_processes (str or list): list of processes that shouldn&#39;t be monitored</span>
<span class="sd">        include_processes (str or list): list of process that should be forced to be monitored</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">unmonitored_processes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_process_list</span><span class="p">(</span><span class="n">exclude_processes</span><span class="p">)</span> <span class="o">|</span> <span class="n">SYSTEM_PROCESSES</span>
    <span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_process_list</span><span class="p">(</span><span class="n">include_processes</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process_watcher.ProcessWatcher.is_alive" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_alive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.process_watcher.ProcessWatcher.is_alive" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Returns whether at least one watched process exists</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process_watcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_alive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns whether at least one watched process exists&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">message</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">message</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iterate_processes</span><span class="p">(),</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process_watcher.ProcessWatcher.iterate_children" class="doc doc-heading">
<code class="highlight language-python"><span class="n">iterate_children</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.process_watcher.ProcessWatcher.iterate_children" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Iterates through all children process of the lutris client.
This is not accurate since not all processes are started by
lutris but are started by Systemd instead.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process_watcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">iterate_children</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Iterates through all children process of the lutris client.</span>
<span class="sd">    This is not accurate since not all processes are started by</span>
<span class="sd">    lutris but are started by Systemd instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Process</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">())</span><span class="o">.</span><span class="n">iter_children</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process_watcher.ProcessWatcher.iterate_processes" class="doc doc-heading">
<code class="highlight language-python"><span class="n">iterate_processes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.process_watcher.ProcessWatcher.iterate_processes" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/process_watcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">iterate_processes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">iterate_children</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="s1">&#39;Z&#39;</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="n">child</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">unmonitored_processes</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">child</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.process_watcher.ProcessWatcher.parse_process_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_process_list</span><span class="p">(</span><span class="n">process_list</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.process_watcher.ProcessWatcher.parse_process_list" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Parse a process list that may be given as a string</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/process_watcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">parse_process_list</span><span class="p">(</span><span class="n">process_list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Parse a process list that may be given as a string&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">process_list</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">process_list</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">process_list</span> <span class="o">=</span> <span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">process_list</span><span class="p">)</span>
    <span class="c1"># process names from /proc only contain 15 characters</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">process_list</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.resources" class="doc doc-heading">
        <code>resources</code>



<a href="#lutris.util.resources" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Utility module to handle media resources</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.resources.get_icon_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_icon_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">)</span></code>


<a href="#lutris.util.resources.get_icon_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the absolute path for a game_slug icon</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/resources.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_icon_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the absolute path for a game_slug icon&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">ICON_PATH</span><span class="p">,</span> <span class="s2">&quot;lutris_</span><span class="si">%s</span><span class="s2">.png&quot;</span> <span class="o">%</span> <span class="n">game_slug</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.settings" class="doc doc-heading">
        <code>settings</code>



<a href="#lutris.util.settings" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.util.settings.SettingsIO" class="doc doc-heading">
        <code>
SettingsIO        </code>



<a href="#lutris.util.settings.SettingsIO" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>ConfigParser abstraction.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/settings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SettingsIO</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;ConfigParser abstraction.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span> <span class="o">=</span> <span class="n">config_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">])</span>
            <span class="k">except</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to readconfig file </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Some invalid characters are preventing &quot;</span> <span class="s2">&quot;the setting file from loading properly: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">section</span><span class="o">=</span><span class="s2">&quot;lutris&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Read a setting from the config file</span>

<span class="sd">        Params:</span>
<span class="sd">            key (str): Setting key</span>
<span class="sd">            section (str): Optional section, default to &#39;lutris&#39;</span>
<span class="sd">            default (str): Default value to return if setting not present</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoOptionError</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">default</span>

    <span class="k">def</span> <span class="nf">write_setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">section</span><span class="o">=</span><span class="s2">&quot;lutris&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h4 id="lutris.util.settings.SettingsIO.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.settings.SettingsIO.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/settings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span> <span class="o">=</span> <span class="n">config_file</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">])</span>
        <span class="k">except</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to readconfig file </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Some invalid characters are preventing &quot;</span> <span class="s2">&quot;the setting file from loading properly: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.settings.SettingsIO.read_setting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">section</span><span class="o">=</span><span class="s1">&#39;lutris&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>


<a href="#lutris.util.settings.SettingsIO.read_setting" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Read a setting from the config file</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>Setting key</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>section</code></td>
        <td><code>str</code></td>
        <td><p>Optional section, default to 'lutris'</p></td>
        <td><code>&#39;lutris&#39;</code></td>
      </tr>
      <tr>
        <td><code>default</code></td>
        <td><code>str</code></td>
        <td><p>Default value to return if setting not present</p></td>
        <td><code>&#39;&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/settings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">section</span><span class="o">=</span><span class="s2">&quot;lutris&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Read a setting from the config file</span>

<span class="sd">    Params:</span>
<span class="sd">        key (str): Setting key</span>
<span class="sd">        section (str): Optional section, default to &#39;lutris&#39;</span>
<span class="sd">        default (str): Default value to return if setting not present</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoOptionError</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">default</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.settings.SettingsIO.write_setting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">section</span><span class="o">=</span><span class="s1">&#39;lutris&#39;</span><span class="p">)</span></code>


<a href="#lutris.util.settings.SettingsIO.write_setting" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/settings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_setting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">section</span><span class="o">=</span><span class="s2">&quot;lutris&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">config_file</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.shell" class="doc doc-heading">
        <code>shell</code>



<a href="#lutris.util.shell" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Controls execution of programs in separate shells</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.shell.get_bash_rc_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_bash_rc_file</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.shell.get_bash_rc_file" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a bash prompt configured with pre-defined environment variables and aliases</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/shell.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_bash_rc_file</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a bash prompt configured with pre-defined environment variables and aliases&quot;&quot;&quot;</span>
    <span class="n">script_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;bashrc.sh&quot;</span><span class="p">)</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;TERM&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;xterm&quot;</span>
    <span class="n">exported_environment</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;export </span><span class="si">%s</span><span class="s1">=&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">env</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="n">aliases</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">alias_commands</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;alias </span><span class="si">%s</span><span class="s1">=&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">aliases</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="n">current_bashrc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.bashrc&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">script_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">script_file</span><span class="p">:</span>
        <span class="n">script_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
            <span class="n">dedent</span><span class="p">(</span>
                <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            . %s</span>

<span class="sd">            %s</span>
<span class="sd">            %s</span>
<span class="sd">            cd &quot;%s&quot;</span>
<span class="sd">            &quot;&quot;&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">current_bashrc</span><span class="p">,</span>
                    <span class="n">exported_environment</span><span class="p">,</span>
                    <span class="n">alias_commands</span><span class="p">,</span>
                    <span class="n">cwd</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">script_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.shell.get_shell_command" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_shell_command</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.shell.get_shell_command" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Generates a scripts whichs opens a bash shell configured with given
environment variables and aliases.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/shell.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_shell_command</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generates a scripts whichs opens a bash shell configured with given</span>
<span class="sd">    environment variables and aliases.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bashrc_file</span> <span class="o">=</span> <span class="n">get_bash_rc_file</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">aliases</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">get_terminal_script</span><span class="p">([</span><span class="s2">&quot;bash&quot;</span><span class="p">,</span> <span class="s2">&quot;--rcfile&quot;</span><span class="p">,</span> <span class="n">bashrc_file</span><span class="p">],</span> <span class="n">cwd</span><span class="p">,</span> <span class="n">env</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.shell.get_terminal_script" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_terminal_script</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">cwd</span><span class="p">,</span> <span class="n">env</span><span class="p">)</span></code>


<a href="#lutris.util.shell.get_terminal_script" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Write command in a script file and run it.</p>
<p>Running it from a file is likely the only way to set env vars only
for the command (not for the terminal app).
It's also the only reliable way to keep the term open when the
game is quit.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/shell.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_terminal_script</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">cwd</span><span class="p">,</span> <span class="n">env</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Write command in a script file and run it.</span>

<span class="sd">    Running it from a file is likely the only way to set env vars only</span>
<span class="sd">    for the command (not for the terminal app).</span>
<span class="sd">    It&#39;s also the only reliable way to keep the term open when the</span>
<span class="sd">    game is quit.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">script_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="s2">&quot;run_in_term.sh&quot;</span><span class="p">)</span>
    <span class="n">env</span><span class="p">[</span><span class="s2">&quot;TERM&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;xterm&quot;</span>
    <span class="n">exported_environment</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;export </span><span class="si">%s</span><span class="s1">=&quot;</span><span class="si">%s</span><span class="s1">&quot; &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">env</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">command</span><span class="p">])</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">script_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">script_file</span><span class="p">:</span>
        <span class="n">script_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
            <span class="n">dedent</span><span class="p">(</span>
                <span class="sd">&quot;&quot;&quot;#!/bin/sh</span>
<span class="sd">            cd &quot;%s&quot;</span>
<span class="sd">            %s</span>
<span class="sd">            exec %s</span>
<span class="sd">            exit $?</span>
<span class="sd">            &quot;&quot;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">exported_environment</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">script_path</span><span class="p">,</span> <span class="mo">0o744</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">script_path</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.steam" class="doc doc-heading">
        <code>steam</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.steam" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="lutris.util.steam.appmanifest" class="doc doc-heading">
        <code>appmanifest</code>



<a href="#lutris.util.steam.appmanifest" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Steam appmanifest file handling</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.steam.appmanifest.APP_STATE_FLAGS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">APP_STATE_FLAGS</span></code>


<a href="#lutris.util.steam.appmanifest.APP_STATE_FLAGS" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h4 id="lutris.util.steam.appmanifest.AppManifest" class="doc doc-heading">
        <code>
AppManifest        </code>



<a href="#lutris.util.steam.appmanifest.AppManifest" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Representation of an AppManifest file from Steam</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AppManifest</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Representation of an AppManifest file from Steam&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appmanifest_path</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_path</span> <span class="o">=</span> <span class="n">appmanifest_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">appmanifest_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">steamid</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\d+)&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_data</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">appmanifest_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">appmanifest_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">appmanifest_file</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_data</span> <span class="o">=</span> <span class="n">vdf_parse</span><span class="p">(</span><span class="n">appmanifest_file</span><span class="p">,</span> <span class="p">{})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Path to AppManifest file </span><span class="si">%s</span><span class="s2"> doesn&#39;t exist&quot;</span><span class="p">,</span> <span class="n">appmanifest_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;AppManifest: </span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">app_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;State of the app (dictionary containing game specific info)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;AppState&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the user configuration part&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_state</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;UserConfig&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the game name from either the state or the user config&quot;&quot;&quot;</span>
        <span class="n">_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_state</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_name</span><span class="p">:</span>
            <span class="n">_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">slug</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a slugified version of the name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">slugify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">installdir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Path where the game is installed&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_state</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;installdir&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">states</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the states of a Steam game.&quot;&quot;&quot;</span>
        <span class="n">states</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">state_flags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">app_state</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;StateFlags&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">state_flags</span> <span class="o">=</span> <span class="nb">bin</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">state_flags</span><span class="p">))[:</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">flag</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">state_flags</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">flag</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                <span class="n">states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">APP_STATE_FLAGS</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">states</span>

    <span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;True if the game is fully installed&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;Fully Installed&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">states</span>

    <span class="k">def</span> <span class="nf">get_install_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Absolute path of the installation directory&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">installdir</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">install_path</span> <span class="o">=</span> <span class="n">fix_path_case</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="s2">&quot;common&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">installdir</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">install_path</span> <span class="ow">and</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">install_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">install_path</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Platform the game uses (linux or windows)&quot;&quot;&quot;</span>
        <span class="n">steamapps_paths</span> <span class="o">=</span> <span class="n">get_steamapps_paths</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span> <span class="ow">in</span> <span class="n">steamapps_paths</span><span class="p">[</span><span class="s2">&quot;linux&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s2">&quot;linux&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span> <span class="ow">in</span> <span class="n">steamapps_paths</span><span class="p">[</span><span class="s2">&quot;windows&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s2">&quot;windows&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t find </span><span class="si">%s</span><span class="s2"> in </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">steamapps_paths</span><span class="p">))</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.steam.appmanifest.AppManifest.app_state" class="doc doc-heading">
<code class="highlight language-python"><span class="n">app_state</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.steam.appmanifest.AppManifest.app_state" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>State of the app (dictionary containing game specific info)</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.steam.appmanifest.AppManifest.installdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">installdir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.steam.appmanifest.AppManifest.installdir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Path where the game is installed</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.steam.appmanifest.AppManifest.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.steam.appmanifest.AppManifest.name" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the game name from either the state or the user config</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.steam.appmanifest.AppManifest.slug" class="doc doc-heading">
<code class="highlight language-python"><span class="n">slug</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.steam.appmanifest.AppManifest.slug" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return a slugified version of the name</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.steam.appmanifest.AppManifest.states" class="doc doc-heading">
<code class="highlight language-python"><span class="n">states</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.steam.appmanifest.AppManifest.states" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the states of a Steam game.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.steam.appmanifest.AppManifest.user_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">user_config</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.steam.appmanifest.AppManifest.user_config" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the user configuration part</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.steam.appmanifest.AppManifest.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appmanifest_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.steam.appmanifest.AppManifest.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appmanifest_path</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_path</span> <span class="o">=</span> <span class="n">appmanifest_path</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">appmanifest_path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">steamid</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\d+)&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_data</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">appmanifest_path</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">appmanifest_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">appmanifest_file</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_data</span> <span class="o">=</span> <span class="n">vdf_parse</span><span class="p">(</span><span class="n">appmanifest_file</span><span class="p">,</span> <span class="p">{})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Path to AppManifest file </span><span class="si">%s</span><span class="s2"> doesn&#39;t exist&quot;</span><span class="p">,</span> <span class="n">appmanifest_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.steam.appmanifest.AppManifest.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.steam.appmanifest.AppManifest.__repr__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;&lt;AppManifest: </span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">appmanifest_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.steam.appmanifest.AppManifest.get_install_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_install_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.steam.appmanifest.AppManifest.get_install_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Absolute path of the installation directory</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_install_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Absolute path of the installation directory&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">installdir</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">install_path</span> <span class="o">=</span> <span class="n">fix_path_case</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="s2">&quot;common&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">installdir</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">install_path</span> <span class="ow">and</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">install_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">install_path</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.steam.appmanifest.AppManifest.get_platform" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.steam.appmanifest.AppManifest.get_platform" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Platform the game uses (linux or windows)</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Platform the game uses (linux or windows)&quot;&quot;&quot;</span>
    <span class="n">steamapps_paths</span> <span class="o">=</span> <span class="n">get_steamapps_paths</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span> <span class="ow">in</span> <span class="n">steamapps_paths</span><span class="p">[</span><span class="s2">&quot;linux&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="s2">&quot;linux&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span> <span class="ow">in</span> <span class="n">steamapps_paths</span><span class="p">[</span><span class="s2">&quot;windows&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="s2">&quot;windows&quot;</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t find </span><span class="si">%s</span><span class="s2"> in </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">steamapps_paths</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.steam.appmanifest.AppManifest.is_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.steam.appmanifest.AppManifest.is_installed" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>True if the game is fully installed</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;True if the game is fully installed&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;Fully Installed&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">states</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.appmanifest.get_appmanifest_from_appid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_appmanifest_from_appid</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span></code>


<a href="#lutris.util.steam.appmanifest.get_appmanifest_from_appid" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Given the steam apps path and appid, return the corresponding appmanifest</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_appmanifest_from_appid</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">appid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Given the steam apps path and appid, return the corresponding appmanifest&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">steamapps_path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;steamapps_path is mandatory&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;steamapps_path must be a valid directory&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">appid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing mandatory appid&quot;</span><span class="p">)</span>
    <span class="n">appmanifest_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="s2">&quot;appmanifest_</span><span class="si">%s</span><span class="s2">.acf&quot;</span> <span class="o">%</span> <span class="n">appid</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">appmanifest_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">AppManifest</span><span class="p">(</span><span class="n">appmanifest_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.appmanifest.get_appmanifests" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_appmanifests</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">)</span></code>


<a href="#lutris.util.steam.appmanifest.get_appmanifests" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list for all appmanifest files in a Steam library folder</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_appmanifests</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the list for all appmanifest files in a Steam library folder&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">)</span> <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^appmanifest_\d+.acf$&quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">)]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.appmanifest.get_path_from_appmanifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_path_from_appmanifest</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span></code>


<a href="#lutris.util.steam.appmanifest.get_path_from_appmanifest" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the path where a Steam game is installed.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/appmanifest.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_path_from_appmanifest</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">appid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the path where a Steam game is installed.&quot;&quot;&quot;</span>
    <span class="n">appmanifest</span> <span class="o">=</span> <span class="n">get_appmanifest_from_appid</span><span class="p">(</span><span class="n">steamapps_path</span><span class="p">,</span> <span class="n">appid</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">appmanifest</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">appmanifest</span><span class="o">.</span><span class="n">get_install_path</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.steam.config" class="doc doc-heading">
        <code>config</code>



<a href="#lutris.util.steam.config" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Handle Steam configuration</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.steam.config.STEAM_DATA_DIRS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">STEAM_DATA_DIRS</span></code>


<a href="#lutris.util.steam.config.STEAM_DATA_DIRS" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.get_config_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_config_value</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#lutris.util.steam.config.get_config_value" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Fetch a value from a configuration in a case insensitive way</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_config_value</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fetch a value from a configuration in a case insensitive way&quot;&quot;&quot;</span>
    <span class="n">keymap</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">keys</span><span class="p">()}</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keymap</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Config key </span><span class="si">%s</span><span class="s2"> not found in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="p">)</span>
        <span class="k">return</span>
    <span class="k">return</span> <span class="n">config</span><span class="p">[</span><span class="n">keymap</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()]]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.get_default_acf" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_acf</span><span class="p">(</span><span class="n">appid</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#lutris.util.steam.config.get_default_acf" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return a default configuration usable to
create a runnable game in Steam</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_default_acf</span><span class="p">(</span><span class="n">appid</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a default configuration usable to</span>
<span class="sd">    create a runnable game in Steam&quot;&quot;&quot;</span>

    <span class="n">userconfig</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="n">userconfig</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">userconfig</span><span class="p">[</span><span class="s2">&quot;gameid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">appid</span>

    <span class="n">appstate</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="n">appstate</span><span class="p">[</span><span class="s2">&quot;appID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">appid</span>
    <span class="n">appstate</span><span class="p">[</span><span class="s2">&quot;Universe&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
    <span class="n">appstate</span><span class="p">[</span><span class="s2">&quot;StateFlags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1026&quot;</span>
    <span class="n">appstate</span><span class="p">[</span><span class="s2">&quot;installdir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">appstate</span><span class="p">[</span><span class="s2">&quot;UserConfig&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">userconfig</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;AppState&quot;</span><span class="p">:</span> <span class="n">appstate</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.get_steam_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steam_dir</span><span class="p">()</span></code>


<a href="#lutris.util.steam.config.get_steam_dir" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Main installation directory for Steam</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steam_dir</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Main installation directory for Steam&quot;&quot;&quot;</span>
    <span class="n">steam_dir</span> <span class="o">=</span> <span class="n">search_in_steam_dirs</span><span class="p">(</span><span class="s2">&quot;steamapps&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">steam_dir</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">steam_dir</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;steamapps&quot;</span><span class="p">)]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.get_steam_library" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steam_library</span><span class="p">(</span><span class="n">steamid</span><span class="p">)</span></code>


<a href="#lutris.util.steam.config.get_steam_library" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of games owned by a SteamID</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steam_library</span><span class="p">(</span><span class="n">steamid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the list of games owned by a SteamID&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">steamid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing SteamID&quot;</span><span class="p">)</span>
    <span class="n">steam_games_url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;https://api.steampowered.com/&quot;</span>
        <span class="s2">&quot;IPlayerService/GetOwnedGames/v0001/&quot;</span>
        <span class="s2">&quot;?key=</span><span class="si">{}</span><span class="s2">&amp;steamid=</span><span class="si">{}</span><span class="s2">&amp;format=json&amp;include_appinfo=1&quot;</span>
        <span class="s2">&quot;&amp;include_played_free_games=1&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">STEAM_API_KEY</span><span class="p">,</span> <span class="n">steamid</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">steam_games_url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;</span> <span class="mi">400</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid response from steam: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">json_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">json_data</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No games in response of </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">steam_games_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="s1">&#39;games&#39;</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;games&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s1">&#39;game_count&#39;</span> <span class="ow">in</span> <span class="n">response</span> <span class="ow">and</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;game_count&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Weird response: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">json_data</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.get_steamapps_paths" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_steamapps_paths</span><span class="p">()</span></code>


<a href="#lutris.util.steam.config.get_steamapps_paths" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_steamapps_paths</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">lutris.runners</span> <span class="kn">import</span> <span class="n">steam</span>  <span class="c1"># pylint: disable=import-outside-toplevel</span>
    <span class="k">return</span> <span class="n">steam</span><span class="o">.</span><span class="n">steam</span><span class="p">()</span><span class="o">.</span><span class="n">get_steamapps_dirs</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.get_user_steam_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user_steam_id</span><span class="p">()</span></code>


<a href="#lutris.util.steam.config.get_user_steam_id" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Read user's SteamID from Steam config files</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_user_steam_id</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Read user&#39;s SteamID from Steam config files&quot;&quot;&quot;</span>
    <span class="n">user_config</span> <span class="o">=</span> <span class="n">read_user_config</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">user_config</span> <span class="ow">or</span> <span class="s2">&quot;users&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">user_config</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">last_steam_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">steam_id</span> <span class="ow">in</span> <span class="n">user_config</span><span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">]:</span>
        <span class="n">last_steam_id</span> <span class="o">=</span> <span class="n">steam_id</span>
        <span class="k">if</span> <span class="n">get_config_value</span><span class="p">(</span><span class="n">user_config</span><span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">][</span><span class="n">steam_id</span><span class="p">],</span> <span class="s2">&quot;mostrecent&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">steam_id</span>
    <span class="k">return</span> <span class="n">last_steam_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.read_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_config</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">)</span></code>


<a href="#lutris.util.steam.config.read_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Read the Steam configuration and return it as an object</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_config</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Read the Steam configuration and return it as an object&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_entry_case_insensitive</span><span class="p">(</span><span class="n">config_dict</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">_value</span> <span class="ow">in</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">config_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

                <span class="k">return</span> <span class="n">get_entry_case_insensitive</span><span class="p">(</span><span class="n">config_dict</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_data_dir</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">config_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">,</span> <span class="s2">&quot;config/config.vdf&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_filename</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">steam_config_file</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">vdf_parse</span><span class="p">(</span><span class="n">steam_config_file</span><span class="p">,</span> <span class="p">{})</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_entry_case_insensitive</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;InstallConfigStore&quot;</span><span class="p">,</span> <span class="s2">&quot;Software&quot;</span><span class="p">,</span> <span class="s2">&quot;Valve&quot;</span><span class="p">,</span> <span class="s2">&quot;Steam&quot;</span><span class="p">])</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Steam config </span><span class="si">%s</span><span class="s2"> is empty: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">config_filename</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.read_library_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_library_folders</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">)</span></code>


<a href="#lutris.util.steam.config.read_library_folders" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Read the Steam Library Folders config and return it as an object</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_library_folders</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Read the Steam Library Folders config and return it as an object&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">get_entry_case_insensitive</span><span class="p">(</span><span class="n">library_dict</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">library_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">value</span>
                <span class="k">return</span> <span class="n">get_entry_case_insensitive</span><span class="p">(</span><span class="n">library_dict</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">path</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_data_dir</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">library_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">,</span> <span class="s2">&quot;config/libraryfolders.vdf&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">library_filename</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">library_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">steam_library_file</span><span class="p">:</span>
        <span class="n">library</span> <span class="o">=</span> <span class="n">vdf_parse</span><span class="p">(</span><span class="n">steam_library_file</span><span class="p">,</span> <span class="p">{})</span>
        <span class="c1"># The contentstatsid key is unused and causes problems when looking for library paths.</span>
        <span class="n">library</span><span class="p">[</span><span class="s2">&quot;libraryfolders&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;contentstatsid&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_entry_case_insensitive</span><span class="p">(</span><span class="n">library</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;libraryfolders&quot;</span><span class="p">])</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Steam libraryfolders </span><span class="si">%s</span><span class="s2"> is empty: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">library_filename</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.read_user_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_user_config</span><span class="p">()</span></code>


<a href="#lutris.util.steam.config.read_user_config" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_user_config</span><span class="p">():</span>
    <span class="n">config_filename</span> <span class="o">=</span> <span class="n">search_in_steam_dirs</span><span class="p">(</span><span class="s2">&quot;config/loginusers.vdf&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">config_filename</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">steam_config_file</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">vdf_parse</span><span class="p">(</span><span class="n">steam_config_file</span><span class="p">,</span> <span class="p">{})</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.config.search_in_steam_dirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">search_in_steam_dirs</span><span class="p">(</span><span class="n">file</span><span class="p">)</span></code>


<a href="#lutris.util.steam.config.search_in_steam_dirs" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Find the (last) file/dir in all the Steam directories</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">search_in_steam_dirs</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Find the (last) file/dir in all the Steam directories&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">STEAM_DATA_DIRS</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">fix_path_case</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">candidate</span><span class="p">),</span> <span class="n">file</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.steam.log" class="doc doc-heading">
        <code>log</code>



<a href="#lutris.util.steam.log" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Steam log handling</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.log.get_app_log" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_app_log</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.steam.log.get_app_log" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return all log entries related to appid from the latest Steam run.</p>
<p>:param start_time: Time tuple, log entries older than this are dumped.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/log.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_app_log</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return all log entries related to appid from the latest Steam run.</span>

<span class="sd">    :param start_time: Time tuple, log entries older than this are dumped.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">start_time</span><span class="p">:</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %T&quot;</span><span class="p">,</span> <span class="n">start_time</span><span class="p">)</span>

    <span class="n">app_log</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">_get_last_content_log</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">start_time</span> <span class="ow">and</span> <span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">start_time</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="s2">&quot; </span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="n">appid</span> <span class="ow">in</span> <span class="n">line</span><span class="p">[</span><span class="mi">22</span><span class="p">:]:</span>
            <span class="n">app_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">app_log</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.log.get_app_state_log" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_app_state_log</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.steam.log.get_app_state_log" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return state entries for appid from latest block in content_log.txt.</p>
<p>"Fully Installed, Running" means running.
"Fully Installed" means stopped.</p>
<p>:param start_time: Time tuple, log entries older than this are dumped.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/log.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_app_state_log</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return state entries for appid from latest block in content_log.txt.</span>

<span class="sd">    &quot;Fully Installed, Running&quot; means running.</span>
<span class="sd">    &quot;Fully Installed&quot; means stopped.</span>

<span class="sd">    :param start_time: Time tuple, log entries older than this are dumped.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">state_log</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">get_app_log</span><span class="p">(</span><span class="n">steam_data_dir</span><span class="p">,</span> <span class="n">appid</span><span class="p">,</span> <span class="n">start_time</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; : &quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;state changed&quot;</span><span class="p">):</span>
            <span class="n">state_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">][:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">state_log</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.steam.vdf" class="doc doc-heading">
        <code>vdf</code>



<a href="#lutris.util.steam.vdf" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Read and write VDF files</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.vdf.to_vdf" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_vdf</span><span class="p">(</span><span class="n">dict_data</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


<a href="#lutris.util.steam.vdf.to_vdf" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Convert a dictionnary to Steam config file format</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/vdf.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_vdf</span><span class="p">(</span><span class="n">dict_data</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert a dictionnary to Steam config file format&quot;&quot;&quot;</span>
    <span class="n">vdf_data</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">dict_data</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">dict_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">vdf_data</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&quot;</span><span class="si">%s</span><span class="s1">&quot;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">*</span> <span class="n">level</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="n">vdf_data</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">{</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">*</span> <span class="n">level</span><span class="p">)</span>
            <span class="n">vdf_data</span> <span class="o">+=</span> <span class="n">to_vdf</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">vdf_data</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">*</span> <span class="n">level</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">vdf_data</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&quot;</span><span class="si">%s</span><span class="s1">&quot;</span><span class="se">\t\t</span><span class="s1">&quot;</span><span class="si">%s</span><span class="s1">&quot;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span> <span class="o">*</span> <span class="n">level</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vdf_data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.vdf.vdf_parse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vdf_parse</span><span class="p">(</span><span class="n">steam_config_file</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


<a href="#lutris.util.steam.vdf.vdf_parse" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Parse a Steam config file and return the contents as a dict.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/vdf.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">vdf_parse</span><span class="p">(</span><span class="n">steam_config_file</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Parse a Steam config file and return the contents as a dict.&quot;&quot;&quot;</span>
    <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
    <span class="k">while</span> <span class="n">line</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">steam_config_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Error while reading Steam VDF file </span><span class="si">%s</span><span class="s2">. Returning </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">steam_config_file</span><span class="p">,</span>
                <span class="n">config</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">config</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;}&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">config</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">):</span>
            <span class="n">nextline</span> <span class="o">=</span> <span class="n">steam_config_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">nextline</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">nextline</span>

        <span class="n">line_elements</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line_elements</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">line_elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">steam_config_file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>  <span class="c1"># skip &#39;{&#39;</span>
            <span class="n">config</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">vdf_parse</span><span class="p">(</span><span class="n">steam_config_file</span><span class="p">,</span> <span class="p">{})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">config</span><span class="p">[</span><span class="n">line_elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">line_elements</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Malformed config file: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.steam.vdf.vdf_write" class="doc doc-heading">
<code class="highlight language-python"><span class="n">vdf_write</span><span class="p">(</span><span class="n">vdf_path</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


<a href="#lutris.util.steam.vdf.vdf_write" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Write a Steam configuration to a vdf file</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/vdf.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">vdf_write</span><span class="p">(</span><span class="n">vdf_path</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Write a Steam configuration to a vdf file&quot;&quot;&quot;</span>
    <span class="n">vdf_data</span> <span class="o">=</span> <span class="n">to_vdf</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">vdf_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">vdf_file</span><span class="p">:</span>
        <span class="n">vdf_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">vdf_data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.steam.watcher" class="doc doc-heading">
        <code>watcher</code>



<a href="#lutris.util.steam.watcher" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Steam game library watcher</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.steam.watcher.SteamWatcher" class="doc doc-heading">
        <code>
SteamWatcher        </code>



<a href="#lutris.util.steam.watcher.SteamWatcher" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Watches a Steam library folder and notify changes</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/watcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SteamWatcher</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Watches a Steam library folder and notify changes&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steamapps_paths</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span>
        <span class="k">for</span> <span class="n">steam_path</span> <span class="ow">in</span> <span class="n">steamapps_paths</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">new_for_path</span><span class="p">(</span><span class="n">steam_path</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">monitor</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">monitor_directory</span><span class="p">(</span><span class="n">Gio</span><span class="o">.</span><span class="n">FileMonitorFlags</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Watching Steam folder </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">steam_path</span><span class="p">)</span>
                <span class="n">monitor</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;changed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_directory_changed</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">monitor</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">GLib</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_directory_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_monitor</span><span class="p">,</span> <span class="n">_file</span><span class="p">,</span> <span class="n">_other_file</span><span class="p">,</span> <span class="n">event_type</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">_file</span><span class="o">.</span><span class="n">get_path</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.acf&quot;</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.steam.watcher.SteamWatcher.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steamapps_paths</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.steam.watcher.SteamWatcher.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/steam/watcher.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steamapps_paths</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span>
    <span class="k">for</span> <span class="n">steam_path</span> <span class="ow">in</span> <span class="n">steamapps_paths</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">new_for_path</span><span class="p">(</span><span class="n">steam_path</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">monitor</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">monitor_directory</span><span class="p">(</span><span class="n">Gio</span><span class="o">.</span><span class="n">FileMonitorFlags</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Watching Steam folder </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">steam_path</span><span class="p">)</span>
            <span class="n">monitor</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;changed&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_directory_changed</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">monitors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">monitor</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">GLib</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.strings" class="doc doc-heading">
        <code>strings</code>



<a href="#lutris.util.strings" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>String utilities</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.strings.NO_PLAYTIME" class="doc doc-heading">
<code class="highlight language-python"><span class="n">NO_PLAYTIME</span></code>


<a href="#lutris.util.strings.NO_PLAYTIME" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.add_url_tags" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_url_tags</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>


<a href="#lutris.util.strings.add_url_tags" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Surround URL with <a> tags.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_url_tags</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Surround URL with &lt;a&gt; tags.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span>
        <span class="sa">r</span><span class="s2">&quot;(http[s]?://(&quot;</span>
        <span class="sa">r</span><span class="s2">&quot;?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\(\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+)&quot;</span><span class="p">,</span>
        <span class="sa">r</span><span class="s1">&#39;&lt;a href=&quot;\1&quot;&gt;\1&lt;/a&gt;&#39;</span><span class="p">,</span>
        <span class="n">text</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.get_formatted_playtime" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_formatted_playtime</span><span class="p">(</span><span class="n">playtime</span><span class="p">)</span></code>


<a href="#lutris.util.strings.get_formatted_playtime" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a human readable value of the play time</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_formatted_playtime</span><span class="p">(</span><span class="n">playtime</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a human readable value of the play time&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">playtime</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">NO_PLAYTIME</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">playtime</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">playtime</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Invalid playtime value &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">playtime</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">NO_PLAYTIME</span>

    <span class="n">hours</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">playtime</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">hours</span><span class="p">:</span>
        <span class="n">hours_text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> hour</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">hours</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span> <span class="k">if</span> <span class="n">hours</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">hours_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="n">minutes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">playtime</span> <span class="o">-</span> <span class="n">hours</span><span class="p">)</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">minutes</span><span class="p">:</span>
        <span class="n">minutes_text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> minute</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">minutes</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span> <span class="k">if</span> <span class="n">minutes</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">minutes_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="n">formatted_time</span> <span class="o">=</span> <span class="s2">&quot; and &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">text</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="p">(</span><span class="n">hours_text</span><span class="p">,</span> <span class="n">minutes_text</span><span class="p">)</span> <span class="k">if</span> <span class="n">text</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">formatted_time</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">formatted_time</span>
    <span class="k">if</span> <span class="n">playtime</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Less than a minute&quot;</span>
    <span class="k">return</span> <span class="n">NO_PLAYTIME</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.gtk_safe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">gtk_safe</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></code>


<a href="#lutris.util.strings.gtk_safe" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a string ready to used in Gtk widgets</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">gtk_safe</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a string ready to used in Gtk widgets&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">string</span><span class="p">:</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">string</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s2">&quot;&amp;amp;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&amp;lt;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&amp;gt;&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.human_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">human_size</span><span class="p">(</span><span class="n">size</span><span class="p">)</span></code>


<a href="#lutris.util.strings.human_size" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Shows a size in bytes in a more readable way</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">human_size</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Shows a size in bytes in a more readable way&quot;&quot;&quot;</span>
    <span class="n">units</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;bytes&quot;</span><span class="p">,</span> <span class="s2">&quot;kB&quot;</span><span class="p">,</span> <span class="s2">&quot;MB&quot;</span><span class="p">,</span> <span class="s2">&quot;GB&quot;</span><span class="p">,</span> <span class="s2">&quot;TB&quot;</span><span class="p">,</span> <span class="s2">&quot;PB&quot;</span><span class="p">,</span> <span class="s2">&quot;nuh uh&quot;</span><span class="p">,</span> <span class="s2">&quot;no way&quot;</span><span class="p">,</span> <span class="s2">&quot;BS&quot;</span><span class="p">)</span>
    <span class="n">unit_index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">size</span> <span class="o">&gt;</span> <span class="mi">1024</span><span class="p">:</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">/</span> <span class="mi">1024</span>
        <span class="n">unit_index</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%0.1f</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">units</span><span class="p">[</span><span class="n">unit_index</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.lookup_string_in_text" class="doc doc-heading">
<code class="highlight language-python"><span class="n">lookup_string_in_text</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span></code>


<a href="#lutris.util.strings.lookup_string_in_text" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return full line if string found in the multi-line text.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">lookup_string_in_text</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return full line if string found in the multi-line text.&quot;&quot;&quot;</span>
    <span class="n">output_lines</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">output_lines</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">line</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.parse_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span></code>


<a href="#lutris.util.strings.parse_version" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Parse a version string</p>
<p>Return a 3 element tuple containing:
 - The version number as a list of integers
 - The prefix (whatever characters before the version number)
 - The suffix (whatever comes after)</p>
<p>Example::
    &gt;&gt;&gt; parse_version("3.6-staging")
    ([3, 6], '', '-staging')</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>tuple</code></td>
      <td><p>(version number as list, prefix, suffix)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_version</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Parse a version string</span>

<span class="sd">    Return a 3 element tuple containing:</span>
<span class="sd">     - The version number as a list of integers</span>
<span class="sd">     - The prefix (whatever characters before the version number)</span>
<span class="sd">     - The suffix (whatever comes after)</span>

<span class="sd">     Example::</span>
<span class="sd">        &gt;&gt;&gt; parse_version(&quot;3.6-staging&quot;)</span>
<span class="sd">        ([3, 6], &#39;&#39;, &#39;-staging&#39;)</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple: (version number as list, prefix, suffix)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">version_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\d[\d\.]+\d)&quot;</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">version_match</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[],</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
    <span class="n">version_number</span> <span class="o">=</span> <span class="n">version_match</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="n">version</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">version_match</span><span class="o">.</span><span class="n">span</span><span class="p">()[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="n">suffix</span> <span class="o">=</span> <span class="n">version</span><span class="p">[</span><span class="n">version_match</span><span class="o">.</span><span class="n">span</span><span class="p">()[</span><span class="mi">1</span><span class="p">]:]</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">version_number</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)],</span> <span class="n">suffix</span><span class="p">,</span> <span class="n">prefix</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.slugify" class="doc doc-heading">
<code class="highlight language-python"><span class="n">slugify</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>


<a href="#lutris.util.strings.slugify" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Remove special characters from a string and slugify it.</p>
<p>Normalizes string, converts to lowercase, removes non-alpha characters,
and converts spaces to hyphens.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">slugify</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Remove special characters from a string and slugify it.</span>

<span class="sd">    Normalizes string, converts to lowercase, removes non-alpha characters,</span>
<span class="sd">    and converts spaces to hyphens.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_value</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="c1"># This differs from the Lutris website implementation which uses the Django</span>
    <span class="c1"># version of `slugify` and uses the &quot;NFKD&quot; normalization method instead of</span>
    <span class="c1"># &quot;NFD&quot;. This creates some inconsistencies in titles containing a trademark</span>
    <span class="c1"># symbols or some other special characters. The website version of slugify</span>
    <span class="c1"># will likely get updated to use the same normalization method.</span>
    <span class="n">_value</span> <span class="o">=</span> <span class="n">unicodedata</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="s2">&quot;NFD&quot;</span><span class="p">,</span> <span class="n">_value</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">,</span> <span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
    <span class="n">_value</span> <span class="o">=</span> <span class="n">_value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="n">_value</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^\w\s-]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">_value</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">slug</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[-\s]+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">_value</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">slug</span><span class="p">:</span>
        <span class="c1"># The slug is empty, likely because the string contains only non-latin</span>
        <span class="c1"># characters</span>
        <span class="n">slug</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid5</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">NAMESPACE_URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">slug</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.split_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>


<a href="#lutris.util.strings.split_arguments" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Wrapper around shlex.split that is more tolerant of errors</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around shlex.split that is more tolerant of errors&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
        <span class="c1"># shlex.split seems to hangs when passed the None value</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">_split_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.unpack_dependencies" class="doc doc-heading">
<code class="highlight language-python"><span class="n">unpack_dependencies</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></code>


<a href="#lutris.util.strings.unpack_dependencies" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Parse a string to allow for complex dependencies
Works in a similar fashion as Debian dependencies, separate dependencies
are comma separated and multiple choices for satisfying a dependency are
separated by pipes.</p>
<div class="admonition example">
<p class="admonition-title">quake-steam | quake-gog, some-quake-mod returns:</p>
<p>[('quake-steam', 'quake-gog'), 'some-quake-mod']</p>
</div>

        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">unpack_dependencies</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Parse a string to allow for complex dependencies</span>
<span class="sd">    Works in a similar fashion as Debian dependencies, separate dependencies</span>
<span class="sd">    are comma separated and multiple choices for satisfying a dependency are</span>
<span class="sd">    separated by pipes.</span>

<span class="sd">    Example: quake-steam | quake-gog, some-quake-mod returns:</span>
<span class="sd">        [(&#39;quake-steam&#39;, &#39;quake-gog&#39;), &#39;some-quake-mod&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">string</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">dependencies</span> <span class="o">=</span> <span class="p">[</span><span class="n">dep</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">dep</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">dep</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dependencies</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;|&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="p">:</span>
            <span class="n">dependencies</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">option</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">option</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">dependency</span> <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="n">dependencies</span> <span class="k">if</span> <span class="n">dependency</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.strings.version_sort" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version_sort</span><span class="p">(</span><span class="n">versions</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.strings.version_sort" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/strings.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">version_sort</span><span class="p">(</span><span class="n">versions</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">version_key</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
        <span class="n">version_list</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">suffix</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
        <span class="c1"># Normalize the length of sub-versions</span>
        <span class="n">sort_key</span> <span class="o">=</span> <span class="n">version_list</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">10</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">version_list</span><span class="p">))</span>
        <span class="n">sort_key</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="n">sort_key</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sort_key</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">versions</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">version_key</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="n">reverse</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.system" class="doc doc-heading">
        <code>system</code>



<a href="#lutris.util.system" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>System utilities</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.system.PROTECTED_HOME_FOLDERS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">PROTECTED_HOME_FOLDERS</span></code>


<a href="#lutris.util.system.PROTECTED_HOME_FOLDERS" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.create_folder" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_folder</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.create_folder" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a folder specified by path</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_folder</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a folder specified by path&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.execute" class="doc doc-heading">
<code class="highlight language-python"><span class="n">execute</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">log_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.system.execute" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Execute a system command and return its results.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>command</code></td>
        <td><code>list</code></td>
        <td><p>A list containing an executable and its parameters</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>env</code></td>
        <td><code>dict</code></td>
        <td><p>Dict of values to add to the current environment</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>cwd</code></td>
        <td><code>str</code></td>
        <td><p>Working directory</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>log_errors</code></td>
        <td><code>bool</code></td>
        <td><p>Pipe stderr to stdout (might cause slowdowns)</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>quiet</code></td>
        <td><code>bool</code></td>
        <td><p>Do not display log messages</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Number of seconds the program is allowed to run, disabled by default</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>stdout output</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">log_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute a system command and return its results.</span>

<span class="sd">        Params:</span>
<span class="sd">            command (list): A list containing an executable and its parameters</span>
<span class="sd">            env (dict): Dict of values to add to the current environment</span>
<span class="sd">            cwd (str): Working directory</span>
<span class="sd">            log_errors (bool): Pipe stderr to stdout (might cause slowdowns)</span>
<span class="sd">            quiet (bool): Do not display log messages</span>
<span class="sd">            timeout (int): Number of seconds the program is allowed to run, disabled by default</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: stdout output</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Check if the executable exists</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">command</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No executable provided!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No executable found in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">quiet</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Executing </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">command</span><span class="p">]))</span>

    <span class="c1"># Set up environment</span>
    <span class="n">existing_env</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">env</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">quiet</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">env</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
        <span class="n">env</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">env</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
        <span class="n">existing_env</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>

    <span class="c1"># Piping stderr can cause slowness in the programs, use carefully</span>
    <span class="c1"># (especially when using regedit with wine)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
            <span class="n">command</span><span class="p">,</span>
            <span class="n">shell</span><span class="o">=</span><span class="n">shell</span><span class="p">,</span>
            <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
            <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span> <span class="k">if</span> <span class="n">log_errors</span> <span class="k">else</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span>
            <span class="n">env</span><span class="o">=</span><span class="n">existing_env</span><span class="p">,</span>
            <span class="n">cwd</span><span class="o">=</span><span class="n">cwd</span><span class="p">,</span>
            <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">command_process</span><span class="p">:</span>
            <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">command_process</span><span class="o">.</span><span class="n">communicate</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not run command </span><span class="si">%s</span><span class="s2"> (env: </span><span class="si">%s</span><span class="s2">): </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">TimeoutExpired</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Command </span><span class="si">%s</span><span class="s2"> after </span><span class="si">%s</span><span class="s2"> seconds&quot;</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">stderr</span> <span class="ow">and</span> <span class="n">log_errors</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">stderr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stdout</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.find_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_executable</span><span class="p">(</span><span class="n">exec_name</span><span class="p">)</span></code>


<a href="#lutris.util.system.find_executable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the absolute path of an executable</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_executable</span><span class="p">(</span><span class="n">exec_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the absolute path of an executable&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exec_name</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="n">exec_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.find_mount_point" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_mount_point</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.find_mount_point" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the mount point a file is located on</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_mount_point</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the mount point a file is located on&quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">ismount</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.fix_path_case" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fix_path_case</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.fix_path_case" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Do a case insensitive check, return the real path with correct case. If the path is
not for a real file, this corrects as many components as do exist.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fix_path_case</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Do a case insensitive check, return the real path with correct case. If the path is</span>
<span class="sd">    not for a real file, this corrects as many components as do exist.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="c1"># If a path isn&#39;t provided or it exists as is, return it.</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="n">current_path</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span>
    <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">:</span>
        <span class="n">parent_path</span> <span class="o">=</span> <span class="n">current_path</span>
        <span class="n">current_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_path</span><span class="p">,</span> <span class="n">part</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">current_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">parent_path</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">path_contents</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">parent_path</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Can&#39;t read contents of </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">parent_path</span><span class="p">)</span>
                <span class="n">path_contents</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">path_contents</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">part</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">current_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent_path</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                    <span class="k">break</span>

    <span class="c1"># Only return the path if we got the same number of elements</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">current_path</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">current_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_disk_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_disk_size</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.get_disk_size" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the disk size in bytes of a folder</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_disk_size</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the disk size in bytes of a folder&quot;&quot;&quot;</span>
    <span class="n">total_size</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">_dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">total_size</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">([</span>
            <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span><span class="o">.</span><span class="n">st_size</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
        <span class="p">])</span>
    <span class="k">return</span> <span class="n">total_size</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_drive_for_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_drive_for_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.get_drive_for_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the physical drive a file is located on</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_drive_for_path</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the physical drive a file is located on&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_mountpoint_drives</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">find_mount_point</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_existing_parent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_existing_parent</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.get_existing_parent" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the 1st existing parent for a folder (or itself if the path
exists and is a directory). returns None, when none of the parents exists.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_existing_parent</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the 1st existing parent for a folder (or itself if the path</span>
<span class="sd">    exists and is a directory). returns None, when none of the parents exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">path</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="k">return</span> <span class="n">get_existing_parent</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_file_checksum" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_file_checksum</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">)</span></code>


<a href="#lutris.util.system.get_file_checksum" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the checksum of type <code>hash_type</code> for a given filename</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_file_checksum</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">hash_type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the checksum of type `hash_type` for a given filename&quot;&quot;&quot;</span>
    <span class="n">hasher</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">hash_type</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">iter</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">input_file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">4096</span><span class="p">),</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
            <span class="n">hasher</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">hasher</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_md5_hash" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_md5_hash</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>


<a href="#lutris.util.system.get_md5_hash" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the md5 hash of a file.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_md5_hash</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the md5 hash of a file.&quot;&quot;&quot;</span>
    <span class="n">md5</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">_file</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">iter</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">_file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">8192</span><span class="p">),</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
                <span class="n">md5</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Error reading </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">md5</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_mounted_discs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_mounted_discs</span><span class="p">()</span></code>


<a href="#lutris.util.system.get_mounted_discs" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a list of mounted discs and ISOs</p>
<p>:rtype: list of Gio.Mount</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_mounted_discs</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return a list of mounted discs and ISOs</span>

<span class="sd">    :rtype: list of Gio.Mount</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">volumes</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">VolumeMonitor</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="n">drives</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">mount</span> <span class="ow">in</span> <span class="n">volumes</span><span class="o">.</span><span class="n">get_mounts</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">mount</span><span class="o">.</span><span class="n">get_volume</span><span class="p">():</span>
            <span class="n">device</span> <span class="o">=</span> <span class="n">mount</span><span class="o">.</span><span class="n">get_volume</span><span class="p">()</span><span class="o">.</span><span class="n">get_identifier</span><span class="p">(</span><span class="s2">&quot;unix-device&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">device</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;No device for mount </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">mount</span><span class="o">.</span><span class="n">get_name</span><span class="p">())</span>
                <span class="k">continue</span>

            <span class="c1"># Device is a disk drive or ISO image</span>
            <span class="k">if</span> <span class="s2">&quot;/dev/sr&quot;</span> <span class="ow">in</span> <span class="n">device</span> <span class="ow">or</span> <span class="s2">&quot;/dev/loop&quot;</span> <span class="ow">in</span> <span class="n">device</span><span class="p">:</span>
                <span class="n">drives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mount</span><span class="o">.</span><span class="n">get_root</span><span class="p">()</span><span class="o">.</span><span class="n">get_path</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">drives</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_mountpoint_drives" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_mountpoint_drives</span><span class="p">()</span></code>


<a href="#lutris.util.system.get_mountpoint_drives" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a mapping of mount points with their corresponding drives</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_mountpoint_drives</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return a mapping of mount points with their corresponding drives&quot;&quot;&quot;</span>
    <span class="n">mounts</span> <span class="o">=</span> <span class="n">read_process_output</span><span class="p">([</span><span class="s2">&quot;mount&quot;</span><span class="p">,</span> <span class="s2">&quot;-v&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">mount_map</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">mount</span> <span class="ow">in</span> <span class="n">mounts</span><span class="p">:</span>
        <span class="n">mount_parts</span> <span class="o">=</span> <span class="n">mount</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mount_parts</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">mount_map</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">mount_parts</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">mount_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">mount_map</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_pid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pid</span><span class="p">(</span><span class="n">program</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.system.get_pid" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return pid of process.</p>
<p>:param str program: Name of the process.
:param bool multiple: If True and multiple instances of the program exist,
    return all of them; if False only return the first one.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pid</span><span class="p">(</span><span class="n">program</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return pid of process.</span>

<span class="sd">    :param str program: Name of the process.</span>
<span class="sd">    :param bool multiple: If True and multiple instances of the program exist,</span>
<span class="sd">        return all of them; if False only return the first one.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pids</span> <span class="o">=</span> <span class="n">execute</span><span class="p">([</span><span class="s2">&quot;pgrep&quot;</span><span class="p">,</span> <span class="n">program</span><span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">pids</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
        <span class="k">return</span>
    <span class="n">pids</span> <span class="o">=</span> <span class="n">pids</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">multiple</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pids</span>
    <span class="k">return</span> <span class="n">pids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_pids_using_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pids_using_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.get_pids_using_file" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a set of pids using file <code>path</code>.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pids_using_file</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a set of pids using file `path`.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Can&#39;t return PIDs using non existing file: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">fuser_path</span> <span class="o">=</span> <span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;fuser&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fuser_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;fuser not available, please install psmisc&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">([])</span>
    <span class="n">fuser_output</span> <span class="o">=</span> <span class="n">execute</span><span class="p">([</span><span class="n">fuser_path</span><span class="p">,</span> <span class="n">path</span><span class="p">],</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">fuser_output</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.get_running_pid_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_running_pid_list</span><span class="p">()</span></code>


<a href="#lutris.util.system.get_running_pid_list" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the list of PIDs from processes currently running</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_running_pid_list</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of PIDs from processes currently running&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;/proc&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.is_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_executable</span><span class="p">(</span><span class="n">exec_path</span><span class="p">)</span></code>


<a href="#lutris.util.system.is_executable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return whether exec_path is an executable</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_executable</span><span class="p">(</span><span class="n">exec_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return whether exec_path is an executable&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">access</span><span class="p">(</span><span class="n">exec_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">X_OK</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.is_removeable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_removeable</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.is_removeable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Check if a folder is safe to remove (not system or home, ...)</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_removeable</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check if a folder is safe to remove (not system or home, ...)&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">parts</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;usr&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">,</span> <span class="s2">&quot;lib&quot;</span><span class="p">,</span> <span class="s2">&quot;etc&quot;</span><span class="p">,</span> <span class="s2">&quot;boot&quot;</span><span class="p">,</span> <span class="s2">&quot;sbin&quot;</span><span class="p">,</span> <span class="s2">&quot;bin&quot;</span><span class="p">):</span>
        <span class="c1"># Path is part of the system folders</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;home&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="n">PROTECTED_HOME_FOLDERS</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.kill_pid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">kill_pid</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span></code>


<a href="#lutris.util.system.kill_pid" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Terminate a process referenced by its PID</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">kill_pid</span><span class="p">(</span><span class="n">pid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Terminate a process referenced by its PID&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid pid </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Killing PID </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">kill</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">signal</span><span class="o">.</span><span class="n">SIGKILL</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Could not kill process </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.list_unique_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_unique_folders</span><span class="p">(</span><span class="n">folders</span><span class="p">)</span></code>


<a href="#lutris.util.system.list_unique_folders" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Deduplicate directories with the same Device.Inode</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_unique_folders</span><span class="p">(</span><span class="n">folders</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deduplicate directories with the same Device.Inode&quot;&quot;&quot;</span>
    <span class="n">unique_dirs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">folders</span><span class="p">:</span>
        <span class="n">folder_stat</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
        <span class="n">identifier</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">folder_stat</span><span class="o">.</span><span class="n">st_dev</span><span class="p">,</span> <span class="n">folder_stat</span><span class="o">.</span><span class="n">st_ino</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_dirs</span><span class="p">:</span>
            <span class="n">unique_dirs</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">folder</span>
    <span class="k">return</span> <span class="n">unique_dirs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.make_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_executable</span><span class="p">(</span><span class="n">exec_path</span><span class="p">)</span></code>


<a href="#lutris.util.system.make_executable" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">make_executable</span><span class="p">(</span><span class="n">exec_path</span><span class="p">):</span>
    <span class="n">file_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">exec_path</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">exec_path</span><span class="p">,</span> <span class="n">file_stats</span><span class="o">.</span><span class="n">st_mode</span> <span class="o">|</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IEXEC</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.merge_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">merge_folders</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span></code>


<a href="#lutris.util.system.merge_folders" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Merges the content of source to destination</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">merge_folders</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Merges the content of source to destination&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Merging </span><span class="si">%s</span><span class="s2"> into </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span>
    <span class="c1"># Check if dirs_exist_ok is defined ( Python &gt;= 3.8)</span>
    <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;dirs_exist_ok&quot;</span> <span class="ow">in</span> <span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">symlinks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_dangling_symlinks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dirs_exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">symlinks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_dangling_symlinks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.path_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">check_symlinks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">exclude_empty</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.system.path_exists" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Wrapper around system.path_exists that doesn't crash with empty values</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>File to the file to check</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>check_symlinks</code></td>
        <td><code>bool</code></td>
        <td><p>If the path is a broken symlink, return False</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>exclude_empty</code></td>
        <td><code>bool</code></td>
        <td><p>If true, consider 0 bytes files as non existing</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">path_exists</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">check_symlinks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">exclude_empty</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around system.path_exists that doesn&#39;t crash with empty values</span>

<span class="sd">    Params:</span>
<span class="sd">        path (str): File to the file to check</span>
<span class="sd">        check_symlinks (bool): If the path is a broken symlink, return False</span>
<span class="sd">        exclude_empty (bool): If true, consider 0 bytes files as non existing</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">exclude_empty</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is a broken link&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">check_symlinks</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.python_identifier" class="doc doc-heading">
<code class="highlight language-python"><span class="n">python_identifier</span><span class="p">(</span><span class="n">unsafe_string</span><span class="p">)</span></code>


<a href="#lutris.util.system.python_identifier" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Converts a string to something that can be used as a python variable</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">python_identifier</span><span class="p">(</span><span class="n">unsafe_string</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts a string to something that can be used as a python variable&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">unsafe_string</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Cannot convert </span><span class="si">%s</span><span class="s2"> to a python identifier&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">unsafe_string</span><span class="p">))</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">_dashrepl</span><span class="p">(</span><span class="n">matchobj</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">matchobj</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\${)([\w-]*)(})&quot;</span><span class="p">,</span> <span class="n">_dashrepl</span><span class="p">,</span> <span class="n">unsafe_string</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.read_process_output" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_process_output</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></code>


<a href="#lutris.util.system.read_process_output" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the output of a command as a string</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_process_output</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the output of a command as a string&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span>
            <span class="n">command</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span>
            <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span>
        <span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span><span class="p">,</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">TimeoutExpired</span><span class="p">)</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> command failed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.remove_folder" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_folder</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.remove_folder" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Delete a folder specified by path
Returns true if the folder was successfully removed.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_folder</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Delete a folder specified by path</span>
<span class="sd">    Returns true if the folder was successfully removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Non existent path: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Removing folder </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">samefile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">),</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Lutris tried to erase home directory!&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to remove folder </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2"> (Error code </span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">ex</span><span class="o">.</span><span class="n">strerror</span><span class="p">,</span> <span class="n">ex</span><span class="o">.</span><span class="n">errno</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.reset_library_preloads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reset_library_preloads</span><span class="p">()</span></code>


<a href="#lutris.util.system.reset_library_preloads" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Remove library preloads from environment</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">reset_library_preloads</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Remove library preloads from environment&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;LD_LIBRARY_PATH&quot;</span><span class="p">,</span> <span class="s2">&quot;LD_PRELOAD&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to delete environment variable </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.reverse_expanduser" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reverse_expanduser</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.system.reverse_expanduser" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Replace '/home/username' with '~' in given path.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">reverse_expanduser</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Replace &#39;/home/username&#39; with &#39;~&#39; in given path.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="n">user_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">user_path</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">user_path</span><span class="p">):]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;~/&quot;</span> <span class="o">+</span> <span class="n">path</span>
    <span class="k">return</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.substitute" class="doc doc-heading">
<code class="highlight language-python"><span class="n">substitute</span><span class="p">(</span><span class="n">string_template</span><span class="p">,</span> <span class="n">variables</span><span class="p">)</span></code>


<a href="#lutris.util.system.substitute" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Expand variables on a string template</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>string_template</code></td>
        <td><code>str</code></td>
        <td><p>template with variables preceded by $</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>variables</code></td>
        <td><code>dict</code></td>
        <td><p>mapping of variable identifier &gt; value</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>String with substituted values</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">substitute</span><span class="p">(</span><span class="n">string_template</span><span class="p">,</span> <span class="n">variables</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Expand variables on a string template</span>

<span class="sd">    Args:</span>
<span class="sd">        string_template (str): template with variables preceded by $</span>
<span class="sd">        variables (dict): mapping of variable identifier &gt; value</span>

<span class="sd">    Return:</span>
<span class="sd">        str: String with substituted values</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">string_template</span> <span class="o">=</span> <span class="n">python_identifier</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">string_template</span><span class="p">))</span>
    <span class="n">identifiers</span> <span class="o">=</span> <span class="n">variables</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="c1"># We support dashes in identifiers but they are not valid in python</span>
    <span class="c1"># identifiers, which is a requirement for the templating engine we use</span>
    <span class="c1"># Replace the dashes with underscores in the mapping and template</span>
    <span class="n">variables</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">k</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">),</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">variables</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
        <span class="n">string_template</span> <span class="o">=</span> <span class="n">string_template</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">identifier</span><span class="p">),</span> <span class="s2">&quot;$</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">identifier</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)))</span>

    <span class="n">template</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="n">string_template</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">string_template</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">variables</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">return</span> <span class="n">variables</span><span class="p">[</span><span class="n">string_template</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">template</span><span class="o">.</span><span class="n">safe_substitute</span><span class="p">(</span><span class="n">variables</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.system.update_desktop_icons" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_desktop_icons</span><span class="p">()</span></code>


<a href="#lutris.util.system.update_desktop_icons" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Update Icon for GTK+ desktop manager
Other desktop manager icon cache commands must be added here if needed</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/system.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_desktop_icons</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Update Icon for GTK+ desktop manager</span>
<span class="sd">    Other desktop manager icon cache commands must be added here if needed</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;gtk-update-icon-cache&quot;</span><span class="p">):</span>
        <span class="n">execute</span><span class="p">([</span><span class="s2">&quot;gtk-update-icon-cache&quot;</span><span class="p">,</span> <span class="s2">&quot;-tf&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">GLib</span><span class="o">.</span><span class="n">get_user_data_dir</span><span class="p">(),</span> <span class="s2">&quot;icons/hicolor&quot;</span><span class="p">)],</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">execute</span><span class="p">([</span><span class="s2">&quot;gtk-update-icon-cache&quot;</span><span class="p">,</span> <span class="s2">&quot;-tf&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;icons/hicolor&quot;</span><span class="p">)],</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.test_config" class="doc doc-heading">
        <code>test_config</code>



<a href="#lutris.util.test_config" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.test_config.setup_test_environment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setup_test_environment</span><span class="p">()</span></code>


<a href="#lutris.util.test_config.setup_test_environment" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Sets up a system to be able to run tests</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/test_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setup_test_environment</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Sets up a system to be able to run tests&quot;&quot;&quot;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;LUTRIS_SKIP_INIT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
    <span class="n">schema</span><span class="o">.</span><span class="n">syncdb</span><span class="p">()</span>
    <span class="n">startup</span><span class="o">.</span><span class="n">init_lutris</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.timer" class="doc doc-heading">
        <code>timer</code>



<a href="#lutris.util.timer" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Timer module</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="lutris.util.timer.Timer" class="doc doc-heading">
        <code>
Timer        </code>



<a href="#lutris.util.timer.Timer" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Simple Timer class to time code</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/timer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Timer</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Simple Timer class to time code&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Starts the timer&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Ends the timer&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">duration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the total duration of the timer&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">finished</span><span class="p">:</span>
            <span class="n">_duration</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">)</span><span class="o">.</span><span class="n">seconds</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_duration</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">)</span><span class="o">.</span><span class="n">seconds</span>

        <span class="k">return</span> <span class="n">_duration</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.timer.Timer.duration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">duration</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.timer.Timer.duration" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the total duration of the timer</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h4 id="lutris.util.timer.Timer.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.timer.Timer.__init__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/timer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.timer.Timer.end" class="doc doc-heading">
<code class="highlight language-python"><span class="n">end</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.timer.Timer.end" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Ends the timer</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/timer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ends the timer&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="lutris.util.timer.Timer.start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.timer.Timer.start" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Starts the timer</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/timer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Starts the timer&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.update_cache" class="doc doc-heading">
        <code>update_cache</code>



<a href="#lutris.util.update_cache" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Manage a cache file of execution times for updates</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.update_cache.DATE_FORMAT" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DATE_FORMAT</span></code>


<a href="#lutris.util.update_cache.DATE_FORMAT" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="lutris.util.update_cache.UPDATE_CACHE_PATH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">UPDATE_CACHE_PATH</span></code>


<a href="#lutris.util.update_cache.UPDATE_CACHE_PATH" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h3 id="lutris.util.update_cache.get_last_call" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_last_call</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>


<a href="#lutris.util.update_cache.get_last_call" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the time in second since the last update for 'key' was made</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/update_cache.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_last_call</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the time in second since the last update for &#39;key&#39; was made&quot;&quot;&quot;</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">read_date_from_cache</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">date</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">date</span>
    <span class="k">return</span> <span class="n">delta</span><span class="o">.</span><span class="n">seconds</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.update_cache.read_date_from_cache" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_date_from_cache</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>


<a href="#lutris.util.update_cache.read_date_from_cache" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return a datetime object from 'key'</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/update_cache.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_date_from_cache</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a datetime object from &#39;key&#39;&quot;&quot;&quot;</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="n">_read_cache_content</span><span class="p">()</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">date</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">DATE_FORMAT</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">date</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.update_cache.write_date_to_cache" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_date_to_cache</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>


<a href="#lutris.util.update_cache.write_date_to_cache" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Write current time to the cache for 'key'</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/update_cache.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_date_to_cache</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Write current time to the cache for &#39;key&#39;&quot;&quot;&quot;</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="n">_read_cache_content</span><span class="p">()</span>
    <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">DATE_FORMAT</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">UPDATE_CACHE_PATH</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">cache</span><span class="p">,</span> <span class="n">json_file</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.urlhandler" class="doc doc-heading">
        <code>urlhandler</code>



<a href="#lutris.util.urlhandler" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Unused handler registration but since someone reports problems with URL
integration once in a while, it could prove itself useful.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.urlhandler.register_url_handler" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_url_handler</span><span class="p">()</span></code>


<a href="#lutris.util.urlhandler.register_url_handler" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Register the lutris: protocol to open with the application.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/urlhandler.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_url_handler</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Register the lutris: protocol to open with the application.&quot;&quot;&quot;</span>
    <span class="n">executable</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">base_key</span> <span class="o">=</span> <span class="s2">&quot;desktop.gnome.url-handlers.lutris&quot;</span>
    <span class="n">schema_directory</span> <span class="o">=</span> <span class="s2">&quot;/usr/share/glib-2.0/schemas/&quot;</span>
    <span class="n">schema_source</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">SettingsSchemaSource</span><span class="o">.</span><span class="n">new_from_directory</span><span class="p">(</span><span class="n">schema_directory</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">schema</span> <span class="o">=</span> <span class="n">schema_source</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">base_key</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">schema</span><span class="p">:</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">Gio</span><span class="o">.</span><span class="n">Settings</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">base_key</span><span class="p">)</span>
        <span class="n">settings</span><span class="o">.</span><span class="n">set_string</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="n">executable</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Schema not installed, cannot register url-handler&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.wine" class="doc doc-heading">
        <code>wine</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.cabinstall" class="doc doc-heading">
        <code>cabinstall</code>



<a href="#lutris.util.wine.cabinstall" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.cabinstall.CabInstaller" class="doc doc-heading">
        <code>
CabInstaller        </code>



<a href="#lutris.util.wine.cabinstall.CabInstaller" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Extract and install contents of cab files</p>
<p>Based on an implementation by tonix64: <a href="https://github.com/tonix64/python-installcab">https://github.com/tonix64/python-installcab</a></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CabInstaller</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Extract and install contents of cab files</span>

<span class="sd">    Based on an implementation by tonix64: https://github.com/tonix64/python-installcab</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">winearch</span> <span class="o">=</span> <span class="n">arch</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_wineprefix_arch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wine_path</span> <span class="o">=</span> <span class="n">wine_path</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">register_dlls</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Whether to register DLLs, I don&#39;t the purpose of that</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">strip_dlls</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># When registering, strip the full path</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">process_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;I have no clue why&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;HKEY_CLASSES_ROOT&quot;</span><span class="p">,</span> <span class="s2">&quot;HKEY_LOCAL_MACHINE</span><span class="se">\\</span><span class="s2">Software</span><span class="se">\\</span><span class="s2">Classes&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_arch_from_manifest</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
        <span class="n">registry_keys</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;{urn:schemas-microsoft-com:asm.v3}assemblyIdentity&quot;</span><span class="p">)</span>
        <span class="n">arch</span> <span class="o">=</span> <span class="n">registry_keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;processorArchitecture&quot;</span><span class="p">]</span>
        <span class="n">arch_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;amd64&quot;</span><span class="p">:</span> <span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="s2">&quot;x86&quot;</span><span class="p">:</span> <span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;wow64&quot;</span><span class="p">:</span> <span class="s2">&quot;wow64&quot;</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">arch_map</span><span class="p">[</span><span class="n">arch</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_winebin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
        <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wine_path</span> <span class="ow">or</span> <span class="s2">&quot;wine&quot;</span>
        <span class="k">return</span> <span class="n">wine_path</span> <span class="k">if</span> <span class="n">arch</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;wow64&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">wine_path</span> <span class="o">+</span> <span class="s2">&quot;64&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_arch_from_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;x86-64&quot;</span> <span class="ow">in</span> <span class="n">read_process_output</span><span class="p">([</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">]):</span>
            <span class="k">return</span> <span class="s2">&quot;win64&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;win32&quot;</span>

    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Cleaning up </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_dll_arch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch_from_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">replace_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;$(&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.help)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">help&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.inf)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">inf&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.wbem)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">wbem&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.windows)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.ProgramFiles)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Program Files&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.programFiles)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Program Files&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.programFilesX86)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Program Files (x86)&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.system32)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system32_realdir</span><span class="p">(</span><span class="n">arch</span><span class="p">))</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                <span class="s2">&quot;$(runtime.drivers)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="si">%s</span><span class="se">\\</span><span class="s2">drivers&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system32_realdir</span><span class="p">(</span><span class="n">arch</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">process_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_value</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="n">reg_value</span><span class="o">.</span><span class="n">attrib</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
        <span class="n">value_type</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;valueType&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;@&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">name</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">replace_variables</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_BINARY&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;hex:&quot;</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_DWORD&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;dword:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;0x&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_QWORD&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;qword:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;0x&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_NONE&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_EXPAND_SZ&quot;</span><span class="p">:</span>
            <span class="c1"># not sure if we should replace this ones at this point:</span>
            <span class="c1"># caps can vary in the pattern</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%SystemRoot%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%ProgramFiles%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Program Files&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%WinDir%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%ResourceDir%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%Public%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">users</span><span class="se">\\</span><span class="s2">Public&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%Lo</span><span class="s2">calAppData%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Public</span><span class="se">\\</span><span class="s2">Local Settings</span><span class="se">\\</span><span class="s2">Application Data&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%AllUsersProfile%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%UserProfile%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%ProgramData%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">ProgramData&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">value</span>
        <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_SZ&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;warning unkown type: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">replace_variables</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">strip_dlls</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;.dll&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\\\\</span><span class="s2">windows</span><span class="se">\\\\</span><span class="s2">system32</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\\\\</span><span class="s2">windows</span><span class="se">\\\\</span><span class="s2">syswow64</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">get_registry_from_manifest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">):</span>
        <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">ElementTree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
        <span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch_from_manifest</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="n">registry_keys</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;{urn:schemas-microsoft-com:asm.v3}registryKeys&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">registry_keys</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">registry_key</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">registry_keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_key</span><span class="p">(</span><span class="n">registry_key</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;keyName&quot;</span><span class="p">])</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;[</span><span class="si">%s</span><span class="s2">]</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">key</span>
                <span class="k">for</span> <span class="n">reg_value</span> <span class="ow">in</span> <span class="n">registry_key</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;{urn:schemas-microsoft-com:asm.v3}registryValue&quot;</span><span class="p">):</span>
                    <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_value</span><span class="p">(</span><span class="n">reg_value</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">=</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_wineprefix_arch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;system.reg&quot;</span><span class="p">),</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reg_file</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">reg_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#arch=win32&quot;</span><span class="p">):</span>
                    <span class="k">return</span> <span class="s2">&quot;win32&quot;</span>
                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#arch=win64&quot;</span><span class="p">):</span>
                    <span class="k">return</span> <span class="s2">&quot;win64&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;win64&quot;</span>

    <span class="k">def</span> <span class="nf">get_system32_realdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
        <span class="n">dest_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="p">(</span><span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="s2">&quot;win32&quot;</span><span class="p">):</span> <span class="s2">&quot;Syswow64&quot;</span><span class="p">,</span>
            <span class="p">(</span><span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="s2">&quot;win64&quot;</span><span class="p">):</span> <span class="s2">&quot;System32&quot;</span><span class="p">,</span>
            <span class="p">(</span><span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="s2">&quot;wow64&quot;</span><span class="p">):</span> <span class="s2">&quot;System32&quot;</span><span class="p">,</span>
            <span class="p">(</span><span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;win32&quot;</span><span class="p">):</span> <span class="s2">&quot;System32&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">dest_map</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">winearch</span><span class="p">,</span> <span class="n">arch</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">get_dll_destdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch_from_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">winearch</span> <span class="o">==</span> <span class="s2">&quot;win64&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows/syswow64&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows/system32&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">install_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">):</span>
        <span class="n">dest_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dll_destdir</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Copying </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">,</span> <span class="n">dest_dir</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">dll_path</span><span class="p">,</span> <span class="n">dest_dir</span><span class="p">)</span>

        <span class="n">dest_dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dest_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">dll_path</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_dlls</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch_from_dll</span><span class="p">(</span><span class="n">dest_dll_path</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_winebin</span><span class="p">(</span><span class="n">arch</span><span class="p">),</span> <span class="s2">&quot;regsvr32&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">dest_dll_path</span><span class="p">)])</span>

    <span class="k">def</span> <span class="nf">get_registry_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_files</span><span class="p">):</span>
        <span class="n">reg_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">output_files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.manifest&quot;</span><span class="p">):</span>
                <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;Windows Registry Editor Version 5.00</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="n">outdata</span><span class="p">,</span> <span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_registry_from_manifest</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">outdata</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="n">outdata</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">,</span> <span class="n">file_path</span> <span class="o">+</span> <span class="s2">&quot;.reg&quot;</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reg_file</span><span class="p">:</span>
                        <span class="n">reg_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
                    <span class="n">reg_files</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">file_path</span> <span class="o">+</span> <span class="s2">&quot;.reg&quot;</span><span class="p">,</span> <span class="n">arch</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.dll&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">install_dll</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">reg_files</span>

    <span class="k">def</span> <span class="nf">apply_to_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Applying </span><span class="si">%s</span><span class="s2"> to registry&quot;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_winebin</span><span class="p">(</span><span class="n">arch</span><span class="p">),</span> <span class="s2">&quot;regedit&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)])</span>

    <span class="k">def</span> <span class="nf">extract_from_cab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Extracts files matching a `component` name from a `cabfile`</span>

<span class="sd">        Params:</span>
<span class="sd">            cabfile (str): Path to a cabfile to extract from</span>
<span class="sd">            component (str): component to extract from the cab file</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: Files extracted from the cab file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">execute</span><span class="p">([</span><span class="s2">&quot;cabextract&quot;</span><span class="p">,</span> <span class="s2">&quot;-F&quot;</span><span class="p">,</span> <span class="s2">&quot;*</span><span class="si">%s</span><span class="s2">*&quot;</span> <span class="o">%</span> <span class="n">component</span><span class="p">,</span> <span class="s2">&quot;-d&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">)</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">f</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Install `component` from `cabfile`&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Installing </span><span class="si">%s</span><span class="s2"> from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_registry_files</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_from_cab</span><span class="p">(</span><span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">apply_to_registry</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.cabinstall.CabInstaller.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">winearch</span> <span class="o">=</span> <span class="n">arch</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_wineprefix_arch</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wine_path</span> <span class="o">=</span> <span class="n">wine_path</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">register_dlls</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Whether to register DLLs, I don&#39;t the purpose of that</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">strip_dlls</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># When registering, strip the full path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.apply_to_registry" class="doc doc-heading">
<code class="highlight language-python"><span class="n">apply_to_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.apply_to_registry" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">apply_to_registry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Applying </span><span class="si">%s</span><span class="s2"> to registry&quot;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_winebin</span><span class="p">(</span><span class="n">arch</span><span class="p">),</span> <span class="s2">&quot;regedit&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.check_dll_arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_dll_arch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.check_dll_arch" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_dll_arch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch_from_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.cleanup" class="doc doc-heading">
<code class="highlight language-python"><span class="n">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.cleanup" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Cleaning up </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">)</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.extract_from_cab" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_from_cab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.extract_from_cab" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Extracts files matching a <code>component</code> name from a <code>cabfile</code></p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>cabfile</code></td>
        <td><code>str</code></td>
        <td><p>Path to a cabfile to extract from</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component</code></td>
        <td><code>str</code></td>
        <td><p>component to extract from the cab file</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>list</code></td>
      <td><p>Files extracted from the cab file</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_from_cab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extracts files matching a `component` name from a `cabfile`</span>

<span class="sd">    Params:</span>
<span class="sd">        cabfile (str): Path to a cabfile to extract from</span>
<span class="sd">        component (str): component to extract from the cab file</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: Files extracted from the cab file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">execute</span><span class="p">([</span><span class="s2">&quot;cabextract&quot;</span><span class="p">,</span> <span class="s2">&quot;-F&quot;</span><span class="p">,</span> <span class="s2">&quot;*</span><span class="si">%s</span><span class="s2">*&quot;</span> <span class="o">%</span> <span class="n">component</span><span class="p">,</span> <span class="s2">&quot;-d&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">)</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">f</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.get_arch_from_dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_arch_from_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.wine.cabinstall.CabInstaller.get_arch_from_dll" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_arch_from_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;x86-64&quot;</span> <span class="ow">in</span> <span class="n">read_process_output</span><span class="p">([</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">]):</span>
        <span class="k">return</span> <span class="s2">&quot;win64&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;win32&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.get_arch_from_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_arch_from_manifest</span><span class="p">(</span><span class="n">root</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.wine.cabinstall.CabInstaller.get_arch_from_manifest" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_arch_from_manifest</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
    <span class="n">registry_keys</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;{urn:schemas-microsoft-com:asm.v3}assemblyIdentity&quot;</span><span class="p">)</span>
    <span class="n">arch</span> <span class="o">=</span> <span class="n">registry_keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;processorArchitecture&quot;</span><span class="p">]</span>
    <span class="n">arch_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;amd64&quot;</span><span class="p">:</span> <span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="s2">&quot;x86&quot;</span><span class="p">:</span> <span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;wow64&quot;</span><span class="p">:</span> <span class="s2">&quot;wow64&quot;</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">arch_map</span><span class="p">[</span><span class="n">arch</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.get_dll_destdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_dll_destdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.get_dll_destdir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_dll_destdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch_from_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">winearch</span> <span class="o">==</span> <span class="s2">&quot;win64&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows/syswow64&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows/system32&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.get_registry_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_registry_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_files</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.get_registry_files" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_registry_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_files</span><span class="p">):</span>
    <span class="n">reg_files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">output_files</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.manifest&quot;</span><span class="p">):</span>
            <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;Windows Registry Editor Version 5.00</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="n">outdata</span><span class="p">,</span> <span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_registry_from_manifest</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">outdata</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="n">outdata</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpdir</span><span class="p">,</span> <span class="n">file_path</span> <span class="o">+</span> <span class="s2">&quot;.reg&quot;</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reg_file</span><span class="p">:</span>
                    <span class="n">reg_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
                <span class="n">reg_files</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">file_path</span> <span class="o">+</span> <span class="s2">&quot;.reg&quot;</span><span class="p">,</span> <span class="n">arch</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">file_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.dll&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">install_dll</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">reg_files</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.get_registry_from_manifest" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_registry_from_manifest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.get_registry_from_manifest" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_registry_from_manifest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">ElementTree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
    <span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch_from_manifest</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="n">registry_keys</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;{urn:schemas-microsoft-com:asm.v3}registryKeys&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">registry_keys</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">registry_key</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">registry_keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_key</span><span class="p">(</span><span class="n">registry_key</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s2">&quot;keyName&quot;</span><span class="p">])</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;[</span><span class="si">%s</span><span class="s2">]</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">key</span>
            <span class="k">for</span> <span class="n">reg_value</span> <span class="ow">in</span> <span class="n">registry_key</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;{urn:schemas-microsoft-com:asm.v3}registryValue&quot;</span><span class="p">):</span>
                <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_value</span><span class="p">(</span><span class="n">reg_value</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">=</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.get_system32_realdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_system32_realdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.get_system32_realdir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_system32_realdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
    <span class="n">dest_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">(</span><span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="s2">&quot;win32&quot;</span><span class="p">):</span> <span class="s2">&quot;Syswow64&quot;</span><span class="p">,</span>
        <span class="p">(</span><span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="s2">&quot;win64&quot;</span><span class="p">):</span> <span class="s2">&quot;System32&quot;</span><span class="p">,</span>
        <span class="p">(</span><span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="s2">&quot;wow64&quot;</span><span class="p">):</span> <span class="s2">&quot;System32&quot;</span><span class="p">,</span>
        <span class="p">(</span><span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;win32&quot;</span><span class="p">):</span> <span class="s2">&quot;System32&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">dest_map</span><span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">winearch</span><span class="p">,</span> <span class="n">arch</span><span class="p">)]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.get_winebin" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_winebin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.get_winebin" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_winebin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
    <span class="n">wine_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wine_path</span> <span class="ow">or</span> <span class="s2">&quot;wine&quot;</span>
    <span class="k">return</span> <span class="n">wine_path</span> <span class="k">if</span> <span class="n">arch</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="s2">&quot;wow64&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">wine_path</span> <span class="o">+</span> <span class="s2">&quot;64&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.get_wineprefix_arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_wineprefix_arch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.get_wineprefix_arch" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_wineprefix_arch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;system.reg&quot;</span><span class="p">),</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reg_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">reg_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#arch=win32&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;win32&quot;</span>
            <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#arch=win64&quot;</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;win64&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;win64&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.install" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.install" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Install <code>component</code> from <code>cabfile</code></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Install `component` from `cabfile`&quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Installing </span><span class="si">%s</span><span class="s2"> from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">cabfile</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_registry_files</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_from_cab</span><span class="p">(</span><span class="n">cabfile</span><span class="p">,</span> <span class="n">component</span><span class="p">)):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_to_registry</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.install_dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">install_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.install_dll" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">install_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">):</span>
    <span class="n">dest_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dll_destdir</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Copying </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">,</span> <span class="n">dest_dir</span><span class="p">)</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">dll_path</span><span class="p">,</span> <span class="n">dest_dir</span><span class="p">)</span>

    <span class="n">dest_dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dest_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">dll_path</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">register_dlls</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_arch_from_dll</span><span class="p">(</span><span class="n">dest_dll_path</span><span class="p">)</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">get_winebin</span><span class="p">(</span><span class="n">arch</span><span class="p">),</span> <span class="s2">&quot;regsvr32&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">dest_dll_path</span><span class="p">)])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.process_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.wine.cabinstall.CabInstaller.process_key" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>I have no clue why</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">process_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;I have no clue why&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;HKEY_CLASSES_ROOT&quot;</span><span class="p">,</span> <span class="s2">&quot;HKEY_LOCAL_MACHINE</span><span class="se">\\</span><span class="s2">Software</span><span class="se">\\</span><span class="s2">Classes&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.process_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">process_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_value</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.process_value" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">process_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_value</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
    <span class="n">attrs</span> <span class="o">=</span> <span class="n">reg_value</span><span class="o">.</span><span class="n">attrib</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
    <span class="n">value_type</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;valueType&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;@&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">name</span>
    <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">replace_variables</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_BINARY&quot;</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;hex:&quot;</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_DWORD&quot;</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;dword:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;0x&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_QWORD&quot;</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;qword:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;0x&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_NONE&quot;</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_EXPAND_SZ&quot;</span><span class="p">:</span>
        <span class="c1"># not sure if we should replace this ones at this point:</span>
        <span class="c1"># caps can vary in the pattern</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%SystemRoot%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%ProgramFiles%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Program Files&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%WinDir%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%ResourceDir%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%Public%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">users</span><span class="se">\\</span><span class="s2">Public&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%Lo</span><span class="s2">calAppData%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Public</span><span class="se">\\</span><span class="s2">Local Settings</span><span class="se">\\</span><span class="s2">Application Data&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%AllUsersProfile%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%UserProfile%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%ProgramData%&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">ProgramData&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">value</span>
    <span class="k">elif</span> <span class="n">value_type</span> <span class="o">==</span> <span class="s2">&quot;REG_SZ&quot;</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;warning unkown type: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">value_type</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">value</span>
    <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">replace_variables</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">strip_dlls</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;.dll&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\\\\</span><span class="s2">windows</span><span class="se">\\\\</span><span class="s2">system32</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;c:</span><span class="se">\\\\</span><span class="s2">windows</span><span class="se">\\\\</span><span class="s2">syswow64</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.cabinstall.CabInstaller.replace_variables" class="doc doc-heading">
<code class="highlight language-python"><span class="n">replace_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span></code>


<a href="#lutris.util.wine.cabinstall.CabInstaller.replace_variables" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/cabinstall.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">replace_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">arch</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;$(&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.help)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">help&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.inf)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">inf&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.wbem)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">wbem&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.windows)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.ProgramFiles)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Program Files&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.programFiles)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Program Files&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.programFilesX86)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="s2">Program Files (x86)&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$(runtime.system32)&quot;</span><span class="p">,</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system32_realdir</span><span class="p">(</span><span class="n">arch</span><span class="p">))</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
            <span class="s2">&quot;$(runtime.drivers)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">windows</span><span class="se">\\</span><span class="si">%s</span><span class="se">\\</span><span class="s2">drivers&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_system32_realdir</span><span class="p">(</span><span class="n">arch</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.d3d_extras" class="doc doc-heading">
        <code>d3d_extras</code>



<a href="#lutris.util.wine.d3d_extras" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.d3d_extras.D3DExtrasManager" class="doc doc-heading">
        <code>
D3DExtrasManager            (<a class="autorefs autorefs-internal" title="lutris.util.wine.dll_manager.DLLManager" href="wine/dll_manager/#lutris.util.wine.dll_manager.DLLManager">DLLManager</a>)
        </code>



<a href="#lutris.util.wine.d3d_extras.D3DExtrasManager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/d3d_extras.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">D3DExtrasManager</span><span class="p">(</span><span class="n">DLLManager</span><span class="p">):</span>
    <span class="n">component</span> <span class="o">=</span> <span class="s2">&quot;D3D Extras&quot;</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;d3d_extras&quot;</span><span class="p">)</span>
    <span class="n">versions_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s2">&quot;d3d_extras_versions.json&quot;</span><span class="p">)</span>
    <span class="n">managed_dlls</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;d3dx10_33&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_34&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_35&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_36&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_37&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_38&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;d3dx10_39&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_40&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_41&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_42&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10_43&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx10&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;d3dx11_42&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx11_43&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_24&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_25&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_26&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_27&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;d3dx9_28&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_29&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_30&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_31&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_32&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_33&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;d3dx9_34&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_35&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_36&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_37&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_38&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_39&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;d3dx9_40&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_41&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_42&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dx9_43&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_33&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;d3dcompiler_34&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_35&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_36&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_37&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;d3dcompiler_38&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_39&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_40&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_41&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;d3dcompiler_42&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_43&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_46&quot;</span><span class="p">,</span> <span class="s2">&quot;d3dcompiler_47&quot;</span><span class="p">,)</span>
    <span class="n">releases_url</span> <span class="o">=</span> <span class="s2">&quot;https://api.github.com/repos/lutris/d3d_extras/releases&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.d3d_extras.D3DExtrasManager.base_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_dir</span></code>


<a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.base_dir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.d3d_extras.D3DExtrasManager.component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">component</span></code>


<a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.component" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.d3d_extras.D3DExtrasManager.managed_dlls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">managed_dlls</span></code>


<a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.managed_dlls" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.d3d_extras.D3DExtrasManager.releases_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">releases_url</span></code>


<a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.releases_url" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.d3d_extras.D3DExtrasManager.versions_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">versions_path</span></code>


<a href="#lutris.util.wine.d3d_extras.D3DExtrasManager.versions_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.dgvoodoo2" class="doc doc-heading">
        <code>dgvoodoo2</code>



<a href="#lutris.util.wine.dgvoodoo2" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.dgvoodoo2.dgvoodoo2Manager" class="doc doc-heading">
        <code>
dgvoodoo2Manager            (<a class="autorefs autorefs-internal" title="lutris.util.wine.dll_manager.DLLManager" href="wine/dll_manager/#lutris.util.wine.dll_manager.DLLManager">DLLManager</a>)
        </code>



<a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dgvoodoo2.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">dgvoodoo2Manager</span><span class="p">(</span><span class="n">DLLManager</span><span class="p">):</span>
    <span class="n">component</span> <span class="o">=</span> <span class="s2">&quot;dgvoodoo2&quot;</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;dgvoodoo2&quot;</span><span class="p">)</span>
    <span class="n">versions_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s2">&quot;dgvoodoo2_versions.json&quot;</span><span class="p">)</span>
    <span class="n">managed_dlls</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;d3dimm&quot;</span><span class="p">,</span> <span class="s2">&quot;ddraw&quot;</span><span class="p">,</span> <span class="s2">&quot;glide&quot;</span><span class="p">,</span> <span class="s2">&quot;glide2x&quot;</span><span class="p">,</span> <span class="s2">&quot;glide3x&quot;</span><span class="p">,</span> <span class="p">)</span>
    <span class="n">managed_appdata_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dgVoodoo/dgVoodoo.conf&quot;</span><span class="p">]</span>
    <span class="n">releases_url</span> <span class="o">=</span> <span class="s2">&quot;https://api.github.com/repos/lutris/dgvoodoo2/releases&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.base_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_dir</span></code>


<a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.base_dir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">component</span></code>


<a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.component" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.managed_appdata_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">managed_appdata_files</span></code>


<a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.managed_appdata_files" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.managed_dlls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">managed_dlls</span></code>


<a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.managed_dlls" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.releases_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">releases_url</span></code>


<a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.releases_url" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.versions_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">versions_path</span></code>


<a href="#lutris.util.wine.dgvoodoo2.dgvoodoo2Manager.versions_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.dll_manager" class="doc doc-heading">
        <code>dll_manager</code>



<a href="#lutris.util.wine.dll_manager" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Injects sets of DLLs into a prefix</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.dll_manager.DLLManager" class="doc doc-heading">
        <code>
DLLManager        </code>



<a href="#lutris.util.wine.dll_manager.DLLManager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Utility class to install dlls to a Wine prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DLLManager</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Utility class to install dlls to a Wine prefix&quot;&quot;&quot;</span>
    <span class="n">component</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">managed_dlls</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">managed_appdata_files</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># most managers have none</span>
    <span class="n">versions_path</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">releases_url</span> <span class="o">=</span> <span class="bp">NotImplemented</span>
    <span class="n">archs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">32</span><span class="p">:</span> <span class="s2">&quot;x32&quot;</span><span class="p">,</span>
        <span class="mi">64</span><span class="p">:</span> <span class="s2">&quot;x64&quot;</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_versions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="n">version</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span> <span class="o">=</span> <span class="n">arch</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">versions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return available versions&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_versions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_versions</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_versions</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_versions</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_versions</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return version (latest known version if not provided)&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_version</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_version</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">versions</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">versions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Path to local folder containing DLLs&quot;&quot;&quot;</span>
        <span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;No path can be generated for </span><span class="si">%s</span><span class="s2"> because no version information is available.&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">version_choices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_choices</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Manual&quot;</span><span class="p">),</span> <span class="s2">&quot;manual&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">versions</span><span class="p">:</span>
            <span class="n">_choices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">version</span><span class="p">,</span> <span class="n">version</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_choices</span>

    <span class="k">def</span> <span class="nf">load_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">version_file</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">versions</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;tag_name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">version_file</span><span class="p">)]</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">decoder</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid versions file </span><span class="si">%s</span><span class="s2">, deleting so it is downloaded on next start.&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span>
                <span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">versions</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">is_managed_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if a given DLL path is provided by the component&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">is_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return whether component is cached locally&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dll_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if the dll is provided by the component</span>
<span class="sd">        The DLL might not be available for all architectures so</span>
<span class="sd">        only check if one exists for the supported ones</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll_name</span> <span class="o">+</span> <span class="s2">&quot;.dll&quot;</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">archs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_download_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Fetch the download URL from the JSON version file&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">version_file</span><span class="p">:</span>
            <span class="n">releases</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">version_file</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">release</span> <span class="ow">in</span> <span class="n">releases</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">release</span><span class="p">[</span><span class="s2">&quot;tag_name&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">return</span> <span class="n">release</span><span class="p">[</span><span class="s2">&quot;assets&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;browser_download_url&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Download component to the local cache; returns True if successful but False</span>
<span class="sd">        if the component could not be downloaded.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> already available at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_download_url</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Could not find a release for </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">archive_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Downloading </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">archive_path</span><span class="p">)</span>
        <span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">archive_path</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to download </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">archive_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
        <span class="n">extract_archive</span><span class="p">(</span><span class="n">archive_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">enable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Copies dlls to the appropriate destination&quot;&quot;&quot;</span>
        <span class="n">dll</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">dll_path</span><span class="p">):</span>
            <span class="n">wine_dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_managed_dll</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">):</span>
                    <span class="c1"># Backing up original version (may not be needed)</span>
                    <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">,</span> <span class="n">wine_dll_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">dll_path</span><span class="p">,</span> <span class="n">wine_dll_path</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed linking </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">,</span> <span class="n">wine_dll_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">_arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument</span>
        <span class="sd">&quot;&quot;&quot;Remove DLL from Wine prefix&quot;&quot;&quot;</span>
        <span class="n">wine_dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.dll&quot;</span> <span class="o">%</span> <span class="n">dll</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_dll_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">)</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">wine_dll_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">,</span> <span class="n">wine_dll_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_user_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">source_path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">source_path</span><span class="p">):</span>
            <span class="n">wine_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
            <span class="n">wine_file_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">):</span>
                    <span class="c1"># Backing up original version (may not be needed)</span>
                    <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">,</span> <span class="n">wine_file_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">wine_file_dir</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">wine_file_dir</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">wine_file_path</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed linking </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">source_path</span><span class="p">,</span> <span class="n">wine_file_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disable_user_file</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_user_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="n">wine_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
        <span class="c1"># We only create a symlink; if it is a real file, it mus tbe user data.</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_file_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">):</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">wine_file_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">,</span> <span class="n">wine_file_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_iter_dlls</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">windows_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span> <span class="o">==</span> <span class="s2">&quot;win64&quot;</span><span class="p">:</span>
            <span class="n">system_dirs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">archs</span><span class="p">[</span><span class="mi">64</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">windows_path</span><span class="p">,</span> <span class="s2">&quot;system32&quot;</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">archs</span><span class="p">[</span><span class="mi">32</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">windows_path</span><span class="p">,</span> <span class="s2">&quot;syswow64&quot;</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="n">system_dirs</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">archs</span><span class="p">[</span><span class="mi">32</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">windows_path</span><span class="p">,</span> <span class="s2">&quot;system32&quot;</span><span class="p">)}</span>

        <span class="k">for</span> <span class="n">arch</span><span class="p">,</span> <span class="n">system_dir</span> <span class="ow">in</span> <span class="n">system_dirs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">managed_dlls</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span>

    <span class="k">def</span> <span class="nf">_iter_appdata_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">managed_appdata_files</span><span class="p">:</span>
            <span class="n">prefix_manager</span> <span class="o">=</span> <span class="n">WinePrefixManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">)</span>
            <span class="n">appdata_dir</span> <span class="o">=</span> <span class="n">prefix_manager</span><span class="o">.</span><span class="n">appdata_dir</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">managed_appdata_files</span><span class="p">:</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">filename</span>

    <span class="k">def</span> <span class="nf">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable Dlls for the current prefix&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">download</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> could not be enabled because it is not available locally&quot;</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
                <span class="k">return</span>
        <span class="k">for</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_dlls</span><span class="p">():</span>
            <span class="n">dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.dll&quot;</span> <span class="o">%</span> <span class="n">dll</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_appdata_files</span><span class="p">():</span>
            <span class="n">source_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_user_file</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">source_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disable DLLs for the current prefix&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_dlls</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">_filename</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_appdata_files</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disable_user_file</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">fetch_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get releases from GitHub&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">)</span>
        <span class="n">download_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">releases_url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fetch_versions</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Downloading </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">...&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to download </span><span class="si">%s</span><span class="s2"> because version information was not available.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.archs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">archs</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.archs" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.base_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_dir</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.base_dir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">component</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.component" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.managed_appdata_files" class="doc doc-heading">
<code class="highlight language-python"><span class="n">managed_appdata_files</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.managed_appdata_files" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.managed_dlls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">managed_dlls</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.managed_dlls" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.wine.dll_manager.DLLManager.path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Path to local folder containing DLLs</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.releases_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">releases_url</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.releases_url" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.wine.dll_manager.DLLManager.version" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return version (latest known version if not provided)</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.version_choices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version_choices</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.wine.dll_manager.DLLManager.version_choices" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">versions</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.wine.dll_manager.DLLManager.versions" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return available versions</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dll_manager.DLLManager.versions_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">versions_path</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.versions_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s1">&#39;win64&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.dll_manager.DLLManager.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="s2">&quot;win64&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="n">prefix</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_versions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_version</span> <span class="o">=</span> <span class="n">version</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wine_arch</span> <span class="o">=</span> <span class="n">arch</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.disable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.disable" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Disable DLLs for the current prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Disable DLLs for the current prefix&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_dlls</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">_filename</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_appdata_files</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_user_file</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.disable_dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">_arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.disable_dll" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Remove DLL from Wine prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">disable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">_arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument</span>
    <span class="sd">&quot;&quot;&quot;Remove DLL from Wine prefix&quot;&quot;&quot;</span>
    <span class="n">wine_dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.dll&quot;</span> <span class="o">%</span> <span class="n">dll</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_dll_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">wine_dll_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">,</span> <span class="n">wine_dll_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.disable_user_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_user_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.disable_user_file" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">disable_user_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
    <span class="n">wine_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
    <span class="c1"># We only create a symlink; if it is a real file, it mus tbe user data.</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_file_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">wine_file_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">,</span> <span class="n">wine_file_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.dll_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dll_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_name</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.dll_exists" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Check if the dll is provided by the component
The DLL might not be available for all architectures so
only check if one exists for the supported ones</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dll_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check if the dll is provided by the component</span>
<span class="sd">    The DLL might not be available for all architectures so</span>
<span class="sd">    only check if one exists for the supported ones</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span>
        <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll_name</span> <span class="o">+</span> <span class="s2">&quot;.dll&quot;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">archs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.download" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.download" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Download component to the local cache; returns True if successful but False
if the component could not be downloaded.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Download component to the local cache; returns True if successful but False</span>
<span class="sd">    if the component could not be downloaded.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> already available at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_download_url</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Could not find a release for </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">archive_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Downloading </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">archive_path</span><span class="p">)</span>
    <span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">archive_path</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to download </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">archive_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
    <span class="n">extract_archive</span><span class="p">(</span><span class="n">archive_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">merge_single</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.enable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.enable" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Enable Dlls for the current prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enable Dlls for the current prefix&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">download</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> could not be enabled because it is not available locally&quot;</span><span class="p">,</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
            <span class="k">return</span>
    <span class="k">for</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_dlls</span><span class="p">():</span>
        <span class="n">dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.dll&quot;</span> <span class="o">%</span> <span class="n">dll</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_appdata_files</span><span class="p">():</span>
        <span class="n">source_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_user_file</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">source_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.enable_dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.enable_dll" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Copies dlls to the appropriate destination</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Copies dlls to the appropriate destination&quot;&quot;&quot;</span>
    <span class="n">dll</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">dll_path</span><span class="p">):</span>
        <span class="n">wine_dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_managed_dll</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">):</span>
                <span class="c1"># Backing up original version (may not be needed)</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">,</span> <span class="n">wine_dll_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">dll_path</span><span class="p">,</span> <span class="n">wine_dll_path</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed linking </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">,</span> <span class="n">wine_dll_path</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.enable_user_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_user_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">source_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.enable_user_file" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable_user_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">source_path</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">source_path</span><span class="p">):</span>
        <span class="n">wine_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
        <span class="n">wine_file_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">):</span>
                <span class="c1"># Backing up original version (may not be needed)</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">,</span> <span class="n">wine_file_path</span> <span class="o">+</span> <span class="s2">&quot;.orig&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_file_path</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">wine_file_dir</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">wine_file_dir</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">wine_file_path</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed linking </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">source_path</span><span class="p">,</span> <span class="n">wine_file_path</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_user_file</span><span class="p">(</span><span class="n">appdata_dir</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.fetch_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fetch_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.fetch_versions" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Get releases from GitHub</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fetch_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get releases from GitHub&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_dir</span><span class="p">)</span>
    <span class="n">download_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">releases_url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.get_download_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_download_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.get_download_url" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Fetch the download URL from the JSON version file</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_download_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fetch the download URL from the JSON version file&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">version_file</span><span class="p">:</span>
        <span class="n">releases</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">version_file</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">release</span> <span class="ow">in</span> <span class="n">releases</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">release</span><span class="p">[</span><span class="s2">&quot;tag_name&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">return</span> <span class="n">release</span><span class="p">[</span><span class="s2">&quot;assets&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;browser_download_url&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.is_available" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_available</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.is_available" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return whether component is cached locally</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return whether component is cached locally&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.is_managed_dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_managed_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.wine.dll_manager.DLLManager.is_managed_dll" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Check if a given DLL path is provided by the component</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">is_managed_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check if a given DLL path is provided by the component&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.load_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.load_versions" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">version_file</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">versions</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;tag_name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">version_file</span><span class="p">)]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">decoder</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Invalid versions file </span><span class="si">%s</span><span class="s2">, deleting so it is downloaded on next start.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span>
            <span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versions_path</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">versions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dll_manager.DLLManager.upgrade" class="doc doc-heading">
<code class="highlight language-python"><span class="n">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dll_manager.DLLManager.upgrade" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dll_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fetch_versions</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Downloading </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">...&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to download </span><span class="si">%s</span><span class="s2"> because version information was not available.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">component</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.dxvk" class="doc doc-heading">
        <code>dxvk</code>



<a href="#lutris.util.wine.dxvk" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>DXVK helper module</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.dxvk.DXVKManager" class="doc doc-heading">
        <code>
DXVKManager            (<a class="autorefs autorefs-internal" title="lutris.util.wine.dll_manager.DLLManager" href="wine/dll_manager/#lutris.util.wine.dll_manager.DLLManager">DLLManager</a>)
        </code>



<a href="#lutris.util.wine.dxvk.DXVKManager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dxvk.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DXVKManager</span><span class="p">(</span><span class="n">DLLManager</span><span class="p">):</span>
    <span class="n">component</span> <span class="o">=</span> <span class="s2">&quot;DXVK&quot;</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;dxvk&quot;</span><span class="p">)</span>
    <span class="n">versions_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s2">&quot;dxvk_versions.json&quot;</span><span class="p">)</span>
    <span class="n">managed_dlls</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;dxgi&quot;</span><span class="p">,</span> <span class="s2">&quot;d3d11&quot;</span><span class="p">,</span> <span class="s2">&quot;d3d10core&quot;</span><span class="p">,</span> <span class="s2">&quot;d3d9&quot;</span><span class="p">,</span> <span class="p">)</span>
    <span class="n">releases_url</span> <span class="o">=</span> <span class="s2">&quot;https://api.github.com/repos/lutris/dxvk/releases&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">is_managed_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check if a given DLL path is provided by the component</span>

<span class="sd">        Very basic check to see if a dll contains the string &quot;dxvk&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dll_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">prev_block_end</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
                <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">block</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span>  <span class="c1"># 2 MiB</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">block</span><span class="p">:</span>
                        <span class="k">break</span>
                    <span class="k">if</span> <span class="sa">b</span><span class="s1">&#39;dxvk&#39;</span> <span class="ow">in</span> <span class="n">prev_block_end</span> <span class="o">+</span> <span class="n">block</span><span class="p">[:</span><span class="mi">4</span><span class="p">]:</span>
                        <span class="k">return</span> <span class="kc">True</span>
                    <span class="k">if</span> <span class="sa">b</span><span class="s1">&#39;dxvk&#39;</span> <span class="ow">in</span> <span class="n">block</span><span class="p">:</span>
                        <span class="k">return</span> <span class="kc">True</span>

                    <span class="n">prev_block_end</span> <span class="o">=</span> <span class="n">block</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk.DXVKManager.base_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_dir</span></code>


<a href="#lutris.util.wine.dxvk.DXVKManager.base_dir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk.DXVKManager.component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">component</span></code>


<a href="#lutris.util.wine.dxvk.DXVKManager.component" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk.DXVKManager.managed_dlls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">managed_dlls</span></code>


<a href="#lutris.util.wine.dxvk.DXVKManager.managed_dlls" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk.DXVKManager.releases_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">releases_url</span></code>


<a href="#lutris.util.wine.dxvk.DXVKManager.releases_url" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk.DXVKManager.versions_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">versions_path</span></code>


<a href="#lutris.util.wine.dxvk.DXVKManager.versions_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dxvk.DXVKManager.is_managed_dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_managed_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.wine.dxvk.DXVKManager.is_managed_dll" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Check if a given DLL path is provided by the component</p>
<p>Very basic check to see if a dll contains the string "dxvk".</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dxvk.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">is_managed_dll</span><span class="p">(</span><span class="n">dll_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check if a given DLL path is provided by the component</span>

<span class="sd">    Very basic check to see if a dll contains the string &quot;dxvk&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dll_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">prev_block_end</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">block</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span>  <span class="c1"># 2 MiB</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">block</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="k">if</span> <span class="sa">b</span><span class="s1">&#39;dxvk&#39;</span> <span class="ow">in</span> <span class="n">prev_block_end</span> <span class="o">+</span> <span class="n">block</span><span class="p">[:</span><span class="mi">4</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="k">if</span> <span class="sa">b</span><span class="s1">&#39;dxvk&#39;</span> <span class="ow">in</span> <span class="n">block</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>

                <span class="n">prev_block_end</span> <span class="o">=</span> <span class="n">block</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.dxvk_nvapi" class="doc doc-heading">
        <code>dxvk_nvapi</code>



<a href="#lutris.util.wine.dxvk_nvapi" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager" class="doc doc-heading">
        <code>
DXVKNVAPIManager            (<a class="autorefs autorefs-internal" title="lutris.util.wine.dll_manager.DLLManager" href="wine/dll_manager/#lutris.util.wine.dll_manager.DLLManager">DLLManager</a>)
        </code>



<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dxvk_nvapi.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DXVKNVAPIManager</span><span class="p">(</span><span class="n">DLLManager</span><span class="p">):</span>
    <span class="n">component</span> <span class="o">=</span> <span class="s2">&quot;DXVK-NVAPI&quot;</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;dxvk-nvapi&quot;</span><span class="p">)</span>
    <span class="n">versions_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s2">&quot;dxvk-nvapi_versions.json&quot;</span><span class="p">)</span>
    <span class="n">managed_dlls</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;nvapi&quot;</span><span class="p">,</span> <span class="s2">&quot;nvapi64&quot;</span><span class="p">,</span> <span class="s2">&quot;nvml&quot;</span><span class="p">)</span>
    <span class="n">releases_url</span> <span class="o">=</span> <span class="s2">&quot;https://api.github.com/repos/lutris/dxvk-nvapi/releases&quot;</span>
    <span class="n">dlss_dlls</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;nvngx&quot;</span><span class="p">,</span> <span class="s2">&quot;_nvngx&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">_arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument</span>
        <span class="sd">&quot;&quot;&quot;Remove DLL from Wine prefix&quot;&quot;&quot;</span>
        <span class="n">wine_dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.dll&quot;</span> <span class="o">%</span> <span class="n">dll</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable Dlls for the current prefix&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
        <span class="n">dlss_dll_dir</span> <span class="o">=</span> <span class="n">get_nvidia_dll_path</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">dlss_dll_dir</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">windows_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows&quot;</span><span class="p">)</span>
        <span class="n">system_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">windows_path</span><span class="p">,</span> <span class="s2">&quot;system32&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dlss_dlls</span><span class="p">:</span>
            <span class="n">dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dlss_dll_dir</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.dll&quot;</span> <span class="o">%</span> <span class="n">dll</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="s2">&quot;x64&quot;</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disable DLLs for the current prefix&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
        <span class="n">windows_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows&quot;</span><span class="p">)</span>
        <span class="n">system_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">windows_path</span><span class="p">,</span> <span class="s2">&quot;system32&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dlss_dlls</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">disable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="s2">&quot;x64&quot;</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.base_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_dir</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.base_dir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">component</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.component" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.dlss_dlls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">dlss_dlls</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.dlss_dlls" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.managed_dlls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">managed_dlls</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.managed_dlls" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.releases_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">releases_url</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.releases_url" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.versions_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">versions_path</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.versions_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.disable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.disable" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Disable DLLs for the current prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dxvk_nvapi.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Disable DLLs for the current prefix&quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
    <span class="n">windows_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows&quot;</span><span class="p">)</span>
    <span class="n">system_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">windows_path</span><span class="p">,</span> <span class="s2">&quot;system32&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dlss_dlls</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="s2">&quot;x64&quot;</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.disable_dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">_arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.disable_dll" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Remove DLL from Wine prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dxvk_nvapi.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">disable_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system_dir</span><span class="p">,</span> <span class="n">_arch</span><span class="p">,</span> <span class="n">dll</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument</span>
    <span class="sd">&quot;&quot;&quot;Remove DLL from Wine prefix&quot;&quot;&quot;</span>
    <span class="n">wine_dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.dll&quot;</span> <span class="o">%</span> <span class="n">dll</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">wine_dll_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.enable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.dxvk_nvapi.DXVKNVAPIManager.enable" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Enable Dlls for the current prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/dxvk_nvapi.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enable Dlls for the current prefix&quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
    <span class="n">dlss_dll_dir</span> <span class="o">=</span> <span class="n">get_nvidia_dll_path</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">dlss_dll_dir</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">windows_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;drive_c/windows&quot;</span><span class="p">)</span>
    <span class="n">system_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">windows_path</span><span class="p">,</span> <span class="s2">&quot;system32&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">dll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dlss_dlls</span><span class="p">:</span>
        <span class="n">dll_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dlss_dll_dir</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">.dll&quot;</span> <span class="o">%</span> <span class="n">dll</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_dll</span><span class="p">(</span><span class="n">system_dir</span><span class="p">,</span> <span class="s2">&quot;x64&quot;</span><span class="p">,</span> <span class="n">dll_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.fsync" class="doc doc-heading">
        <code>fsync</code>



<a href="#lutris.util.wine.fsync" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Module for detecting the availability of the Linux futex
FUTEX_WAIT_MULTIPLE operation, or the Linux futex2 syscalls.</p>
<p>Either of these is required for fsync to work in Wine. Fsync is an
alternative implementation of the Windows synchronization primitives
that are used to guard data from being accessed by multiple threads
concurrently (which would be A Bad Thing™).</p>
<p>Fsync improves upon the previous implementation in Wine of these
primitives, known as esync, which in turn improved upon the original
implementation known as "Server-side synchronization".</p>
<p>The original implementation used a wineserver call for each
synchronization operation, which required multiple context switches per
operation.</p>
<p>Esync instead used file descriptors for synchronization, which can be
passed around between processes and therefore allowed synchronization
to happen directly between the processes involved, instead of going
through the wineserver. This made the synchronization operations
faster and improved performance of games a bit.
A problem with this implementation was that each created synchronization
object required one file descriptor, and there is only a limited amount
of these available for each process. Some games would run out of
available file descriptors, and would stop working. This has been partly
mitigated by raising the per-process file descriptor limit, but there
are also games that leak synchronization objects continuously while
running, and would eventually run out despite the raised limits.</p>
<p>Fsync improved on esync by not requiring a file descriptor for each
created synchronization object, and instead using the Linux kernel's
futex interface for synchronizations. This matches Windows's
implementation more closely and mitigated all the file descriptor
related issues of esync. However, since the default futex interface was
insufficient for implementing all required synchronization operations,
a patch to the Linux kernel was needed, which usually meant that users
needed to compile their own Linux kernel with the patch, or install a
kernel provided by a third-party. It was attempted to get the kernel
patch into the mainline Linux kernel, but it didn't get accepted.</p>
<p>Instead, patches were written that would add a new set of system calls
which extend the original futex system calls, dubbed "futex2", and the
Wine fsync code was adjusted to make use of these new system calls.
The new Wine fsync code is backwards-compatible with the old futex
patch, therefore it makes sense for now to detect the presence of
either patch in the running kernel. The detection of the old patch
can probably be removed when the new patch is merged and in a stable
Linux release.</p>
<p>This module's code is based on <a href="https://gist.github.com/openglfreak/715d5ab5902497378f1996061dbbf8ec">https://gist.github.com/openglfreak/715d5ab5902497378f1996061dbbf8ec</a></p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.fsync.__all__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__all__</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.fsync.__all__" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.fsync.futex_waitv" class="doc doc-heading">
        <code>
futex_waitv            (<span title="_ctypes.Structure">Structure</span>)
        </code>



<a href="#lutris.util.wine.fsync.futex_waitv" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Linux kernel compatible futex_waitv type.</p>
<div class="admonition fields">
<p class="admonition-title">Fields</p>
<p>val: The expected value.
uaddr: The address to wait for.
flags: The type and size of the futex.</p>
</div>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/fsync.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">futex_waitv</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Linux kernel compatible futex_waitv type.</span>

<span class="sd">    Fields:</span>
<span class="sd">        val: The expected value.</span>
<span class="sd">        uaddr: The address to wait for.</span>
<span class="sd">        flags: The type and size of the futex.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;val&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_uint64</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;uaddr&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;flags&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_uint</span><span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.fsync.futex_waitv.__slots__" class="doc doc-heading">
<code class="highlight language-python"><span class="vm">__slots__</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.fsync.futex_waitv.__slots__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.fsync.timespec" class="doc doc-heading">
        <code>
timespec            (<span title="_ctypes.Structure">Structure</span>)
        </code>



<a href="#lutris.util.wine.fsync.timespec" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Linux kernel compatible timespec type.</p>
<div class="admonition fields">
<p class="admonition-title">Fields</p>
<p>tv_sec: The whole seconds of the timespec.
tv_nsec: The nanoseconds of the timespec.</p>
</div>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/fsync.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">timespec</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Linux kernel compatible timespec type.</span>

<span class="sd">    Fields:</span>
<span class="sd">        tv_sec: The whole seconds of the timespec.</span>
<span class="sd">        tv_nsec: The nanoseconds of the timespec.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;tv_sec&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_long</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;tv_nsec&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_long</span><span class="p">),</span>
    <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.fsync.timespec.__slots__" class="doc doc-heading">
<code class="highlight language-python"><span class="vm">__slots__</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.fsync.timespec.__slots__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.fsync.is_fsync_supported" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_fsync_supported</span><span class="p">()</span></code>


<a href="#lutris.util.wine.fsync.is_fsync_supported" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Checks whether the FUTEX_WAIT_MULTIPLE operation, the futex2
syscalls, or the futex_waitv syscall is supported on this kernel.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>The result of the check.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/fsync.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">is_fsync_supported</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Checks whether the FUTEX_WAIT_MULTIPLE operation, the futex2</span>
<span class="sd">    syscalls, or the futex_waitv syscall is supported on this kernel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The result of the check.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_futex_waitv_supported</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">is_futex2_supported</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">is_futex_wait_multiple_supported</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.fsync.is_futex2_supported" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_futex2_supported</span><span class="p">()</span></code>


<a href="#lutris.util.wine.fsync.is_futex2_supported" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Checks whether the Linux futex2 syscall is supported on this
kernel.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>Whether this kernel supports the futex2 syscall.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/fsync.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">is_futex2_supported</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Checks whether the Linux futex2 syscall is supported on this</span>
<span class="sd">    kernel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether this kernel supports the futex2 syscall.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;wait&quot;</span><span class="p">,</span> <span class="s2">&quot;waitv&quot;</span><span class="p">,</span> <span class="s2">&quot;wake&quot;</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/sys/kernel/futex2/&quot;</span> <span class="o">+</span> <span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
                    <span class="k">return</span> <span class="kc">False</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.fsync.is_futex_wait_multiple_supported" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_futex_wait_multiple_supported</span><span class="p">()</span></code>


<a href="#lutris.util.wine.fsync.is_futex_wait_multiple_supported" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Checks whether the Linux futex FUTEX_WAIT_MULTIPLE operation is
supported on this kernel.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>Whether this kernel supports the FUTEX_WAIT_MULTIPLE operation.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/fsync.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">is_futex_wait_multiple_supported</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Checks whether the Linux futex FUTEX_WAIT_MULTIPLE operation is</span>
<span class="sd">    supported on this kernel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether this kernel supports the FUTEX_WAIT_MULTIPLE operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_get_futex_wait_multiple_op</span><span class="p">(</span><span class="n">_get_futex_syscall</span><span class="p">())</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">RuntimeError</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.fsync.is_futex_waitv_supported" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_futex_waitv_supported</span><span class="p">()</span></code>


<a href="#lutris.util.wine.fsync.is_futex_waitv_supported" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Checks whether the Linux 5.16 futex_waitv syscall is supported on
this kernel.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td></td>
      <td><p>Whether this kernel supports the futex_waitv syscall.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/fsync.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">is_futex_waitv_supported</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Checks whether the Linux 5.16 futex_waitv syscall is supported on</span>
<span class="sd">    this kernel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether this kernel supports the futex_waitv syscall.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">_get_futex_waitv_syscall</span><span class="p">()(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">errno</span><span class="o">.</span><span class="n">ENOSYS</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">RuntimeError</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.prefix" class="doc doc-heading">
        <code>prefix</code>



<a href="#lutris.util.wine.prefix" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Wine prefix management</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.prefix.DEFAULT_DESKTOP_FOLDERS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT_DESKTOP_FOLDERS</span></code>


<a href="#lutris.util.wine.prefix.DEFAULT_DESKTOP_FOLDERS" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.prefix.DEFAULT_DLL_OVERRIDES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DEFAULT_DLL_OVERRIDES</span></code>


<a href="#lutris.util.wine.prefix.DEFAULT_DLL_OVERRIDES" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.prefix.DESKTOP_KEYS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DESKTOP_KEYS</span></code>


<a href="#lutris.util.wine.prefix.DESKTOP_KEYS" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.prefix.DESKTOP_XDG" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DESKTOP_XDG</span></code>


<a href="#lutris.util.wine.prefix.DESKTOP_XDG" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.prefix.WinePrefixManager" class="doc doc-heading">
        <code>
WinePrefixManager        </code>



<a href="#lutris.util.wine.prefix.WinePrefixManager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Class to allow modification of Wine prefixes without the use of Wine</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WinePrefixManager</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Class to allow modification of Wine prefixes without the use of Wine&quot;&quot;&quot;</span>

    <span class="n">hkcu_prefix</span> <span class="o">=</span> <span class="s2">&quot;HKEY_CURRENT_USER&quot;</span>
    <span class="n">hklm_prefix</span> <span class="o">=</span> <span class="s2">&quot;HKEY_LOCAL_MACHINE&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No path specified for Wine prefix&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">user_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the directory that contains the current user&#39;s profile in the WINE prefix.&quot;&quot;&quot;</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;USER&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;lutrisuser&#39;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;drive_c/users/&quot;</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">appdata_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the app-data directory for the user; this depends on a registry key.&quot;&quot;&quot;</span>
        <span class="n">user_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_dir</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_registry_key</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Microsoft/Windows/CurrentVersion/Explorer/Shell Folders&quot;</span><span class="p">,</span>
            <span class="s2">&quot;AppData&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Don&#39;t try to resolve the WIndows path we get- there&#39;s</span>
        <span class="c1"># just two options, the Vista-and later option and the</span>
        <span class="c1"># XP-and-earlier option.</span>
        <span class="k">if</span> <span class="n">folder</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">application data&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">user_dir</span><span class="p">,</span> <span class="s2">&quot;Application Data&quot;</span><span class="p">)</span>  <span class="c1"># Windows XP</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">user_dir</span><span class="p">,</span> <span class="s2">&quot;AppData/Roaming&quot;</span><span class="p">)</span>  <span class="c1"># Vista</span>

    <span class="k">def</span> <span class="nf">setup_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the defaults for newly created prefixes&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">dll</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">DEFAULT_DLL_OVERRIDES</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">override_dll</span><span class="p">(</span><span class="n">dll</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">desktop_integration</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup desktop integration, the prefix may not be valid.&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_registry_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Matches registry keys to a registry file</span>

<span class="sd">        Currently, only HKEY_CURRENT_USER keys are supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;user.reg&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hklm_prefix</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;system.reg&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported key &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">get_key_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hklm_prefix</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">key</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The key </span><span class="si">{}</span><span class="s2"> is currently not supported by WinePrefixManager&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">get_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkey</span><span class="p">):</span>
        <span class="n">registry</span> <span class="o">=</span> <span class="n">WineRegistry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_registry_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">registry</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_key_path</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">subkey</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">registry</span> <span class="o">=</span> <span class="n">WineRegistry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_registry_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="n">registry</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_key_path</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="n">registry</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">clear_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">registry</span> <span class="o">=</span> <span class="n">WineRegistry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_registry_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="n">registry</span><span class="o">.</span><span class="n">clear_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_key_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="n">registry</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">clear_registry_subkeys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkeys</span><span class="p">):</span>
        <span class="n">registry</span> <span class="o">=</span> <span class="n">WineRegistry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_registry_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="n">registry</span><span class="o">.</span><span class="n">clear_subkeys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_key_path</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">subkeys</span><span class="p">)</span>
        <span class="n">registry</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">override_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/DllOverrides&quot;</span>
        <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;dis&quot;</span><span class="p">):</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;builtin&quot;</span><span class="p">,</span> <span class="s2">&quot;native&quot;</span><span class="p">,</span> <span class="s2">&quot;builtin,native&quot;</span><span class="p">,</span> <span class="s2">&quot;native,builtin&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;DLL override &#39;</span><span class="si">%s</span><span class="s2">&#39; mode is not valid&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">dll</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_desktop_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the list of desktop folder names loaded from the Windows registry&quot;&quot;&quot;</span>
        <span class="n">desktop_folders</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">DESKTOP_KEYS</span><span class="p">:</span>
            <span class="n">folder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_registry_key</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Microsoft/Windows/CurrentVersion/Explorer/Shell Folders&quot;</span><span class="p">,</span>
                <span class="n">key</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">folder</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t load shell folder name for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">desktop_folders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">folder</span><span class="p">[</span><span class="n">folder</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:])</span>
        <span class="k">return</span> <span class="n">desktop_folders</span> <span class="ow">or</span> <span class="n">DEFAULT_DESKTOP_FOLDERS</span>

    <span class="k">def</span> <span class="nf">desktop_integration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desktop_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">restore</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>  <span class="c1"># noqa: C901</span>
        <span class="sd">&quot;&quot;&quot;Overwrite desktop integration&quot;&quot;&quot;</span>
        <span class="c1"># pylint: disable=too-many-branches</span>
        <span class="c1"># TODO: reduce complexity (18)</span>
        <span class="n">user_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_dir</span>
        <span class="n">desktop_folders</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_desktop_folders</span><span class="p">()</span>
        <span class="n">desktop_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">desktop_dir</span><span class="p">)</span> <span class="k">if</span> <span class="n">desktop_dir</span> <span class="k">else</span> <span class="n">user_dir</span>

        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">user_dir</span><span class="p">):</span>
            <span class="c1"># Replace or restore desktop integration symlinks</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">desktop_folders</span><span class="p">):</span>
                <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">user_dir</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">old_path</span> <span class="o">=</span> <span class="n">path</span> <span class="o">+</span> <span class="s2">&quot;.winecfg&quot;</span>

                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">restore</span><span class="p">:</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="c1"># We can&#39;t delete nonempty dir, so we rename as wine do.</span>
                    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">old_path</span><span class="p">)</span>

                <span class="c1"># if we want to create a symlink and one is already there, just</span>
                <span class="c1"># skip to the next item.  this also makes sure the elif doesn&#39;t</span>
                <span class="c1"># find a dir (isdir only looks at the target of the symlink).</span>
                <span class="k">if</span> <span class="n">restore</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">restore</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                    <span class="n">src_path</span> <span class="o">=</span> <span class="n">get_xdg_entry</span><span class="p">(</span><span class="n">DESKTOP_XDG</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">src_path</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No XDG entry found for </span><span class="si">%s</span><span class="s2">, launcher not created&quot;</span><span class="p">,</span> <span class="n">DESKTOP_XDG</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">src_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
                    <span class="c1"># We don&#39;t need all the others process of the loop</span>
                    <span class="k">continue</span>

                <span class="k">if</span> <span class="n">desktop_dir</span> <span class="o">!=</span> <span class="n">user_dir</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">src_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">desktop_dir</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                        <span class="c1"># There is supposedly a None value in there</span>
                        <span class="c1"># The current code shouldn&#39;t allow that</span>
                        <span class="c1"># Just raise a exception with the values</span>
                        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing value desktop_dir=</span><span class="si">%s</span><span class="s2"> or item=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">desktop_dir</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>

                    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">src_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">src_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># We use first the renamed dir, otherwise we make it.</span>
                    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">old_path</span><span class="p">):</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">old_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_crash_dialogs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enabled</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable or diable Wine crash dialogs&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/WineDbg&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ShowCrashDialog&quot;</span><span class="p">,</span>
            <span class="mi">1</span> <span class="k">if</span> <span class="n">enabled</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_virtual_desktop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enabled</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable or disable wine virtual desktop.</span>
<span class="sd">        The Lutris virtual desktop is refered to as &#39;WineDesktop&#39;, in Wine the</span>
<span class="sd">        virtual desktop name is &#39;default&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/Explorer&quot;</span>
        <span class="k">if</span> <span class="n">enabled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;Desktop&quot;</span><span class="p">,</span> <span class="s2">&quot;WineDesktop&quot;</span><span class="p">)</span>
            <span class="n">default_resolution</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">())</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Enabling wine virtual desktop with default resolution of </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">default_resolution</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/Explorer/Desktops&quot;</span><span class="p">,</span>
                <span class="s2">&quot;WineDesktop&quot;</span><span class="p">,</span>
                <span class="n">default_resolution</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clear_registry_key</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_desktop_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desktop_size</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the desktop size if one is given but do not reset the key if</span>
<span class="sd">        one isn&#39;t.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/Explorer/Desktops&quot;</span>
        <span class="k">if</span> <span class="n">desktop_size</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;WineDesktop&quot;</span><span class="p">,</span> <span class="n">desktop_size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dpi</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the DPI for WINE to use. 96 DPI is effectively unscaled.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/Fonts&quot;</span><span class="p">,</span> <span class="s2">&quot;LogPixels&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Control Panel/Desktop&quot;</span><span class="p">,</span> <span class="s2">&quot;LogPixels&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">configure_joypads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disables some joypad devices&quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/DirectInput/Joysticks&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">_device</span><span class="p">,</span> <span class="n">joypad_name</span> <span class="ow">in</span> <span class="n">joypad</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">():</span>
            <span class="c1"># Attempt at disabling mice that register as joysticks.</span>
            <span class="c1"># Although, those devices aren&#39;t returned by `get_joypads`</span>
            <span class="c1"># A better way would be to read /dev/input files directly.</span>
            <span class="k">if</span> <span class="s2">&quot;HARPOON RGB&quot;</span> <span class="ow">in</span> <span class="n">joypad_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> (js)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">joypad_name</span><span class="p">),</span> <span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> (event)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">joypad_name</span><span class="p">),</span> <span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

        <span class="c1"># This part of the code below avoids having 2 joystick interfaces</span>
        <span class="c1"># showing up simulatenously. It is not sure if it&#39;s still needed</span>
        <span class="c1"># so it is disabled for now. Street Fighter IV now runs in Proton</span>
        <span class="c1"># without this sort of hack.</span>
        <span class="c1">#</span>
        <span class="c1"># for device, joypad_name in joypads:</span>
        <span class="c1">#     if &quot;event&quot; in device:</span>
        <span class="c1">#         disabled_joypad = &quot;{} (js)&quot;.format(joypad_name)</span>
        <span class="c1">#     else:</span>
        <span class="c1">#         disabled_joypad = &quot;{} (event)&quot;.format(joypad_name)</span>
        <span class="c1">#     self.set_registry_key(key, disabled_joypad, &quot;disabled&quot;)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.appdata_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">appdata_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.wine.prefix.WinePrefixManager.appdata_dir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Returns the app-data directory for the user; this depends on a registry key.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.hkcu_prefix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">hkcu_prefix</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.hkcu_prefix" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.hklm_prefix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">hklm_prefix</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.hklm_prefix" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.user_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">user_dir</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.wine.prefix.WinePrefixManager.user_dir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Returns the directory that contains the current user's profile in the WINE prefix.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.prefix.WinePrefixManager.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No path specified for Wine prefix&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.clear_registry_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clear_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.clear_registry_key" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">clear_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">WineRegistry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_registry_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
    <span class="n">registry</span><span class="o">.</span><span class="n">clear_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_key_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
    <span class="n">registry</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.clear_registry_subkeys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clear_registry_subkeys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkeys</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.clear_registry_subkeys" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">clear_registry_subkeys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkeys</span><span class="p">):</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">WineRegistry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_registry_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
    <span class="n">registry</span><span class="o">.</span><span class="n">clear_subkeys</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_key_path</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">subkeys</span><span class="p">)</span>
    <span class="n">registry</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.configure_joypads" class="doc doc-heading">
<code class="highlight language-python"><span class="n">configure_joypads</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.configure_joypads" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Disables some joypad devices</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">configure_joypads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Disables some joypad devices&quot;&quot;&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/DirectInput/Joysticks&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clear_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_device</span><span class="p">,</span> <span class="n">joypad_name</span> <span class="ow">in</span> <span class="n">joypad</span><span class="o">.</span><span class="n">get_joypads</span><span class="p">():</span>
        <span class="c1"># Attempt at disabling mice that register as joysticks.</span>
        <span class="c1"># Although, those devices aren&#39;t returned by `get_joypads`</span>
        <span class="c1"># A better way would be to read /dev/input files directly.</span>
        <span class="k">if</span> <span class="s2">&quot;HARPOON RGB&quot;</span> <span class="ow">in</span> <span class="n">joypad_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> (js)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">joypad_name</span><span class="p">),</span> <span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> (event)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">joypad_name</span><span class="p">),</span> <span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

    <span class="c1"># This part of the code below avoids having 2 joystick interfaces</span>
    <span class="c1"># showing up simulatenously. It is not sure if it&#39;s still needed</span>
    <span class="c1"># so it is disabled for now. Street Fighter IV now runs in Proton</span>
    <span class="c1"># without this sort of hack.</span>
    <span class="c1">#</span>
    <span class="c1"># for device, joypad_name in joypads:</span>
    <span class="c1">#     if &quot;event&quot; in device:</span>
    <span class="c1">#         disabled_joypad = &quot;{} (js)&quot;.format(joypad_name)</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         disabled_joypad = &quot;{} (event)&quot;.format(joypad_name)</span>
    <span class="c1">#     self.set_registry_key(key, disabled_joypad, &quot;disabled&quot;)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.desktop_integration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">desktop_integration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desktop_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">restore</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.desktop_integration" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Overwrite desktop integration</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">desktop_integration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desktop_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">restore</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>  <span class="c1"># noqa: C901</span>
    <span class="sd">&quot;&quot;&quot;Overwrite desktop integration&quot;&quot;&quot;</span>
    <span class="c1"># pylint: disable=too-many-branches</span>
    <span class="c1"># TODO: reduce complexity (18)</span>
    <span class="n">user_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_dir</span>
    <span class="n">desktop_folders</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_desktop_folders</span><span class="p">()</span>
    <span class="n">desktop_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">desktop_dir</span><span class="p">)</span> <span class="k">if</span> <span class="n">desktop_dir</span> <span class="k">else</span> <span class="n">user_dir</span>

    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">user_dir</span><span class="p">):</span>
        <span class="c1"># Replace or restore desktop integration symlinks</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">desktop_folders</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">user_dir</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
            <span class="n">old_path</span> <span class="o">=</span> <span class="n">path</span> <span class="o">+</span> <span class="s2">&quot;.winecfg&quot;</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">restore</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="c1"># We can&#39;t delete nonempty dir, so we rename as wine do.</span>
                <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">old_path</span><span class="p">)</span>

            <span class="c1"># if we want to create a symlink and one is already there, just</span>
            <span class="c1"># skip to the next item.  this also makes sure the elif doesn&#39;t</span>
            <span class="c1"># find a dir (isdir only looks at the target of the symlink).</span>
            <span class="k">if</span> <span class="n">restore</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">islink</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">restore</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="n">src_path</span> <span class="o">=</span> <span class="n">get_xdg_entry</span><span class="p">(</span><span class="n">DESKTOP_XDG</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">src_path</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No XDG entry found for </span><span class="si">%s</span><span class="s2">, launcher not created&quot;</span><span class="p">,</span> <span class="n">DESKTOP_XDG</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">src_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
                <span class="c1"># We don&#39;t need all the others process of the loop</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">desktop_dir</span> <span class="o">!=</span> <span class="n">user_dir</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">src_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">desktop_dir</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                    <span class="c1"># There is supposedly a None value in there</span>
                    <span class="c1"># The current code shouldn&#39;t allow that</span>
                    <span class="c1"># Just raise a exception with the values</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing value desktop_dir=</span><span class="si">%s</span><span class="s2"> or item=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">desktop_dir</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">ex</span>

                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">src_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">src_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># We use first the renamed dir, otherwise we make it.</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">old_path</span><span class="p">):</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">old_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.get_desktop_folders" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_desktop_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.get_desktop_folders" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the list of desktop folder names loaded from the Windows registry</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_desktop_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the list of desktop folder names loaded from the Windows registry&quot;&quot;&quot;</span>
    <span class="n">desktop_folders</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">DESKTOP_KEYS</span><span class="p">:</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_registry_key</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Microsoft/Windows/CurrentVersion/Explorer/Shell Folders&quot;</span><span class="p">,</span>
            <span class="n">key</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">folder</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t load shell folder name for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="n">desktop_folders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">folder</span><span class="p">[</span><span class="n">folder</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:])</span>
    <span class="k">return</span> <span class="n">desktop_folders</span> <span class="ow">or</span> <span class="n">DEFAULT_DESKTOP_FOLDERS</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.get_key_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_key_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.get_key_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_key_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hklm_prefix</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">key</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The key </span><span class="si">{}</span><span class="s2"> is currently not supported by WinePrefixManager&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.get_registry_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkey</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.get_registry_key" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkey</span><span class="p">):</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">WineRegistry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_registry_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">registry</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_key_path</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">subkey</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.get_registry_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_registry_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.get_registry_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Matches registry keys to a registry file</p>
<p>Currently, only HKEY_CURRENT_USER keys are supported.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_registry_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Matches registry keys to a registry file</span>

<span class="sd">    Currently, only HKEY_CURRENT_USER keys are supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;user.reg&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hklm_prefix</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;system.reg&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported key &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.override_dll" class="doc doc-heading">
<code class="highlight language-python"><span class="n">override_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.override_dll" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">override_dll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dll</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
    <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/DllOverrides&quot;</span>
    <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;dis&quot;</span><span class="p">):</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;builtin&quot;</span><span class="p">,</span> <span class="s2">&quot;native&quot;</span><span class="p">,</span> <span class="s2">&quot;builtin,native&quot;</span><span class="p">,</span> <span class="s2">&quot;native,builtin&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;DLL override &#39;</span><span class="si">%s</span><span class="s2">&#39; mode is not valid&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">dll</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.set_crash_dialogs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_crash_dialogs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enabled</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.set_crash_dialogs" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Enable or diable Wine crash dialogs</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_crash_dialogs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enabled</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enable or diable Wine crash dialogs&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/WineDbg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ShowCrashDialog&quot;</span><span class="p">,</span>
        <span class="mi">1</span> <span class="k">if</span> <span class="n">enabled</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.set_desktop_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_desktop_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desktop_size</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.set_desktop_size" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Sets the desktop size if one is given but do not reset the key if
one isn't.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_desktop_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">desktop_size</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the desktop size if one is given but do not reset the key if</span>
<span class="sd">    one isn&#39;t.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/Explorer/Desktops&quot;</span>
    <span class="k">if</span> <span class="n">desktop_size</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;WineDesktop&quot;</span><span class="p">,</span> <span class="n">desktop_size</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.set_dpi" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dpi</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.set_dpi" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Sets the DPI for WINE to use. 96 DPI is effectively unscaled.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_dpi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dpi</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the DPI for WINE to use. 96 DPI is effectively unscaled.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/Fonts&quot;</span><span class="p">,</span> <span class="s2">&quot;LogPixels&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Control Panel/Desktop&quot;</span><span class="p">,</span> <span class="s2">&quot;LogPixels&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.set_registry_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.set_registry_key" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_registry_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">WineRegistry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_registry_path</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
    <span class="n">registry</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_key_path</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">registry</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.set_virtual_desktop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_virtual_desktop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enabled</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.set_virtual_desktop" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Enable or disable wine virtual desktop.
The Lutris virtual desktop is refered to as 'WineDesktop', in Wine the
virtual desktop name is 'default'.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_virtual_desktop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enabled</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Enable or disable wine virtual desktop.</span>
<span class="sd">    The Lutris virtual desktop is refered to as &#39;WineDesktop&#39;, in Wine the</span>
<span class="sd">    virtual desktop name is &#39;default&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/Explorer&quot;</span>
    <span class="k">if</span> <span class="n">enabled</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;Desktop&quot;</span><span class="p">,</span> <span class="s2">&quot;WineDesktop&quot;</span><span class="p">)</span>
        <span class="n">default_resolution</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DISPLAY_MANAGER</span><span class="o">.</span><span class="n">get_current_resolution</span><span class="p">())</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Enabling wine virtual desktop with default resolution of </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default_resolution</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_registry_key</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hkcu_prefix</span> <span class="o">+</span> <span class="s2">&quot;/Software/Wine/Explorer/Desktops&quot;</span><span class="p">,</span>
            <span class="s2">&quot;WineDesktop&quot;</span><span class="p">,</span>
            <span class="n">default_resolution</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_registry_key</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.prefix.WinePrefixManager.setup_defaults" class="doc doc-heading">
<code class="highlight language-python"><span class="n">setup_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.WinePrefixManager.setup_defaults" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Sets the defaults for newly created prefixes</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">setup_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the defaults for newly created prefixes&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">dll</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">DEFAULT_DLL_OVERRIDES</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">override_dll</span><span class="p">(</span><span class="n">dll</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">desktop_integration</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to setup desktop integration, the prefix may not be valid.&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.prefix.find_prefix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">find_prefix</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.find_prefix" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Given an executable path, try to find a Wine prefix associated with it.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">find_prefix</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Given an executable path, try to find a Wine prefix associated with it.&quot;&quot;&quot;</span>
    <span class="n">dir_path</span> <span class="o">=</span> <span class="n">path</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">dir_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No path given, unable to guess prefix location&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">while</span> <span class="n">dir_path</span> <span class="o">!=</span> <span class="s2">&quot;/&quot;</span> <span class="ow">and</span> <span class="n">dir_path</span><span class="p">:</span>
        <span class="n">dir_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_prefix</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">dir_path</span>
        <span class="k">for</span> <span class="n">prefix_dir</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;prefix&quot;</span><span class="p">,</span> <span class="s2">&quot;pfx&quot;</span><span class="p">):</span>
            <span class="n">prefix_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dir_path</span><span class="p">,</span> <span class="n">prefix_dir</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">is_prefix</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">prefix_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.prefix.is_prefix" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_prefix</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.prefix.is_prefix" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return True if the path is prefix</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/prefix.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_prefix</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return True if the path is prefix&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;drive_c&quot;</span><span class="p">))</span> \
        <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;user.reg&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.registry" class="doc doc-heading">
        <code>registry</code>



<a href="#lutris.util.wine.registry" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Manipulate Wine registry files</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.DATA_TYPES" class="doc doc-heading">
<code class="highlight language-python"><span class="n">DATA_TYPES</span></code>


<a href="#lutris.util.wine.registry.DATA_TYPES" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.REG_BINARY" class="doc doc-heading">
<code class="highlight language-python"><span class="n">REG_BINARY</span></code>


<a href="#lutris.util.wine.registry.REG_BINARY" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.REG_DWORD" class="doc doc-heading">
<code class="highlight language-python"><span class="n">REG_DWORD</span></code>


<a href="#lutris.util.wine.registry.REG_DWORD" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.REG_DWORD_BIG_ENDIAN" class="doc doc-heading">
<code class="highlight language-python"><span class="n">REG_DWORD_BIG_ENDIAN</span></code>


<a href="#lutris.util.wine.registry.REG_DWORD_BIG_ENDIAN" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.REG_EXPAND_SZ" class="doc doc-heading">
<code class="highlight language-python"><span class="n">REG_EXPAND_SZ</span></code>


<a href="#lutris.util.wine.registry.REG_EXPAND_SZ" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.REG_LINK" class="doc doc-heading">
<code class="highlight language-python"><span class="n">REG_LINK</span></code>


<a href="#lutris.util.wine.registry.REG_LINK" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.REG_MULTI_SZ" class="doc doc-heading">
<code class="highlight language-python"><span class="n">REG_MULTI_SZ</span></code>


<a href="#lutris.util.wine.registry.REG_MULTI_SZ" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.REG_NONE" class="doc doc-heading">
<code class="highlight language-python"><span class="n">REG_NONE</span></code>


<a href="#lutris.util.wine.registry.REG_NONE" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.registry.REG_SZ" class="doc doc-heading">
<code class="highlight language-python"><span class="n">REG_SZ</span></code>


<a href="#lutris.util.wine.registry.REG_SZ" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>




  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.registry.WindowsFileTime" class="doc doc-heading">
        <code>
WindowsFileTime        </code>



<a href="#lutris.util.wine.registry.WindowsFileTime" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Utility class to deal with Windows FILETIME structures.</p>
<p>See: <a href="https://msdn.microsoft.com/en-us/library/ms724284(v=vs.85).aspx">https://msdn.microsoft.com/en-us/library/ms724284(v=vs.85).aspx</a></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WindowsFileTime</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Utility class to deal with Windows FILETIME structures.</span>

<span class="sd">    See: https://msdn.microsoft.com/en-us/library/ms724284(v=vs.85).aspx</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ticks_per_seconds</span> <span class="o">=</span> <span class="mi">10000000</span>  <span class="c1"># 1 tick every 100 nanoseconds</span>
    <span class="n">epoch_delta</span> <span class="o">=</span> <span class="mi">11644473600</span>  <span class="c1"># 3600 * 24 * ((1970 - 1601) * 365 + 89)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">=</span> <span class="n">timestamp</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2">&gt;: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_hex</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">hexvalue</span><span class="p">):</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hexvalue</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">WindowsFileTime</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_hex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{:x}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_unix_timestamp</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">):</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="bp">cls</span><span class="o">.</span><span class="n">epoch_delta</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">timestamp</span> <span class="o">*</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ticks_per_seconds</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">WindowsFileTime</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_unix_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No timestamp set&quot;</span><span class="p">)</span>
        <span class="n">unix_ts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">ticks_per_seconds</span>
        <span class="n">unix_ts</span> <span class="o">=</span> <span class="n">unix_ts</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">epoch_delta</span>
        <span class="k">return</span> <span class="n">unix_ts</span>

    <span class="k">def</span> <span class="nf">to_date_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_unix_timestamp</span><span class="p">())</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.registry.WindowsFileTime.epoch_delta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">epoch_delta</span></code>


<a href="#lutris.util.wine.registry.WindowsFileTime.epoch_delta" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.registry.WindowsFileTime.ticks_per_seconds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ticks_per_seconds</span></code>


<a href="#lutris.util.wine.registry.WindowsFileTime.ticks_per_seconds" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WindowsFileTime.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.registry.WindowsFileTime.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">=</span> <span class="n">timestamp</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WindowsFileTime.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.registry.WindowsFileTime.__repr__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2">&gt;: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WindowsFileTime.from_hex" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_hex</span><span class="p">(</span><span class="n">hexvalue</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.util.wine.registry.WindowsFileTime.from_hex" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_hex</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">hexvalue</span><span class="p">):</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hexvalue</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">WindowsFileTime</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WindowsFileTime.from_unix_timestamp" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_unix_timestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

<a href="#lutris.util.wine.registry.WindowsFileTime.from_unix_timestamp" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_unix_timestamp</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">):</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="bp">cls</span><span class="o">.</span><span class="n">epoch_delta</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">timestamp</span> <span class="o">*</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ticks_per_seconds</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">WindowsFileTime</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WindowsFileTime.to_date_time" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_date_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WindowsFileTime.to_date_time" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_date_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_unix_timestamp</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WindowsFileTime.to_hex" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_hex</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WindowsFileTime.to_hex" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_hex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{:x}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WindowsFileTime.to_unix_timestamp" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_unix_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WindowsFileTime.to_unix_timestamp" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_unix_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No timestamp set&quot;</span><span class="p">)</span>
    <span class="n">unix_ts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">ticks_per_seconds</span>
    <span class="n">unix_ts</span> <span class="o">=</span> <span class="n">unix_ts</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">epoch_delta</span>
    <span class="k">return</span> <span class="n">unix_ts</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.registry.WineRegistry" class="doc doc-heading">
        <code>
WineRegistry        </code>



<a href="#lutris.util.wine.registry.WineRegistry" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WineRegistry</span><span class="p">:</span>
    <span class="n">version_header</span> <span class="o">=</span> <span class="s2">&quot;WINE REGISTRY Version &quot;</span>
    <span class="n">relative_to_header</span> <span class="o">=</span> <span class="s2">&quot;;; All keys relative to &quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">=</span> <span class="n">WINE_DEFAULT_ARCH</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relative_to</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">User</span><span class="se">\\\\</span><span class="s2">S-1-5-21-0-0-0-1000&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reg_filename</span> <span class="o">=</span> <span class="n">reg_filename</span>
        <span class="k">if</span> <span class="n">reg_filename</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No registry file at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">reg_filename</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parse_reg_file</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Windows Registry @ </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">reg_filename</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prefix_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Wine prefix path (where the .reg files are located)&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reg_filename</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reg_filename</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_raw_registry</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an array of the unprocessed contents of a registry file&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reg_file</span><span class="p">:</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">registry_content</span> <span class="o">=</span> <span class="n">reg_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Failed to registry read </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">reg_filename</span><span class="p">)</span>
                <span class="n">registry_content</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">registry_content</span>

    <span class="k">def</span> <span class="nf">parse_reg_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_filename</span><span class="p">):</span>
        <span class="n">registry_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_raw_registry</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">)</span>
        <span class="n">current_key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">add_next_to_value</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">additional_values</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">registry_lines</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">):</span>
                <span class="n">current_key</span> <span class="o">=</span> <span class="n">WineRegistryKey</span><span class="p">(</span><span class="n">key_def</span><span class="o">=</span><span class="n">line</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">current_key</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_key</span>
            <span class="k">elif</span> <span class="n">current_key</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">add_next_to_value</span><span class="p">:</span>
                    <span class="n">additional_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="k">elif</span> <span class="ow">not</span> <span class="n">add_next_to_value</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">additional_values</span><span class="p">:</span>
                        <span class="n">additional_values</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">additional_values</span><span class="p">)</span>
                        <span class="n">current_key</span><span class="o">.</span><span class="n">add_to_last</span><span class="p">(</span><span class="n">additional_values</span><span class="p">)</span>
                        <span class="n">additional_values</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="n">current_key</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="n">add_next_to_value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version_header</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version_header</span><span class="p">):])</span>
            <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">relative_to_header</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">relative_to</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">relative_to_header</span><span class="p">):]</span>
            <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#arch&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
        <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}{}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">relative_to_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">relative_to</span><span class="p">)</span>
        <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;#arch=</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arch</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">content</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">content</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Write the registry to a file&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reg_filename</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;No filename provided&quot;</span><span class="p">)</span>
        <span class="n">prefix_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid Wine prefix path </span><span class="si">%s</span><span class="s2">, make sure to &quot;</span>
                <span class="s2">&quot;create the prefix before saving to a registry&quot;</span> <span class="o">%</span> <span class="n">prefix_path</span>
            <span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">registry_file</span><span class="p">:</span>
            <span class="n">registry_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">subkey</span><span class="p">):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">key</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">key</span><span class="o">.</span><span class="n">get_subkey</span><span class="p">(</span><span class="n">subkey</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">WineRegistryKey</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
        <span class="n">key</span><span class="o">.</span><span class="n">set_subkey</span><span class="p">(</span><span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">clear_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Removes all subkeys from a key&quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">key</span><span class="o">.</span><span class="n">subkeys</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">clear_subkeys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove some subkeys from a key&quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">subkey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">subkeys</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">subkey</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">key</span><span class="o">.</span><span class="n">subkeys</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">subkey</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_unix_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">windows_path</span><span class="p">):</span>
        <span class="n">windows_path</span> <span class="o">=</span> <span class="n">windows_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">drives_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;dosdevices&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">drives_path</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">letter</span><span class="p">,</span> <span class="n">relpath</span> <span class="o">=</span> <span class="n">windows_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">relpath</span> <span class="o">=</span> <span class="n">relpath</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">drive_link</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">drives_path</span><span class="p">,</span> <span class="n">letter</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">drive_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">readlink</span><span class="p">(</span><span class="n">drive_link</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to read link for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">drive_link</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">drive_path</span><span class="p">):</span>
            <span class="n">drive_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">drives_path</span><span class="p">,</span> <span class="n">drive_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">drive_path</span><span class="p">,</span> <span class="n">relpath</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.registry.WineRegistry.prefix_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prefix_path</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#lutris.util.wine.registry.WineRegistry.prefix_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the Wine prefix path (where the .reg files are located)</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.registry.WineRegistry.relative_to_header" class="doc doc-heading">
<code class="highlight language-python"><span class="n">relative_to_header</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.relative_to_header" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.registry.WineRegistry.version_header" class="doc doc-heading">
<code class="highlight language-python"><span class="n">version_header</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.version_header" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.registry.WineRegistry.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_filename</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">=</span> <span class="n">WINE_DEFAULT_ARCH</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">relative_to</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">User</span><span class="se">\\\\</span><span class="s2">S-1-5-21-0-0-0-1000&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reg_filename</span> <span class="o">=</span> <span class="n">reg_filename</span>
    <span class="k">if</span> <span class="n">reg_filename</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No registry file at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">reg_filename</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_reg_file</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.registry.WineRegistry.__str__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Windows Registry @ </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">reg_filename</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.clear_key" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clear_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.clear_key" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Removes all subkeys from a key</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">clear_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Removes all subkeys from a key&quot;&quot;&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">key</span><span class="o">.</span><span class="n">subkeys</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.clear_subkeys" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clear_subkeys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">keys</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.clear_subkeys" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Remove some subkeys from a key</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">clear_subkeys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">keys</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Remove some subkeys from a key&quot;&quot;&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">for</span> <span class="n">subkey</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">subkeys</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">subkey</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">key</span><span class="o">.</span><span class="n">subkeys</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">subkey</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.get_raw_registry" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_raw_registry</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.wine.registry.WineRegistry.get_raw_registry" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return an array of the unprocessed contents of a registry file</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_raw_registry</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return an array of the unprocessed contents of a registry file&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reg_file</span><span class="p">:</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">registry_content</span> <span class="o">=</span> <span class="n">reg_file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Failed to registry read </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">reg_filename</span><span class="p">)</span>
            <span class="n">registry_content</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">registry_content</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.get_unix_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_unix_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">windows_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.get_unix_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_unix_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">windows_path</span><span class="p">):</span>
    <span class="n">windows_path</span> <span class="o">=</span> <span class="n">windows_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">drives_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;dosdevices&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">drives_path</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="n">letter</span><span class="p">,</span> <span class="n">relpath</span> <span class="o">=</span> <span class="n">windows_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">relpath</span> <span class="o">=</span> <span class="n">relpath</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="n">drive_link</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">drives_path</span><span class="p">,</span> <span class="n">letter</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">drive_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">readlink</span><span class="p">(</span><span class="n">drive_link</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to read link for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">drive_link</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">drive_path</span><span class="p">):</span>
        <span class="n">drive_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">drives_path</span><span class="p">,</span> <span class="n">drive_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">drive_path</span><span class="p">,</span> <span class="n">relpath</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.parse_reg_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse_reg_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_filename</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.parse_reg_file" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse_reg_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reg_filename</span><span class="p">):</span>
    <span class="n">registry_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_raw_registry</span><span class="p">(</span><span class="n">reg_filename</span><span class="p">)</span>
    <span class="n">current_key</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">add_next_to_value</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">additional_values</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">registry_lines</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">):</span>
            <span class="n">current_key</span> <span class="o">=</span> <span class="n">WineRegistryKey</span><span class="p">(</span><span class="n">key_def</span><span class="o">=</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">current_key</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_key</span>
        <span class="k">elif</span> <span class="n">current_key</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">add_next_to_value</span><span class="p">:</span>
                <span class="n">additional_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">add_next_to_value</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">additional_values</span><span class="p">:</span>
                    <span class="n">additional_values</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">additional_values</span><span class="p">)</span>
                    <span class="n">current_key</span><span class="o">.</span><span class="n">add_to_last</span><span class="p">(</span><span class="n">additional_values</span><span class="p">)</span>
                    <span class="n">additional_values</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">current_key</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">add_next_to_value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version_header</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version_header</span><span class="p">):])</span>
        <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">relative_to_header</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">relative_to</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">relative_to_header</span><span class="p">):]</span>
        <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#arch&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arch</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.query" class="doc doc-heading">
<code class="highlight language-python"><span class="n">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">subkey</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.query" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">subkey</span><span class="p">):</span>
    <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">key</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">key</span><span class="o">.</span><span class="n">get_subkey</span><span class="p">(</span><span class="n">subkey</span><span class="p">)</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.render" class="doc doc-heading">
<code class="highlight language-python"><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.render" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}{}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">relative_to_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">relative_to</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;#arch=</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arch</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">content</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">content</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.save" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Write the registry to a file</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Write the registry to a file&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reg_filename</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;No filename provided&quot;</span><span class="p">)</span>
    <span class="n">prefix_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid Wine prefix path </span><span class="si">%s</span><span class="s2">, make sure to &quot;</span>
            <span class="s2">&quot;create the prefix before saving to a registry&quot;</span> <span class="o">%</span> <span class="n">prefix_path</span>
        <span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">registry_file</span><span class="p">:</span>
        <span class="n">registry_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistry.set_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistry.set_value" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">:</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">WineRegistryKey</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
    <span class="n">key</span><span class="o">.</span><span class="n">set_subkey</span><span class="p">(</span><span class="n">subkey</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.registry.WineRegistryKey" class="doc doc-heading">
        <code>
WineRegistryKey        </code>



<a href="#lutris.util.wine.registry.WineRegistryKey" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WineRegistryKey</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_def</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metas</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
            <span class="c1"># Key is created by path, it&#39;s a new key</span>
            <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">path</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span> <span class="o">=</span> <span class="s2">&quot;[</span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">))</span>

            <span class="n">windows_timestamp</span> <span class="o">=</span> <span class="n">WindowsFileTime</span><span class="o">.</span><span class="n">from_unix_timestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metas</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">windows_timestamp</span><span class="o">.</span><span class="n">to_hex</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Existing key loaded from file</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(?&lt;=[^</span><span class="se">\\</span><span class="s2">]\]) &quot;</span><span class="p">),</span> <span class="n">key_def</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;[]&quot;</span><span class="p">)</span>

        <span class="c1"># Parse timestamp either as int or float</span>
        <span class="n">ts_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ts_parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ts_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ts_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ts_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Parse a registry line, populating meta and subkeys&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
            <span class="c1"># Line is too short, nothing to parse</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_meta</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(?&lt;![^</span><span class="se">\\</span><span class="s2">]</span><span class="se">\\\&quot;</span><span class="s2">)=&quot;</span><span class="p">),</span> <span class="n">line</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to parse line </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">):</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">add_to_last</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">last_subkey</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Should this be happening?&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="n">last_subkey</span><span class="p">]</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the content of the key in the wine .reg format&quot;&quot;&quot;</span>
        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metas</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;#</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;#</span><span class="si">{}</span><span class="s2">=</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;@&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">=</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">content</span>

    <span class="k">def</span> <span class="nf">render_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;dword:</span><span class="si">{:08x}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;&quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;TODO&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">decode_unicode</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
        <span class="c1"># There may be a r&quot;\\&quot; in front of r&quot;\x&quot;, so replace the r&quot;\\&quot; to r&quot;\x005c&quot;</span>
        <span class="c1"># to avoid missing matches. Example: r&quot;C:\\users\\x1234\\\x0041\x0042CD&quot;.</span>
        <span class="c1"># Note the difference between r&quot;\\x1234&quot;, r&quot;\\\x0041&quot; and r&quot;\x0042&quot;.</span>
        <span class="c1"># It should be r&quot;C:\users\x1234\ABCD&quot; after decoding.</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">x&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\x005c&quot;</span><span class="p">))</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">chunks</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;unicode_escape&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">:</span>
            <span class="c1"># We have seen file with unicode characters escaped on 1 byte (\xfa),</span>
            <span class="c1"># 1.5 bytes (\x444) and 2 bytes (\x00ed). So we try 0 padding, 1 and 2</span>
            <span class="c1"># (python wants its escaped sequence to be exactly on 4 characters).</span>
            <span class="c1"># The exception let us know if it worked or not</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">u</span><span class="si">{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;0&quot;</span> <span class="o">*</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;unicode_escape&quot;</span><span class="p">))</span>
                    <span class="k">break</span>
                <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
                    <span class="k">pass</span>
        <span class="k">return</span> <span class="n">out</span>

    <span class="k">def</span> <span class="nf">add_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">meta_line</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">meta_line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Key metas should start with &#39;#&#39;&quot;</span><span class="p">)</span>
        <span class="n">meta_line</span> <span class="o">=</span> <span class="n">meta_line</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">meta_line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid meta line &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">meta_line</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metas</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">get_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">metas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_subkey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_subkey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">decode_unicode</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;dword:&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">6</span><span class="p">:],</span> <span class="mi">16</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Handle </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_def</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.registry.WineRegistryKey.__init__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key_def</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metas</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
        <span class="c1"># Key is created by path, it&#39;s a new key</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span> <span class="o">=</span> <span class="s2">&quot;[</span><span class="si">{}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">))</span>

        <span class="n">windows_timestamp</span> <span class="o">=</span> <span class="n">WindowsFileTime</span><span class="o">.</span><span class="n">from_unix_timestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metas</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">windows_timestamp</span><span class="o">.</span><span class="n">to_hex</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Existing key loaded from file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(?&lt;=[^</span><span class="se">\\</span><span class="s2">]\]) &quot;</span><span class="p">),</span> <span class="n">key_def</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;[]&quot;</span><span class="p">)</span>

    <span class="c1"># Parse timestamp either as int or float</span>
    <span class="n">ts_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ts_parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ts_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ts_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ts_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#lutris.util.wine.registry.WineRegistryKey.__str__" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.add_meta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">meta_line</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistryKey.add_meta" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">meta_line</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">meta_line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Key metas should start with &#39;#&#39;&quot;</span><span class="p">)</span>
    <span class="n">meta_line</span> <span class="o">=</span> <span class="n">meta_line</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">meta_line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid meta line &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">meta_line</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metas</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.add_to_last" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_to_last</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistryKey.add_to_last" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">add_to_last</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">last_subkey</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Should this be happening?&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="n">last_subkey</span><span class="p">]</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.decode_unicode" class="doc doc-heading">
<code class="highlight language-python"><span class="n">decode_unicode</span><span class="p">(</span><span class="n">string</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#lutris.util.wine.registry.WineRegistryKey.decode_unicode" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">decode_unicode</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="c1"># There may be a r&quot;\\&quot; in front of r&quot;\x&quot;, so replace the r&quot;\\&quot; to r&quot;\x005c&quot;</span>
    <span class="c1"># to avoid missing matches. Example: r&quot;C:\\users\\x1234\\\x0041\x0042CD&quot;.</span>
    <span class="c1"># Note the difference between r&quot;\\x1234&quot;, r&quot;\\\x0041&quot; and r&quot;\x0042&quot;.</span>
    <span class="c1"># It should be r&quot;C:\users\x1234\ABCD&quot; after decoding.</span>
    <span class="n">chunks</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">x&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\x005c&quot;</span><span class="p">))</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">chunks</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;unicode_escape&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">:</span>
        <span class="c1"># We have seen file with unicode characters escaped on 1 byte (\xfa),</span>
        <span class="c1"># 1.5 bytes (\x444) and 2 bytes (\x00ed). So we try 0 padding, 1 and 2</span>
        <span class="c1"># (python wants its escaped sequence to be exactly on 4 characters).</span>
        <span class="c1"># The exception let us know if it worked or not</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">u</span><span class="si">{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;0&quot;</span> <span class="o">*</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;unicode_escape&quot;</span><span class="p">))</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
                <span class="k">pass</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.get_meta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistryKey.get_meta" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">metas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.get_subkey" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_subkey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistryKey.get_subkey" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_subkey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">decode_unicode</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;dword:&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">6</span><span class="p">:],</span> <span class="mi">16</span><span class="p">)</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Handle </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.parse" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistryKey.parse" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Parse a registry line, populating meta and subkeys</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Parse a registry line, populating meta and subkeys&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
        <span class="c1"># Line is too short, nothing to parse</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_meta</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(?&lt;![^</span><span class="se">\\</span><span class="s2">]</span><span class="se">\\\&quot;</span><span class="s2">)=&quot;</span><span class="p">),</span> <span class="n">line</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to parse line </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">):</span>
        <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.render" class="doc doc-heading">
<code class="highlight language-python"><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistryKey.render" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

      <p>Return the content of the key in the wine .reg format</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the content of the key in the wine .reg format&quot;&quot;&quot;</span>
    <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">raw_timestamp</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metas</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;#</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;#</span><span class="si">{}</span><span class="s2">=</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;@&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="n">content</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">=</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">content</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.render_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">render_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistryKey.render_value" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">render_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;dword:</span><span class="si">{:08x}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&quot;</span><span class="si">{}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;TODO&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="lutris.util.wine.registry.WineRegistryKey.set_subkey" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_subkey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#lutris.util.wine.registry.WineRegistryKey.set_subkey" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_subkey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">subkeys</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.vkd3d" class="doc doc-heading">
        <code>vkd3d</code>



<a href="#lutris.util.wine.vkd3d" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="lutris.util.wine.vkd3d.VKD3DManager" class="doc doc-heading">
        <code>
VKD3DManager            (<a class="autorefs autorefs-internal" title="lutris.util.wine.dll_manager.DLLManager" href="wine/dll_manager/#lutris.util.wine.dll_manager.DLLManager">DLLManager</a>)
        </code>



<a href="#lutris.util.wine.vkd3d.VKD3DManager" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/vkd3d.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">VKD3DManager</span><span class="p">(</span><span class="n">DLLManager</span><span class="p">):</span>
    <span class="n">component</span> <span class="o">=</span> <span class="s2">&quot;VKD3D&quot;</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">RUNTIME_DIR</span><span class="p">,</span> <span class="s2">&quot;vkd3d&quot;</span><span class="p">)</span>
    <span class="n">versions_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s2">&quot;vkd3d_versions.json&quot;</span><span class="p">)</span>
    <span class="n">managed_dlls</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;d3d12&quot;</span><span class="p">,</span> <span class="p">)</span>
    <span class="n">releases_url</span> <span class="o">=</span> <span class="s2">&quot;https://api.github.com/repos/lutris/vkd3d/releases&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.vkd3d.VKD3DManager.base_dir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">base_dir</span></code>


<a href="#lutris.util.wine.vkd3d.VKD3DManager.base_dir" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.vkd3d.VKD3DManager.component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">component</span></code>


<a href="#lutris.util.wine.vkd3d.VKD3DManager.component" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.vkd3d.VKD3DManager.managed_dlls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">managed_dlls</span></code>


<a href="#lutris.util.wine.vkd3d.VKD3DManager.managed_dlls" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.vkd3d.VKD3DManager.releases_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">releases_url</span></code>


<a href="#lutris.util.wine.vkd3d.VKD3DManager.releases_url" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="lutris.util.wine.vkd3d.VKD3DManager.versions_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">versions_path</span></code>


<a href="#lutris.util.wine.vkd3d.VKD3DManager.versions_path" class="headerlink" title="Permanent link">&para;</a></h5>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="lutris.util.wine.wine" class="doc doc-heading">
        <code>wine</code>



<a href="#lutris.util.wine.wine" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Utilities for manipulating Wine</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.wine.ESYNC_LIMIT_CHECK" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ESYNC_LIMIT_CHECK</span></code>


<a href="#lutris.util.wine.wine.ESYNC_LIMIT_CHECK" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.wine.FSYNC_SUPPORT_CHECK" class="doc doc-heading">
<code class="highlight language-python"><span class="n">FSYNC_SUPPORT_CHECK</span></code>


<a href="#lutris.util.wine.wine.FSYNC_SUPPORT_CHECK" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.wine.POL_PATH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">POL_PATH</span></code>


<a href="#lutris.util.wine.wine.POL_PATH" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.wine.WINE_DEFAULT_ARCH" class="doc doc-heading">
<code class="highlight language-python"><span class="n">WINE_DEFAULT_ARCH</span></code>


<a href="#lutris.util.wine.wine.WINE_DEFAULT_ARCH" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.wine.WINE_DIR" class="doc doc-heading">
<code class="highlight language-python"><span class="n">WINE_DIR</span></code>


<a href="#lutris.util.wine.wine.WINE_DIR" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h4 id="lutris.util.wine.wine.WINE_PATHS" class="doc doc-heading">
<code class="highlight language-python"><span class="n">WINE_PATHS</span></code>


<a href="#lutris.util.wine.wine.WINE_PATHS" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>





  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.detect_arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">detect_arch</span><span class="p">(</span><span class="n">prefix_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.detect_arch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Given a Wine prefix path, return its architecture</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">detect_arch</span><span class="p">(</span><span class="n">prefix_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wine_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Given a Wine prefix path, return its architecture&quot;&quot;&quot;</span>
    <span class="n">arch</span> <span class="o">=</span> <span class="n">detect_prefix_arch</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">arch</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">arch</span>
    <span class="k">if</span> <span class="n">wine_path</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_path</span> <span class="o">+</span> <span class="s2">&quot;64&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;win64&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;win32&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.detect_prefix_arch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">detect_prefix_arch</span><span class="p">(</span><span class="n">prefix_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.detect_prefix_arch" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the architecture of the prefix found in <code>prefix_path</code>.</p>
<p>If no <code>prefix_path</code> given, return the arch of the system's default prefix.
If no prefix found, return None.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">detect_prefix_arch</span><span class="p">(</span><span class="n">prefix_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the architecture of the prefix found in `prefix_path`.</span>

<span class="sd">    If no `prefix_path` given, return the arch of the system&#39;s default prefix.</span>
<span class="sd">    If no prefix found, return None.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">prefix_path</span><span class="p">:</span>
        <span class="n">prefix_path</span> <span class="o">=</span> <span class="s2">&quot;~/.wine&quot;</span>
    <span class="n">prefix_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">)</span>
    <span class="n">registry_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">,</span> <span class="s2">&quot;system.reg&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">prefix_path</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">registry_path</span><span class="p">):</span>
        <span class="c1"># No prefix_path exists or invalid prefix</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Prefix not found: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">prefix_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">registry_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">registry</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">_line_no</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="k">if</span> <span class="s2">&quot;win64&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;win64&quot;</span>
            <span class="k">if</span> <span class="s2">&quot;win32&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;win32&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Failed to detect Wine prefix architecture in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">prefix_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.display_vulkan_error" class="doc doc-heading">
<code class="highlight language-python"><span class="n">display_vulkan_error</span><span class="p">(</span><span class="n">on_launch</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.display_vulkan_error" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">display_vulkan_error</span><span class="p">(</span><span class="n">on_launch</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">on_launch</span><span class="p">:</span>
        <span class="n">checkbox_message</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Launch anyway and do not show this message again.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">checkbox_message</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable anyway and do not show this message again.&quot;</span><span class="p">)</span>

    <span class="n">setting</span> <span class="o">=</span> <span class="s2">&quot;hide-no-vulkan-warning&quot;</span>
    <span class="n">DontShowAgainDialog</span><span class="p">(</span>
        <span class="n">setting</span><span class="p">,</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Vulkan is not installed or is not supported by your system&quot;</span><span class="p">),</span>
        <span class="n">secondary_message</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;If you have compatible hardware, please follow &quot;</span>
            <span class="s2">&quot;the installation procedures as described in</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;&lt;a href=&#39;https://github.com/lutris/lutris/wiki/How-to:-DXVK&#39;&gt;&quot;</span>
            <span class="s2">&quot;How-to:-DXVK (https://github.com/lutris/lutris/wiki/How-to:-DXVK)&lt;/a&gt;&quot;</span>
        <span class="p">),</span>
        <span class="n">checkbox_message</span><span class="o">=</span><span class="n">checkbox_message</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span><span class="o">.</span><span class="n">read_setting</span><span class="p">(</span><span class="n">setting</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;True&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.esync_display_limit_warning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">esync_display_limit_warning</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.esync_display_limit_warning" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">esync_display_limit_warning</span><span class="p">():</span>
    <span class="n">ErrorDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span>
        <span class="s2">&quot;Your limits are not set correctly.&quot;</span>
        <span class="s2">&quot; Please increase them as described here:&quot;</span>
        <span class="s2">&quot; &lt;a href=&#39;https://github.com/lutris/lutris/wiki/How-to:-Esync&#39;&gt;&quot;</span>
        <span class="s2">&quot;How-to:-Esync (https://github.com/lutris/lutris/wiki/How-to:-Esync)&lt;/a&gt;&quot;</span>
    <span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.esync_display_version_warning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">esync_display_version_warning</span><span class="p">(</span><span class="n">on_launch</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.esync_display_version_warning" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">esync_display_version_warning</span><span class="p">(</span><span class="n">on_launch</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">setting</span> <span class="o">=</span> <span class="s2">&quot;hide-wine-non-esync-version-warning&quot;</span>
    <span class="k">if</span> <span class="n">on_launch</span><span class="p">:</span>
        <span class="n">checkbox_message</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Launch anyway and do not show this message again.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">checkbox_message</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable anyway and do not show this message again.&quot;</span><span class="p">)</span>

    <span class="n">DontShowAgainDialog</span><span class="p">(</span>
        <span class="n">setting</span><span class="p">,</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Incompatible Wine version detected&quot;</span><span class="p">),</span>
        <span class="n">secondary_message</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;The Wine build you have selected &quot;</span>
            <span class="s2">&quot;does not support Esync.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;Please switch to an Esync-capable version.&quot;</span>
        <span class="p">),</span>
        <span class="n">checkbox_message</span><span class="o">=</span><span class="n">checkbox_message</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span><span class="o">.</span><span class="n">read_setting</span><span class="p">(</span><span class="n">setting</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;True&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.fsync_display_support_warning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fsync_display_support_warning</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.fsync_display_support_warning" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fsync_display_support_warning</span><span class="p">():</span>
    <span class="n">ErrorDialog</span><span class="p">(</span><span class="n">_</span><span class="p">(</span>
        <span class="s2">&quot;Your kernel is not patched for fsync.&quot;</span>
        <span class="s2">&quot; Please get a patched kernel to use fsync.&quot;</span>
    <span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.fsync_display_version_warning" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fsync_display_version_warning</span><span class="p">(</span><span class="n">on_launch</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.fsync_display_version_warning" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fsync_display_version_warning</span><span class="p">(</span><span class="n">on_launch</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">setting</span> <span class="o">=</span> <span class="s2">&quot;hide-wine-non-fsync-version-warning&quot;</span>
    <span class="k">if</span> <span class="n">on_launch</span><span class="p">:</span>
        <span class="n">checkbox_message</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Launch anyway and do not show this message again.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">checkbox_message</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable anyway and do not show this message again.&quot;</span><span class="p">)</span>

    <span class="n">DontShowAgainDialog</span><span class="p">(</span>
        <span class="n">setting</span><span class="p">,</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Incompatible Wine version detected&quot;</span><span class="p">),</span>
        <span class="n">secondary_message</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;The Wine build you have selected &quot;</span>
            <span class="s2">&quot;does not support Fsync.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;Please switch to an Fsync-capable version.&quot;</span>
        <span class="p">),</span>
        <span class="n">checkbox_message</span><span class="o">=</span><span class="n">checkbox_message</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">settings</span><span class="o">.</span><span class="n">read_setting</span><span class="p">(</span><span class="n">setting</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;True&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_default_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_version</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.get_default_version" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the default version of wine. Prioritize 64bit builds</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_default_version</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the default version of wine. Prioritize 64bit builds&quot;&quot;&quot;</span>
    <span class="n">installed_versions</span> <span class="o">=</span> <span class="n">get_wine_versions</span><span class="p">()</span>
    <span class="n">wine64_versions</span> <span class="o">=</span> <span class="p">[</span><span class="n">version</span> <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">installed_versions</span> <span class="k">if</span> <span class="s2">&quot;64&quot;</span> <span class="ow">in</span> <span class="n">version</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">wine64_versions</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">wine64_versions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">installed_versions</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">installed_versions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_lutris_wine_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_lutris_wine_versions</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.get_lutris_wine_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of wine versions installed by lutris</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_lutris_wine_versions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of wine versions installed by lutris&quot;&quot;&quot;</span>
    <span class="n">versions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">):</span>
        <span class="n">dirs</span> <span class="o">=</span> <span class="n">version_sort</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dirname</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_version_installed</span><span class="p">(</span><span class="n">dirname</span><span class="p">):</span>
                <span class="n">versions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dirname</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">versions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_overrides_env" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_overrides_env</span><span class="p">(</span><span class="n">overrides</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.get_overrides_env" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Output a string of dll overrides usable with WINEDLLOVERRIDES
See: <a href="https://wiki.winehq.org/Wine_User%27s_Guide#WINEDLLOVERRIDES.3DDLL_Overrides">https://wiki.winehq.org/Wine_User%27s_Guide#WINEDLLOVERRIDES.3DDLL_Overrides</a></p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_overrides_env</span><span class="p">(</span><span class="n">overrides</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Output a string of dll overrides usable with WINEDLLOVERRIDES</span>
<span class="sd">    See: https://wiki.winehq.org/Wine_User%27s_Guide#WINEDLLOVERRIDES.3DDLL_Overrides</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">default_overrides</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;winemenubuilder&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="p">}</span>
    <span class="n">overrides</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">default_overrides</span><span class="p">)</span>
    <span class="n">override_buckets</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">&quot;n,b&quot;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s2">&quot;b,n&quot;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">[])])</span>
    <span class="k">for</span> <span class="n">dll</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">overrides</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;builtin&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;native&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">override_buckets</span><span class="p">[</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dll</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid override value </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">continue</span>

    <span class="n">override_strings</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">value</span><span class="p">,</span> <span class="n">dlls</span> <span class="ow">in</span> <span class="n">override_buckets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">dlls</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">override_strings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">dlls</span><span class="p">)),</span> <span class="n">value</span><span class="p">))</span>
    <span class="k">return</span> <span class="s2">&quot;;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">override_strings</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_playonlinux" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_playonlinux</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.get_playonlinux" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the folder containing PoL config files</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_playonlinux</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the folder containing PoL config files&quot;&quot;&quot;</span>
    <span class="n">pol_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.PlayOnLinux&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pol_path</span><span class="p">,</span> <span class="s2">&quot;wine&quot;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">pol_path</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_pol_wine_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pol_wine_versions</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.get_pol_wine_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of wine versions installed by Play on Linux</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pol_wine_versions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of wine versions installed by Play on Linux&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">POL_PATH</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">versions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;x86&#39;</span><span class="p">,</span> <span class="s1">&#39;amd64&#39;</span><span class="p">]:</span>
        <span class="n">builds_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">POL_PATH</span><span class="p">,</span> <span class="s2">&quot;wine/linux-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">arch</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">builds_path</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">builds_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">builds_path</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;bin/wine&quot;</span><span class="p">)):</span>
                <span class="n">versions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;PlayOnLinux </span><span class="si">%s</span><span class="s2">-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">arch</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">versions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_proton_paths" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_proton_paths</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.get_proton_paths" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Get the Folder that contains all the Proton versions. Can probably be improved</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_proton_paths</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Get the Folder that contains all the Proton versions. Can probably be improved&quot;&quot;&quot;</span>
    <span class="n">paths</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">_iter_proton_locations</span><span class="p">():</span>
        <span class="n">proton_versions</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;Proton&quot;</span> <span class="ow">in</span> <span class="n">p</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">proton_versions</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;dist/bin/wine&quot;</span><span class="p">)):</span>
                <span class="n">paths</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_proton_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_proton_versions</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.get_proton_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of Proton versions installed in Steam</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_proton_versions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of Proton versions installed in Steam&quot;&quot;&quot;</span>
    <span class="n">versions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">proton_path</span> <span class="ow">in</span> <span class="n">get_proton_paths</span><span class="p">():</span>
        <span class="n">proton_versions</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">proton_path</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;Proton&quot;</span> <span class="ow">in</span> <span class="n">p</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">proton_versions</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">proton_path</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="s2">&quot;dist/bin/wine&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
                <span class="n">versions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">versions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_real_executable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_real_executable</span><span class="p">(</span><span class="n">windows_executable</span><span class="p">,</span> <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.get_real_executable" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Given a Windows executable, return the real program
capable of launching it along with necessary arguments.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_real_executable</span><span class="p">(</span><span class="n">windows_executable</span><span class="p">,</span> <span class="n">working_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Given a Windows executable, return the real program</span>
<span class="sd">    capable of launching it along with necessary arguments.&quot;&quot;&quot;</span>

    <span class="n">exec_name</span> <span class="o">=</span> <span class="n">windows_executable</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">exec_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.msi&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;msiexec&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/i&quot;</span><span class="p">,</span> <span class="n">windows_executable</span><span class="p">],</span> <span class="n">working_dir</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">exec_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.bat&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">working_dir</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">windows_executable</span><span class="p">)</span> <span class="o">==</span> <span class="n">working_dir</span><span class="p">:</span>
            <span class="n">working_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">windows_executable</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>
            <span class="n">windows_executable</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">windows_executable</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;cmd&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/C&quot;</span><span class="p">,</span> <span class="n">windows_executable</span><span class="p">],</span> <span class="n">working_dir</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">exec_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.lnk&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;/unix&quot;</span><span class="p">,</span> <span class="n">windows_executable</span><span class="p">],</span> <span class="n">working_dir</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">windows_executable</span><span class="p">,</span> <span class="p">[],</span> <span class="n">working_dir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_system_wine_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_system_wine_versions</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.get_system_wine_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of wine versions installed on the system</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_system_wine_versions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of wine versions installed on the system&quot;&quot;&quot;</span>
    <span class="n">versions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">build</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">WINE_PATHS</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">get_wine_version</span><span class="p">(</span><span class="n">WINE_PATHS</span><span class="p">[</span><span class="n">build</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">version</span><span class="p">:</span>
            <span class="n">versions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">build</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">versions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_wine_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_wine_version</span><span class="p">(</span><span class="n">wine_path</span><span class="o">=</span><span class="s1">&#39;wine&#39;</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.get_wine_version" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the version of Wine installed on the system.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_wine_version</span><span class="p">(</span><span class="n">wine_path</span><span class="o">=</span><span class="s2">&quot;wine&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the version of Wine installed on the system.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">wine_path</span> <span class="o">!=</span> <span class="s2">&quot;wine&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">wine_path</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">wine_path</span> <span class="o">==</span> <span class="s2">&quot;wine&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="s2">&quot;wine&quot;</span><span class="p">):</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">wine_path</span><span class="p">):</span>
        <span class="n">wine_stats</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wine_stats</span><span class="o">.</span><span class="n">st_size</span> <span class="o">&lt;</span> <span class="mi">2000</span><span class="p">:</span>
            <span class="c1"># This version is a script, ignore it</span>
            <span class="k">return</span>
    <span class="n">version</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">read_process_output</span><span class="p">([</span><span class="n">wine_path</span><span class="p">,</span> <span class="s2">&quot;--version&quot;</span><span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error reading wine version for </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">wine_path</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">version</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;wine-&quot;</span><span class="p">):</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">version</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span>
    <span class="k">return</span> <span class="n">version</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_wine_version_exe" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_wine_version_exe</span><span class="p">(</span><span class="n">version</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.get_wine_version_exe" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_wine_version_exe</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">get_default_version</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Wine is not installed&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WINE_DIR</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/bin/wine&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.get_wine_versions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_wine_versions</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.get_wine_versions" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return the list of Wine versions installed</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_wine_versions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return the list of Wine versions installed&quot;&quot;&quot;</span>
    <span class="n">versions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">versions</span> <span class="o">+=</span> <span class="n">get_system_wine_versions</span><span class="p">()</span>
    <span class="n">versions</span> <span class="o">+=</span> <span class="n">get_lutris_wine_versions</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LUTRIS_ENABLE_PROTON&quot;</span><span class="p">):</span>
        <span class="n">versions</span> <span class="o">+=</span> <span class="n">get_proton_versions</span><span class="p">()</span>
    <span class="n">versions</span> <span class="o">+=</span> <span class="n">get_pol_wine_versions</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">versions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.is_esync_limit_set" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_esync_limit_set</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.is_esync_limit_set" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Checks if the number of files open is acceptable for esync usage.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_esync_limit_set</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Checks if the number of files open is acceptable for esync usage.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">ESYNC_LIMIT_CHECK</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;off&quot;</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;fd limit check for esync was manually disabled&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">linux</span><span class="o">.</span><span class="n">LINUX_SYSTEM</span><span class="o">.</span><span class="n">has_enough_file_descriptors</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.is_fsync_supported" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_fsync_supported</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.is_fsync_supported" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Checks if the running kernel has Valve's futex patch applied.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_fsync_supported</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Checks if the running kernel has Valve&#39;s futex patch applied.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">FSYNC_SUPPORT_CHECK</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;off&quot;</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;futex patch check for fsync was manually disabled&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">fsync</span><span class="o">.</span><span class="n">is_fsync_supported</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.is_gstreamer_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_gstreamer_build</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.is_gstreamer_build" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Returns whether a wine build ships with gstreamer libraries.
This allows to set GST_PLUGIN_SYSTEM_PATH_1_0 for the builds that support it.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_gstreamer_build</span><span class="p">(</span><span class="n">wine_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a wine build ships with gstreamer libraries.</span>
<span class="sd">    This allows to set GST_PLUGIN_SYSTEM_PATH_1_0 for the builds that support it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;lib64/gstreamer-1.0&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.is_installed_systemwide" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_installed_systemwide</span><span class="p">()</span></code>


<a href="#lutris.util.wine.wine.is_installed_systemwide" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Return whether Wine is installed outside of Lutris</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_installed_systemwide</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Return whether Wine is installed outside of Lutris&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">build</span> <span class="ow">in</span> <span class="n">WINE_PATHS</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">find_executable</span><span class="p">(</span><span class="n">build</span><span class="p">):</span>
            <span class="c1"># if wine64 is installed but not wine32, don&#39;t consider it</span>
            <span class="c1"># a system-wide installation.</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">build</span> <span class="o">==</span> <span class="s2">&quot;wine&quot;</span> <span class="ow">and</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="s2">&quot;/usr/lib/wine/wine64&quot;</span><span class="p">)</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="s2">&quot;/usr/lib/wine/wine&quot;</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;wine32 is missing from system&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.is_mingw_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_mingw_build</span><span class="p">(</span><span class="n">wine_path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.is_mingw_build" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Returns whether a wine build is built with MingW</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_mingw_build</span><span class="p">(</span><span class="n">wine_path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a wine build is built with MingW&quot;&quot;&quot;</span>
    <span class="n">base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">wine_path</span><span class="p">))</span>
    <span class="c1"># A MingW build has an .exe file while a GCC one will have a .so</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;lib/wine/iexplore.exe&quot;</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.is_version_esync" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_version_esync</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.is_version_esync" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Determines if a Wine build is Esync capable</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td></td>
        <td><p>the path to the Wine version</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True is the build is Esync capable</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_version_esync</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Determines if a Wine build is Esync capable</span>

<span class="sd">    Params:</span>
<span class="sd">        path: the path to the Wine version</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True is the build is Esync capable</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid path &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">_version_number</span><span class="p">,</span> <span class="n">version_prefix</span><span class="p">,</span> <span class="n">version_suffix</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
    <span class="n">esync_compatible_versions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;esync&quot;</span><span class="p">,</span> <span class="s2">&quot;lutris&quot;</span><span class="p">,</span> <span class="s2">&quot;tkg&quot;</span><span class="p">,</span> <span class="s2">&quot;ge&quot;</span><span class="p">,</span> <span class="s2">&quot;proton&quot;</span><span class="p">,</span> <span class="s2">&quot;staging&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">esync_version</span> <span class="ow">in</span> <span class="n">esync_compatible_versions</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">esync_version</span> <span class="ow">in</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="n">wine_version</span> <span class="o">=</span> <span class="n">get_wine_version</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">wine_version</span><span class="p">:</span>
        <span class="n">wine_version</span> <span class="o">=</span> <span class="n">wine_version</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">return</span> <span class="s2">&quot;esync&quot;</span> <span class="ow">in</span> <span class="n">wine_version</span> <span class="ow">or</span> <span class="s2">&quot;staging&quot;</span> <span class="ow">in</span> <span class="n">wine_version</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.is_version_fsync" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_version_fsync</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.is_version_fsync" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Determines if a Wine build is Fsync capable</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td></td>
        <td><p>the path to the Wine version</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True is the build is Fsync capable</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_version_fsync</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Determines if a Wine build is Fsync capable</span>

<span class="sd">    Params:</span>
<span class="sd">        path: the path to the Wine version</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True is the build is Fsync capable</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid path &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">_version_number</span><span class="p">,</span> <span class="n">version_prefix</span><span class="p">,</span> <span class="n">version_suffix</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
    <span class="n">fsync_compatible_versions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fsync&quot;</span><span class="p">,</span> <span class="s2">&quot;lutris&quot;</span><span class="p">,</span> <span class="s2">&quot;ge&quot;</span><span class="p">,</span> <span class="s2">&quot;proton&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">fsync_version</span> <span class="ow">in</span> <span class="n">fsync_compatible_versions</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">fsync_version</span> <span class="ow">in</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="n">wine_version</span> <span class="o">=</span> <span class="n">get_wine_version</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">wine_version</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;fsync&quot;</span> <span class="ow">in</span> <span class="n">wine_version</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.is_version_installed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_version_installed</span><span class="p">(</span><span class="n">version</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.is_version_installed" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_version_installed</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">get_wine_version_exe</span><span class="p">(</span><span class="n">version</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.set_drive_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_drive_path</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">letter</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.set_drive_path" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Changes the path to a Wine drive</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_drive_path</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">letter</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Changes the path to a Wine drive&quot;&quot;&quot;</span>
    <span class="n">dosdevices_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="s2">&quot;dosdevices&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">dosdevices_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;Invalid prefix path </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">prefix</span><span class="p">)</span>
    <span class="n">drive_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dosdevices_path</span><span class="p">,</span> <span class="n">letter</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">drive_path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">drive_path</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Linking </span><span class="si">%s</span><span class="s2"> to </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">drive_path</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">drive_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="lutris.util.wine.wine.use_lutris_runtime" class="doc doc-heading">
<code class="highlight language-python"><span class="n">use_lutris_runtime</span><span class="p">(</span><span class="n">wine_path</span><span class="p">,</span> <span class="n">force_disable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.wine.wine.use_lutris_runtime" class="headerlink" title="Permanent link">&para;</a></h4>

    <div class="doc doc-contents ">

      <p>Returns whether to use the Lutris runtime.
The runtime can be forced to be disabled, otherwise it's disabled
automatically if Wine is installed system wide.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/wine/wine.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">use_lutris_runtime</span><span class="p">(</span><span class="n">wine_path</span><span class="p">,</span> <span class="n">force_disable</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns whether to use the Lutris runtime.</span>
<span class="sd">    The runtime can be forced to be disabled, otherwise it&#39;s disabled</span>
<span class="sd">    automatically if Wine is installed system wide.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">force_disable</span> <span class="ow">or</span> <span class="n">runtime</span><span class="o">.</span><span class="n">RUNTIME_DISABLED</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Runtime is forced disabled&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">WINE_DIR</span> <span class="ow">in</span> <span class="n">wine_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is provided by Lutris, using runtime&quot;</span><span class="p">,</span> <span class="n">wine_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">is_installed_systemwide</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using system wine version, not using runtime&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Using Lutris runtime for wine&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.xdgshortcuts" class="doc doc-heading">
        <code>xdgshortcuts</code>



<a href="#lutris.util.xdgshortcuts" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>XDG shortcuts handling</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.xdgshortcuts.create_launcher" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_launcher</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">game_name</span><span class="p">,</span> <span class="n">desktop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.xdgshortcuts.create_launcher" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Create a .desktop file.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/xdgshortcuts.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_launcher</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">game_name</span><span class="p">,</span> <span class="n">desktop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a .desktop file.&quot;&quot;&quot;</span>

    <span class="n">desktop_dir</span> <span class="o">=</span> <span class="n">GLib</span><span class="o">.</span><span class="n">get_user_special_dir</span><span class="p">(</span><span class="n">GLib</span><span class="o">.</span><span class="n">UserDirectory</span><span class="o">.</span><span class="n">DIRECTORY_DESKTOP</span><span class="p">)</span>
    <span class="n">launcher_content</span> <span class="o">=</span> <span class="n">dedent</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        [Desktop Entry]</span>
<span class="sd">        Type=Application</span>
<span class="sd">        Name={}</span>
<span class="sd">        Icon={}</span>
<span class="sd">        Exec=env LUTRIS_SKIP_INIT=1 lutris lutris:rungameid/{}</span>
<span class="sd">        Categories=Game</span>
<span class="sd">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">game_name</span><span class="p">,</span> <span class="s2">&quot;lutris_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">game_slug</span><span class="p">),</span> <span class="n">game_id</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">launcher_filename</span> <span class="o">=</span> <span class="n">get_xdg_basename</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">)</span>
    <span class="n">tmp_launcher_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">CACHE_DIR</span><span class="p">,</span> <span class="n">launcher_filename</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">tmp_launcher_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmp_launcher</span><span class="p">:</span>
        <span class="n">tmp_launcher</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">launcher_content</span><span class="p">)</span>
        <span class="n">tmp_launcher</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span>
        <span class="n">tmp_launcher_path</span><span class="p">,</span>
        <span class="n">stat</span><span class="o">.</span><span class="n">S_IREAD</span>
        <span class="o">|</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IWRITE</span>
        <span class="o">|</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IEXEC</span>
        <span class="o">|</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IRGRP</span>
        <span class="o">|</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IWGRP</span>
        <span class="o">|</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IXGRP</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">desktop</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">desktop_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">launcher_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">desktop_dir</span><span class="p">,</span> <span class="n">launcher_filename</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Creating Desktop icon in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">launcher_path</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">tmp_launcher_path</span><span class="p">,</span> <span class="n">launcher_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">menu</span><span class="p">:</span>
        <span class="n">menu_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">GLib</span><span class="o">.</span><span class="n">get_user_data_dir</span><span class="p">(),</span> <span class="s2">&quot;applications&quot;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">menu_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">launcher_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">menu_path</span><span class="p">,</span> <span class="n">launcher_filename</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Creating menu launcher in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">launcher_path</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">tmp_launcher_path</span><span class="p">,</span> <span class="n">launcher_path</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tmp_launcher_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.xdgshortcuts.desktop_launcher_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">desktop_launcher_exists</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">)</span></code>


<a href="#lutris.util.xdgshortcuts.desktop_launcher_exists" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return True if there is an existing desktop icon for a game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/xdgshortcuts.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">desktop_launcher_exists</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return True if there is an existing desktop icon for a game&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">get_launcher_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.xdgshortcuts.get_launcher_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_launcher_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">)</span></code>


<a href="#lutris.util.xdgshortcuts.get_launcher_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the path of a XDG game launcher.
When legacy is set, it will return the old path with only the slug,
otherwise it will return the path with slug + id</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/xdgshortcuts.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_launcher_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the path of a XDG game launcher.</span>
<span class="sd">    When legacy is set, it will return the old path with only the slug,</span>
<span class="sd">    otherwise it will return the path with slug + id</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">desktop_dir</span> <span class="o">=</span> <span class="n">GLib</span><span class="o">.</span><span class="n">get_user_special_dir</span><span class="p">(</span><span class="n">GLib</span><span class="o">.</span><span class="n">UserDirectory</span><span class="o">.</span><span class="n">DIRECTORY_DESKTOP</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">desktop_dir</span><span class="p">,</span> <span class="n">get_xdg_basename</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">base_dir</span><span class="o">=</span><span class="n">desktop_dir</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.xdgshortcuts.get_menu_launcher_path" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_menu_launcher_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">)</span></code>


<a href="#lutris.util.xdgshortcuts.get_menu_launcher_path" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the path to a XDG menu launcher, prioritizing legacy paths if
they exist</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/xdgshortcuts.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_menu_launcher_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the path to a XDG menu launcher, prioritizing legacy paths if</span>
<span class="sd">    they exist</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">menu_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">GLib</span><span class="o">.</span><span class="n">get_user_data_dir</span><span class="p">(),</span> <span class="s2">&quot;applications&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">menu_dir</span><span class="p">,</span> <span class="n">get_xdg_basename</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">base_dir</span><span class="o">=</span><span class="n">menu_dir</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.xdgshortcuts.get_xdg_basename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_xdg_basename</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">base_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#lutris.util.xdgshortcuts.get_xdg_basename" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the filename for .desktop shortcuts</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/xdgshortcuts.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_xdg_basename</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">base_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the filename for .desktop shortcuts&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">base_dir</span><span class="p">:</span>
        <span class="c1"># When base dir is provided, lookup possible combinations</span>
        <span class="c1"># and return the first match</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">.desktop&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">game_slug</span><span class="p">),</span>
            <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">-</span><span class="si">{}</span><span class="s2">.desktop&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">),</span>
            <span class="s2">&quot;net.lutris.</span><span class="si">{}</span><span class="s2">-</span><span class="si">{}</span><span class="s2">.desktop&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">),</span>
        <span class="p">]:</span>
            <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">path</span><span class="p">)):</span>
                <span class="k">return</span> <span class="n">path</span>

    <span class="k">return</span> <span class="s2">&quot;net.lutris.</span><span class="si">{}</span><span class="s2">-</span><span class="si">{}</span><span class="s2">.desktop&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.xdgshortcuts.get_xdg_entry" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_xdg_entry</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span></code>


<a href="#lutris.util.xdgshortcuts.get_xdg_entry" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return the path for specific user folders</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/xdgshortcuts.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_xdg_entry</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the path for specific user folders&quot;&quot;&quot;</span>
    <span class="n">special_dir</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;DESKTOP&quot;</span><span class="p">:</span> <span class="n">GLib</span><span class="o">.</span><span class="n">UserDirectory</span><span class="o">.</span><span class="n">DIRECTORY_DESKTOP</span><span class="p">,</span>
        <span class="s2">&quot;MUSIC&quot;</span><span class="p">:</span> <span class="n">GLib</span><span class="o">.</span><span class="n">UserDirectory</span><span class="o">.</span><span class="n">DIRECTORY_MUSIC</span><span class="p">,</span>
        <span class="s2">&quot;PICTURES&quot;</span><span class="p">:</span> <span class="n">GLib</span><span class="o">.</span><span class="n">UserDirectory</span><span class="o">.</span><span class="n">DIRECTORY_PICTURES</span><span class="p">,</span>
        <span class="s2">&quot;VIDEOS&quot;</span><span class="p">:</span> <span class="n">GLib</span><span class="o">.</span><span class="n">UserDirectory</span><span class="o">.</span><span class="n">DIRECTORY_VIDEOS</span><span class="p">,</span>
        <span class="s2">&quot;DOCUMENTS&quot;</span><span class="p">:</span> <span class="n">GLib</span><span class="o">.</span><span class="n">UserDirectory</span><span class="o">.</span><span class="n">DIRECTORY_DOCUMENTS</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">directory</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">directory</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">special_dir</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">directory</span> <span class="o">+</span> <span class="s2">&quot; not supported. Only those folders are supported: &quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">special_dir</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">GLib</span><span class="o">.</span><span class="n">get_user_special_dir</span><span class="p">(</span><span class="n">special_dir</span><span class="p">[</span><span class="n">directory</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.xdgshortcuts.menu_launcher_exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">menu_launcher_exists</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">)</span></code>


<a href="#lutris.util.xdgshortcuts.menu_launcher_exists" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Return True if there is an existing application menu entry for a game</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/xdgshortcuts.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">menu_launcher_exists</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return True if there is an existing application menu entry for a game&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">get_menu_launcher_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.xdgshortcuts.remove_launcher" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_launcher</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">desktop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#lutris.util.xdgshortcuts.remove_launcher" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Remove existing .desktop file.</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/xdgshortcuts.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_launcher</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">desktop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Remove existing .desktop file.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">desktop</span><span class="p">:</span>
        <span class="n">launcher_path</span> <span class="o">=</span> <span class="n">get_launcher_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">launcher_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">launcher_path</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">menu</span><span class="p">:</span>
        <span class="n">menu_path</span> <span class="o">=</span> <span class="n">get_menu_launcher_path</span><span class="p">(</span><span class="n">game_slug</span><span class="p">,</span> <span class="n">game_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">system</span><span class="o">.</span><span class="n">path_exists</span><span class="p">(</span><span class="n">menu_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">menu_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="lutris.util.yaml" class="doc doc-heading">
        <code>yaml</code>



<a href="#lutris.util.yaml" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Utility functions for YAML handling</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="lutris.util.yaml.read_yaml_from_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_yaml_from_file</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>


<a href="#lutris.util.yaml.read_yaml_from_file" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Read filename and return parsed yaml</p>

        <details class="quote">
          <summary>Source code in <code>lutris/util/yaml.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_yaml_from_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Read filename and return parsed yaml&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path_exists</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">yaml_content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">yaml_file</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">yaml</span><span class="o">.</span><span class="n">scanner</span><span class="o">.</span><span class="n">ScannerError</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">ParserError</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;error parsing file </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            <span class="n">yaml_content</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">return</span> <span class="n">yaml_content</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="lutris.util.yaml.write_yaml_to_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_yaml_to_file</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span></code>


<a href="#lutris.util.yaml.write_yaml_to_file" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>lutris/util/yaml.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_yaml_to_file</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">filepath</span><span class="p">):</span>
    <span class="n">yaml_config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_dump</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">filehandler</span><span class="p">:</span>
        <span class="n">filehandler</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_config</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../sysoptions/" class="md-footer__link md-footer__link--prev" aria-label="Previous: sysoptions" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              sysoptions
            </div>
          </div>
        </a>
      
      
        
        <a href="audio/" class="md-footer__link md-footer__link--next" aria-label="Next: audio" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              audio
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.bd0b6b67.min.js"}</script>
    
    
      <script src="../../../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>